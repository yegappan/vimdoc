<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Vim: /home/travis/build/yegappan/vimdoc/src/evalvars.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vim
   </div>
   <div id="projectbrief">Vim Editor Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">evalvars.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="evalvars_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* vi:set ts=8 sts=4 sw=4 noet:</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * VIM - Vi IMproved    by Bram Moolenaar</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Do &quot;:help uganda&quot;  in Vim to read copying and usage conditions.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Do &quot;:help credits&quot; in Vim to see a list of people who contributed.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * See README.txt for an overview of the Vim source code.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * evalvars.c: functions for dealing with variables</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vim_8h.html">vim.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#if defined(FEAT_EVAL) || defined(PROTO)</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">   18</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">e_letunexp</a> = <a class="code" href="vim_8h.html#aba49c317732ed2f938129061ee53fe32">N_</a>(<span class="stringliteral">&quot;E18: Unexpected characters in :let&quot;</span>);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a2884669bccf5f17eb4db4c595237ff44">   20</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structdictitem___s.html">dictitem_T</a>   <a class="code" href="evalvars_8c.html#a2884669bccf5f17eb4db4c595237ff44">globvars_var</a>;       <span class="comment">// variable used for g:</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a053e45c94297be1f4be7c51510b6c5ad">   21</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structdictvar___s.html">dict_T</a>       <a class="code" href="evalvars_8c.html#a053e45c94297be1f4be7c51510b6c5ad">globvardict</a>;        <span class="comment">// Dictionary with g: variables</span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">   22</a></span>&#160;<span class="preprocessor">#define globvarht globvardict.dv_hashtab</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * Old Vim variables such as &quot;v:version&quot; are also available without the &quot;v:&quot;.</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * Also in functions.  We need a special hashtable for them.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="evalvars_8c.html#afeee35b957dfd85bd970442c33c7f36b">   28</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structhashtable___s.html">hashtab_T</a>    <a class="code" href="evalvars_8c.html#afeee35b957dfd85bd970442c33c7f36b">compat_hashtab</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * Array to hold the value of v: variables.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * The value is in a dictitem, so that it can also be used in the v: scope.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * The reason to use this table anyway is for very quick access to the</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * variables with the VV_ defines.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// values for vv_flags:</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">   38</a></span>&#160;<span class="preprocessor">#define VV_COMPAT   1   // compatible, also used without &quot;v:&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a7d61239a6766625c6b7a8805d056dd72">   39</a></span>&#160;<span class="preprocessor">#define VV_RO       2   // read-only</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">   40</a></span>&#160;<span class="preprocessor">#define VV_RO_SBX   4   // read-only in the sandbox</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">   42</a></span>&#160;<span class="preprocessor">#define VV_NAME(s, t)   s, {{t, 0, {0}}, 0, {0}}</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structvimvar.html">   44</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structvimvar.html">vimvar</a></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structvimvar.html#accd564fc6c3219a54ca965a749057c4a">   46</a></span>&#160;    <span class="keywordtype">char</span>    *<a class="code" href="structvimvar.html#accd564fc6c3219a54ca965a749057c4a">vv_name</a>;   <span class="comment">// name of variable, without v:</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">   47</a></span>&#160;    <a class="code" href="structdictitem16___s.html">dictitem16_T</a> <a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>;     <span class="comment">// value and name for key (max 16 chars!)</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structvimvar.html#adf0911e3d2b644ee9127d386eb81ee75">   48</a></span>&#160;    <span class="keywordtype">char</span>    <a class="code" href="structvimvar.html#adf0911e3d2b644ee9127d386eb81ee75">vv_flags</a>;   <span class="comment">// VV_COMPAT, VV_RO, VV_RO_SBX</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;} <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#afb9987aac1d89e5494912ae1a1b5805b">VV_LEN</a>] =</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// The order here must match the VV_ defines in vim.h!</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// Initializing a union does not work, leave tv.vval empty to get zero&#39;s.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;count&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a>+<a class="code" href="evalvars_8c.html#a7d61239a6766625c6b7a8805d056dd72">VV_RO</a>},</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;count1&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;prevcount&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;errmsg&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), <a class="code" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a>},</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;warningmsg&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), 0},</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;statusmsg&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), 0},</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;shell_error&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a>+VV_RO},</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;this_session&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), <a class="code" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a>},</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;version&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a>+VV_RO},</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;lnum&quot;</span>,         <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a>},</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;termresponse&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fname&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;lang&quot;</span>,         <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;lc_time&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;ctype&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;charconvert_from&quot;</span>, <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;charconvert_to&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fname_in&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fname_out&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fname_new&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fname_diff&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;cmdarg&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;foldstart&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a>},</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;foldend&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a>},</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;folddashes&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), <a class="code" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a>},</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;foldlevel&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), <a class="code" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a>},</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;progname&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;servername&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;dying&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;exception&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;throwpoint&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;register&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;cmdbang&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;insertmode&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;val&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>), VV_RO},</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;key&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>), VV_RO},</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;profiling&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fcs_reason&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;fcs_choice&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), 0},</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;beval_bufnr&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;beval_winnr&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;beval_winid&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;beval_lnum&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;beval_col&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;beval_text&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;scrollstart&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), 0},</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;swapname&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;swapchoice&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), 0},</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;swapcommand&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;char&quot;</span>,         <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), 0},</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;mouse_win&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;mouse_winid&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;mouse_lnum&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;mouse_col&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;operator&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;searchforward&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;hlsearch&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;oldfiles&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>), 0},</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;windowid&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;progpath&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;completed_item&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a>), VV_RO},</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;option_new&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;option_old&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;option_oldlocal&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;option_oldglobal&quot;</span>, <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;option_command&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;option_type&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;errors&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>), 0},</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;false&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da">VAR_SPECIAL</a>), VV_RO},</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;true&quot;</span>,         <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da">VAR_SPECIAL</a>), VV_RO},</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;null&quot;</span>,         <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da">VAR_SPECIAL</a>), VV_RO},</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;none&quot;</span>,         <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da">VAR_SPECIAL</a>), VV_RO},</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;vim_did_enter&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;testing&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), 0},</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_number&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_string&quot;</span>,     <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_func&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_list&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_dict&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_float&quot;</span>,      <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_bool&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_none&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_job&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_channel&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;t_blob&quot;</span>,       <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;termrfgresp&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;termrbgresp&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;termu7resp&quot;</span>,   <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;termstyleresp&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;termblinkresp&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>), VV_RO},</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;event&quot;</span>,        <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a>), VV_RO},</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;versionlong&quot;</span>,  <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {<a class="code" href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a>(<span class="stringliteral">&quot;echospace&quot;</span>,    <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>), VV_RO},</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// shorthand</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aa77ebc97b612830f3fd8036652158f42">  149</a></span>&#160;<span class="preprocessor">#define vv_type     vv_di.di_tv.v_type</span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a4fbe603e5605f9012f18cbb947411ced">  150</a></span>&#160;<span class="preprocessor">#define vv_nr       vv_di.di_tv.vval.v_number</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a9944f3b09f652b4a95d12a18775c0706">  151</a></span>&#160;<span class="preprocessor">#define vv_float    vv_di.di_tv.vval.v_float</span></div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ae5d955bc3a3940e050a4441dc70e1338">  152</a></span>&#160;<span class="preprocessor">#define vv_str      vv_di.di_tv.vval.v_string</span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ab3512c1cbc83626e0f954899c60827c6">  153</a></span>&#160;<span class="preprocessor">#define vv_list     vv_di.di_tv.vval.v_list</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a54c481215115a02082d1b4b2ae2e2ec1">  154</a></span>&#160;<span class="preprocessor">#define vv_dict     vv_di.di_tv.vval.v_dict</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a29e29efc9b6a081e91e62cbc9ead1560">  155</a></span>&#160;<span class="preprocessor">#define vv_blob     vv_di.di_tv.vval.v_blob</span></div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1ab71a7f2f3dde05efecbba754c25d65">  156</a></span>&#160;<span class="preprocessor">#define vv_tv       vv_di.di_tv</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ac5e111ffb90a4821f63ec113134a45ac">  158</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structdictitem___s.html">dictitem_T</a>   <a class="code" href="evalvars_8c.html#ac5e111ffb90a4821f63ec113134a45ac">vimvars_var</a>;        <span class="comment">// variable used for v:</span></div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a0eee781c74994bc265c20eb200f3226d">  159</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structdictvar___s.html">dict_T</a>       <a class="code" href="evalvars_8c.html#a0eee781c74994bc265c20eb200f3226d">vimvardict</a>;     <span class="comment">// Dictionary with v: variables</span></div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">  160</a></span>&#160;<span class="preprocessor">#define vimvarht  vimvardict.dv_hashtab</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">// for VIM_VERSION_ defines</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="version_8h.html">version.h</a>&quot;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> * Array to hold the hashtab with variables local to each sourced script.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> * Each item holds a variable (nameless) that points to the dict_T.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="structscriptvar___t.html">  169</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structscriptvar___t.html#a0fb9cff09f31831b88966becb3928f39">  171</a></span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  <a class="code" href="structscriptvar___t.html#a0fb9cff09f31831b88966becb3928f39">sv_var</a>;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structscriptvar___t.html#af5f19006f0239ac7ee776ea9f12e113f">  172</a></span>&#160;    <a class="code" href="structdictvar___s.html">dict_T</a>  <a class="code" href="structscriptvar___t.html#af5f19006f0239ac7ee776ea9f12e113f">sv_dict</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;} <a class="code" href="structscriptvar___t.html">scriptvar_T</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a15a1bd657aa4dd61e877641dd8801aac">  175</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structgrowarray.html">garray_T</a>     <a class="code" href="evalvars_8c.html#a15a1bd657aa4dd61e877641dd8801aac">ga_scripts</a> = {0, 0, <span class="keyword">sizeof</span>(<a class="code" href="structscriptvar___t.html">scriptvar_T</a> *), 4, NULL};</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="evalvars_8c.html#abc1f4b1a7e7951ee61e32712945a31f7">  176</a></span>&#160;<span class="preprocessor">#define SCRIPT_SV(id) (((scriptvar_T **)ga_scripts.ga_data)[(id) - 1])</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">  177</a></span>&#160;<span class="preprocessor">#define SCRIPT_VARS(id) (SCRIPT_SV(id)-&gt;sv_dict.dv_hashtab)</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a28cd67150437fe84826c84a61da5e743">ex_let_const</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, <span class="keywordtype">int</span> is_const);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="keyword">static</span> char_u *<a class="code" href="evalvars_8c.html#ad4e5f408472beefac8799d25cbcaa36c">skip_var_one</a>(char_u *arg);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#acc96a00d36fb60496b146ab1f7fc1b1a">list_glob_vars</a>(<span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a29f173ee2fa30e9cc0d02140f7932b20">list_buf_vars</a>(<span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a1aa6ece23d7728dca0ba2d36bfc461bc">list_win_vars</a>(<span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#ac9ef8cc85137b9b427134a9cf123ec9b">list_tab_vars</a>(<span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="keyword">static</span> char_u *<a class="code" href="evalvars_8c.html#a53176055cff2cdad2c6584a2ecc3c717">list_arg_vars</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, char_u *arg, <span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">static</span> char_u *<a class="code" href="evalvars_8c.html#a144828530578e8eefc19c48684e78819">ex_let_one</a>(char_u *arg, <a class="code" href="structtypval___t.html">typval_T</a> *tv, <span class="keywordtype">int</span> copy, <span class="keywordtype">int</span> is_const, char_u *endchars, char_u *op);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a453c44ffc0dfd8cc80ac8b1f64dceb5f">ex_unletlock</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, char_u *argstart, <span class="keywordtype">int</span> deep);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="evalvars_8c.html#aa581ed1351be295607503d7be05591a2">do_unlet_var</a>(<a class="code" href="structlval___s.html">lval_T</a> *lp, char_u *name_end, <span class="keywordtype">int</span> forceit);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="evalvars_8c.html#ac6fd1c0db202684ad2b4849ac0936066">do_lock_var</a>(<a class="code" href="structlval___s.html">lval_T</a> *lp, char_u *name_end, <span class="keywordtype">int</span> deep, <span class="keywordtype">int</span> lock);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(<a class="code" href="structtypval___t.html">typval_T</a> *tv, <span class="keywordtype">int</span> deep, <span class="keywordtype">int</span> lock);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#aaa1c56a23cae60792f4b4a96d5960fa3">delete_var</a>(<a class="code" href="structhashtable___s.html">hashtab_T</a> *ht, <a class="code" href="structhashitem___s.html">hashitem_T</a> *hi);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a421ac3a5e1112ac11e10b07a0dc43335">list_one_var</a>(<a class="code" href="structdictitem___s.html">dictitem_T</a> *v, <span class="keywordtype">char</span> *prefix, <span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="evalvars_8c.html#a16aff3e573f44afb484d714e96a4c088">list_one_var_a</a>(<span class="keywordtype">char</span> *prefix, char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> type, char_u *<span class="keywordtype">string</span>, <span class="keywordtype">int</span> *first);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> * Initialize global and vim special variables</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a58275fc5ea908996ec5598f27ff77389">  199</a></span>&#160;<a class="code" href="evalvars_8c.html#a58275fc5ea908996ec5598f27ff77389">evalvars_init</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">int</span>         i;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvimvar.html">vimvar</a>   *p;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="evalvars_8c.html#ab3b2e9de18d3cf1c9632dcdcb491bae7">init_var_dict</a>(&amp;globvardict, &amp;globvars_var, <a class="code" href="structs_8h.html#a56766bb38bc2f9cacdfb6c9fac5daca1">VAR_DEF_SCOPE</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="evalvars_8c.html#ab3b2e9de18d3cf1c9632dcdcb491bae7">init_var_dict</a>(&amp;vimvardict, &amp;vimvars_var, <a class="code" href="structs_8h.html#aa8d82b16748a121dcb5b869f762cac90">VAR_SCOPE</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    vimvardict.<a class="code" href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dv_lock</a> = <a class="code" href="structs_8h.html#a1cec23a00344e815cd4004724d91ae8d">VAR_FIXED</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="hashtab_8c.html#a1e75fcb634cc34f2a968e47d1b37381a">hash_init</a>(&amp;compat_hashtab);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vim_8h.html#afb9987aac1d89e5494912ae1a1b5805b">VV_LEN</a>; ++i)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    p = &amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[i];</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(p-&gt;<a class="code" href="structvimvar.html#accd564fc6c3219a54ca965a749057c4a">vv_name</a>) &gt; <a class="code" href="structs_8h.html#a6e5df630d8e8d3d1bfa9db30918774fc">DICTITEM16_KEY_LEN</a>)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="message_8c.html#a7926d7fa9a35dc0f5bac051dec01240a">iemsg</a>(<span class="stringliteral">&quot;INTERNAL: name too long, increase size of dictitem16_T&quot;</span>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="main_8c.html#ac1f9aa0153be96581e7f01eddf1c32e0">getout</a>(1);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#ada3142e83d7704ec4458697507f52d22">di_key</a>, p-&gt;<a class="code" href="structvimvar.html#accd564fc6c3219a54ca965a749057c4a">vv_name</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structvimvar.html#adf0911e3d2b644ee9127d386eb81ee75">vv_flags</a> &amp; <a class="code" href="evalvars_8c.html#a7d61239a6766625c6b7a8805d056dd72">VV_RO</a>)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a29feab6c829eff9feb6d6cdbc5b6eebc">di_flags</a> = <a class="code" href="structs_8h.html#ae0c626ccf1ee8fae352bfd2e406b245f">DI_FLAGS_RO</a> | <a class="code" href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structvimvar.html#adf0911e3d2b644ee9127d386eb81ee75">vv_flags</a> &amp; <a class="code" href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a>)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a29feab6c829eff9feb6d6cdbc5b6eebc">di_flags</a> = <a class="code" href="structs_8h.html#acec246d6172bf272a48cd63a3def63a5">DI_FLAGS_RO_SBX</a> | <a class="code" href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a29feab6c829eff9feb6d6cdbc5b6eebc">di_flags</a> = <a class="code" href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// add to v: scope dict, unless the value is not always available</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (p-&gt;vv_type != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="hashtab_8c.html#af1235e0f7163089ec19df22a8af6d996">hash_add</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>, p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#ada3142e83d7704ec4458697507f52d22">di_key</a>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structvimvar.html#adf0911e3d2b644ee9127d386eb81ee75">vv_flags</a> &amp; <a class="code" href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a>)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="comment">// add to compat scope dict</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="hashtab_8c.html#af1235e0f7163089ec19df22a8af6d996">hash_add</a>(&amp;compat_hashtab, p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#ada3142e83d7704ec4458697507f52d22">di_key</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a0bb9de9cf754abc84120e768ee7f2a2e">VV_VERSION</a>].vv_nr = <a class="code" href="version_8h.html#ac801bfe624377c640fd666d5fc012ae5">VIM_VERSION_100</a>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a70965edafe8b5b7afb7c9b4ed639c6bc">VV_VERSIONLONG</a>].vv_nr = <a class="code" href="version_8h.html#ac801bfe624377c640fd666d5fc012ae5">VIM_VERSION_100</a> * 10000 + <a class="code" href="version_8c.html#a744d1f9c524ff7ac54d80cf450f0bb52">highest_patch</a>();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#aa95c2566690fc7ae3420e9af24050bb9">VV_SEARCHFORWARD</a>, 1L);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a5ffa076da6ef82ba8ca5aa1dc35de913">VV_HLSEARCH</a>, 1L);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="evalvars_8c.html#aed4e9b31ada66e39400e949f0b854aff">set_vim_var_dict</a>(<a class="code" href="vim_8h.html#a9eb1b3dfbafc685c0e29fc04667a0679">VV_COMPLETED_ITEM</a>, <a class="code" href="dict_8c.html#ac1738050f42c4915ea1d9436f2ad2cd3">dict_alloc_lock</a>(<a class="code" href="structs_8h.html#a1cec23a00344e815cd4004724d91ae8d">VAR_FIXED</a>));</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="evalvars_8c.html#a19036292688dec52327531ca9e34b11e">set_vim_var_list</a>(<a class="code" href="vim_8h.html#a2e15e501f4d7f74c33c2320362fa1537">VV_ERRORS</a>, <a class="code" href="list_8c.html#aa256fec511705ecf729a14faa62030ae">list_alloc</a>());</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="evalvars_8c.html#aed4e9b31ada66e39400e949f0b854aff">set_vim_var_dict</a>(<a class="code" href="vim_8h.html#aa7a28ee927e7f718acf6ed379b0b73f5">VV_EVENT</a>, <a class="code" href="dict_8c.html#ac1738050f42c4915ea1d9436f2ad2cd3">dict_alloc_lock</a>(<a class="code" href="structs_8h.html#a1cec23a00344e815cd4004724d91ae8d">VAR_FIXED</a>));</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a88a5588993e66928b2b9e3bc77555a01">VV_FALSE</a>, <a class="code" href="vim_8h.html#a4bc37d2ce945e5de8d1d94f338ccd74a">VVAL_FALSE</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a484d78ce2d5cce522ca47f08054173bc">VV_TRUE</a>, <a class="code" href="vim_8h.html#aa829e7c088b1abbad4bfb887f65a766d">VVAL_TRUE</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#aadd00bde79dde42a3380c60381a0c7e6">VV_NONE</a>, <a class="code" href="vim_8h.html#aff8d3044d7812c7120eadc0d84bd7e8d">VVAL_NONE</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a89484f8a54e3ba9260c65ff1005fa082">VV_NULL</a>, <a class="code" href="vim_8h.html#aa68b06f527f41f1f7c5ade4dbbfa230b">VVAL_NULL</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a305f8c03e89400344e8629529ddf9197">VV_TYPE_NUMBER</a>,  <a class="code" href="vim_8h.html#a0fdb02273ef595446e21ff2c5117cb59">VAR_TYPE_NUMBER</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#af936994a447c4f02947258f240854a92">VV_TYPE_STRING</a>,  <a class="code" href="vim_8h.html#a7264eca5a93153d142cc9950673105ea">VAR_TYPE_STRING</a>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#aaf7d40bb54c75bbad128f678c291be6f">VV_TYPE_FUNC</a>,    <a class="code" href="vim_8h.html#aa31b359947a03e58f61eee16426b4091">VAR_TYPE_FUNC</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a1500bf49a1c3e46c2632396cc8a4b2d6">VV_TYPE_LIST</a>,    <a class="code" href="vim_8h.html#ab8d61a1e52f11f2cee460d9c0cb482a4">VAR_TYPE_LIST</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#ace0e592989ffad525bea1232b59c8fe2">VV_TYPE_DICT</a>,    <a class="code" href="vim_8h.html#a612ec3adf6b1f203e06efc591f2f1495">VAR_TYPE_DICT</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#aebd001a53fa93d32a3ac121233f5a06c">VV_TYPE_FLOAT</a>,   <a class="code" href="vim_8h.html#abe83fd29b04ce53baae7f4f0a1ae323c">VAR_TYPE_FLOAT</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#abfdca7b13a95e92cd9f101f3deea9159">VV_TYPE_BOOL</a>,    <a class="code" href="vim_8h.html#ad6de41bc533afca274cfb92e9d5efc60">VAR_TYPE_BOOL</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#adcb8810cbd64862ff947b40cff520fe9">VV_TYPE_NONE</a>,    <a class="code" href="vim_8h.html#ab97f26dd614db5afa11d367d7ba2d87d">VAR_TYPE_NONE</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a8501dcee1d36a6214e5c81ca2c047b3d">VV_TYPE_JOB</a>,     <a class="code" href="vim_8h.html#ada90d9bd902c75bc81e54a1c58b331de">VAR_TYPE_JOB</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#aca0eedfb5b9deb8d1fda445684392334">VV_TYPE_CHANNEL</a>, <a class="code" href="vim_8h.html#aad1a5389de09e8197a45ef710890ffc4">VAR_TYPE_CHANNEL</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a9948cfaa115432a4d4c42703efe29e08">VV_TYPE_BLOB</a>,    <a class="code" href="vim_8h.html#afa3314c7ed58fa325ea71539081d177c">VAR_TYPE_BLOB</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<a class="code" href="vim_8h.html#a4995e7bd6ef9d25361bde06176a2cc91">VV_ECHOSPACE</a>,    <a class="code" href="globals_8h.html#a854ae0633fa2dd21e5184503d010cfdc">sc_col</a> - 1);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="evalvars_8c.html#adb4fa9c7a47c8c47e6600779fc4ace37">set_reg_var</a>(0);  <span class="comment">// default for v:register is not 0 but &#39;&quot;&#39;</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">#if defined(EXITFREE) || defined(PROTO)</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> * Free all vim variables information on exit</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;evalvars_clear(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">int</span>         i;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvimvar.html">vimvar</a>   *p;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vim_8h.html#afb9987aac1d89e5494912ae1a1b5805b">VV_LEN</a>; ++i)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    p = &amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[i];</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a8598dcb4c70427feeca5ef94648043d2">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a>(p-&gt;vv_str);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a8598dcb4c70427feeca5ef94648043d2">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="list_8c.html#afc162d62647fe768e612ff347b2357cf">list_unref</a>(p-&gt;vv_list);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        p-&gt;vv_list = NULL;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="hashtab_8c.html#a82320ef8ee0783629a0cab3a74586b75">hash_clear</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="hashtab_8c.html#a1e75fcb634cc34f2a968e47d1b37381a">hash_init</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>);  <span class="comment">// garbage_collect() will access it</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="hashtab_8c.html#a82320ef8ee0783629a0cab3a74586b75">hash_clear</a>(&amp;compat_hashtab);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// global variables</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="evalvars_8c.html#a8f44857a45e97e0416c48c6a2240608e">vars_clear</a>(&amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// Script-local variables. First clear all the variables and in a second</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// loop free the scriptvar_T, because a variable in one script might hold</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// a reference to the whole scope of another script.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>; ++i)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="evalvars_8c.html#a8f44857a45e97e0416c48c6a2240608e">vars_clear</a>(&amp;<a class="code" href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">SCRIPT_VARS</a>(i));</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>; ++i)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(<a class="code" href="evalvars_8c.html#abc1f4b1a7e7951ee61e32712945a31f7">SCRIPT_SV</a>(i));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="misc2_8c.html#afa822cc3cc70a9a0ee394863bcc0c941">ga_clear</a>(&amp;ga_scripts);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a24de209ea4156de49a5c1100ca5e19f2">  303</a></span>&#160;<a class="code" href="evalvars_8c.html#a24de209ea4156de49a5c1100ca5e19f2">garbage_collect_globvars</a>(<span class="keywordtype">int</span> copyID)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a008d7dfe8fa0448c36e4976a2132c432">set_ref_in_ht</a>(&amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>, copyID, NULL);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a3098fa5bf84eb08e74cc103c9dea05dc">  309</a></span>&#160;<a class="code" href="evalvars_8c.html#a3098fa5bf84eb08e74cc103c9dea05dc">garbage_collect_vimvars</a>(<span class="keywordtype">int</span> copyID)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a008d7dfe8fa0448c36e4976a2132c432">set_ref_in_ht</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>, copyID, NULL);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a765752a9902a3ebe1dd908836d2e656e">  315</a></span>&#160;<a class="code" href="evalvars_8c.html#a765752a9902a3ebe1dd908836d2e656e">garbage_collect_scriptvars</a>(<span class="keywordtype">int</span> copyID)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">int</span>     i;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">int</span>     abort = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>; ++i)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    abort = abort || <a class="code" href="eval_8c.html#a008d7dfe8fa0448c36e4976a2132c432">set_ref_in_ht</a>(&amp;<a class="code" href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">SCRIPT_VARS</a>(i), copyID, NULL);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> abort;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> * Set an internal variable to a string value. Creates the variable if it does</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> * not already exist.</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a29111d163af5d31ca6c44f78fd3d2568">  331</a></span>&#160;<a class="code" href="evalvars_8c.html#a29111d163af5d31ca6c44f78fd3d2568">set_internal_string_var</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, char_u *value)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    char_u  *val;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *tvp;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    val = <a class="code" href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a>(value);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (val != NULL)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    tvp = <a class="code" href="eval_8c.html#a32b092e44410620f5d786af45b3f91b4">alloc_string_tv</a>(val);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (tvp != NULL)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03">set_var</a>(name, tvp, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="eval_8c.html#a7f0e833805071bb680d552ba9d80fc53">free_tv</a>(tvp);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1893846d548dcee49d1e7f3deafeb4bd">  349</a></span>&#160;<a class="code" href="evalvars_8c.html#a1893846d548dcee49d1e7f3deafeb4bd">eval_charconvert</a>(</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    char_u  *enc_from,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    char_u  *enc_to,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    char_u  *fname_from,</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    char_u  *fname_to)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">int</span>     err = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a6e9478dea2136077d932566a7c77827f">VV_CC_FROM</a>, enc_from, -1);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a843e9240a11b876003a0211c1f6208a9">VV_CC_TO</a>, enc_to, -1);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, fname_from, -1);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a>, fname_to, -1);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a5a982e1fc757c567c65c94986454312f">eval_to_bool</a>(p_ccv, &amp;err, NULL, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    err = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a6e9478dea2136077d932566a7c77827f">VV_CC_FROM</a>, NULL, -1);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a843e9240a11b876003a0211c1f6208a9">VV_CC_TO</a>, NULL, -1);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, NULL, -1);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a>, NULL, -1);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (err)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor"># if defined(FEAT_POSTSCRIPT) || defined(PROTO)</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="evalvars_8c.html#add781d87a04d6981cad4c9e78ea30ffd">  375</a></span>&#160;<a class="code" href="evalvars_8c.html#add781d87a04d6981cad4c9e78ea30ffd">eval_printexpr</a>(char_u *fname, char_u *args)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">int</span>     err = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, fname, -1);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#aef3f72bcd88b2d137299381ef3abb600">VV_CMDARG</a>, args, -1);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a5a982e1fc757c567c65c94986454312f">eval_to_bool</a>(p_pexpr, &amp;err, NULL, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    err = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, NULL, -1);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#aef3f72bcd88b2d137299381ef3abb600">VV_CMDARG</a>, NULL, -1);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (err)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="os__win32_8c.html#a288b0d3b5efd2d0257cfe8e9e4f647a1">mch_remove</a>(fname);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor"># if defined(FEAT_DIFF) || defined(PROTO)</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a3a722e53d811ac4f9d26960e37c3a807">  397</a></span>&#160;<a class="code" href="evalvars_8c.html#a3a722e53d811ac4f9d26960e37c3a807">eval_diff</a>(</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    char_u  *origfile,</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    char_u  *newfile,</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    char_u  *<a class="code" href="namespacedehqx.html#a2ab00240fd8da3ed787582237ff871fa">outfile</a>)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">int</span>     err = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, origfile, -1);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a9e9af59c59f96e0c21d51ef6c3f39fbf">VV_FNAME_NEW</a>, newfile, -1);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a>, outfile, -1);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    (void)<a class="code" href="eval_8c.html#a5a982e1fc757c567c65c94986454312f">eval_to_bool</a>(p_dex, &amp;err, NULL, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, NULL, -1);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a9e9af59c59f96e0c21d51ef6c3f39fbf">VV_FNAME_NEW</a>, NULL, -1);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a>, NULL, -1);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a0bf7e03dfacd9577fbd2767e95154dfe">  414</a></span>&#160;<a class="code" href="evalvars_8c.html#a0bf7e03dfacd9577fbd2767e95154dfe">eval_patch</a>(</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    char_u  *origfile,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    char_u  *difffile,</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    char_u  *<a class="code" href="namespacedehqx.html#a2ab00240fd8da3ed787582237ff871fa">outfile</a>)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordtype">int</span>     err;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, origfile, -1);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#aacfd50db277145c0ae51bf16e934421a">VV_FNAME_DIFF</a>, difffile, -1);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a>, outfile, -1);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    (void)<a class="code" href="eval_8c.html#a5a982e1fc757c567c65c94986454312f">eval_to_bool</a>(p_pex, &amp;err, NULL, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a>, NULL, -1);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#aacfd50db277145c0ae51bf16e934421a">VV_FNAME_DIFF</a>, NULL, -1);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a>, NULL, -1);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">#if defined(FEAT_SPELL) || defined(PROTO)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"> * Evaluate an expression to a list with suggestions.</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> * For the &quot;expr:&quot; part of &#39;spellsuggest&#39;.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> * Returns NULL when there is an error.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a> *</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a02f3181fa54ccdde3bd01827bc8163bd">  438</a></span>&#160;<a class="code" href="evalvars_8c.html#a02f3181fa54ccdde3bd01827bc8163bd">eval_spell_expr</a>(char_u *badword, char_u *expr)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    save_val;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    rettv;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a>  *list = NULL;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    char_u  *p = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(expr);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// Set &quot;v:val&quot; to the bad word.</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="evalvars_8c.html#a37e36efae4aa7e8ebf60e83f3a695397">prepare_vimvar</a>(<a class="code" href="vim_8h.html#aacc7023d36c64d249c3768bdd162dcf3">VV_VAL</a>, &amp;save_val);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#aacc7023d36c64d249c3768bdd162dcf3">VV_VAL</a>, badword, -1);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="option_8h.html#abb5561ad122dac5df6b719a1243b3445">p_verbose</a> == 0)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    ++emsg_off;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a9ae2372d20627658ee38414871dcf28c">eval1</a>(&amp;p, &amp;rettv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span> (rettv.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;rettv);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        list = rettv.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a886659f986c150dab284f1d5ef64ee00">v_list</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="option_8h.html#abb5561ad122dac5df6b719a1243b3445">p_verbose</a> == 0)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    --emsg_off;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(<a class="code" href="evalvars_8c.html#a287cbe97033bf8e9c93b8d884530601f">get_vim_var_tv</a>(<a class="code" href="vim_8h.html#aacc7023d36c64d249c3768bdd162dcf3">VV_VAL</a>));</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="evalvars_8c.html#abcf1983fd24639b9c65ca187050d8058">restore_vimvar</a>(<a class="code" href="vim_8h.html#aacc7023d36c64d249c3768bdd162dcf3">VV_VAL</a>, &amp;save_val);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> list;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> * &quot;list&quot; is supposed to contain two items: a word and a number.  Return the</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> * word in &quot;pp&quot; and the number as the return value.</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> * Return -1 if anything isn&#39;t right.</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> * Used to get the good word and score from the eval_spell_expr() result.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a852a18c3f08c21ffacc479b7d663c4e3">  474</a></span>&#160;<a class="code" href="evalvars_8c.html#a852a18c3f08c21ffacc479b7d663c4e3">get_spellword</a>(<a class="code" href="structlistvar___s.html">list_T</a> *list, char_u **pp)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="structlistitem___s.html">listitem_T</a>  *li;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    li = list-&gt;<a class="code" href="structlistvar___s.html#ac58b71606ce99566ca5d48f92457efd7">lv_first</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (li == NULL)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    *pp = <a class="code" href="eval_8c.html#ac06b57274a721210cd205e253073bfa9">tv_get_string</a>(&amp;li-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    li = li-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (li == NULL)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="eval_8c.html#a3727d19f20cae99511bbcf9b97aad1d5">tv_get_number</a>(&amp;li-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> * Prepare v: variable &quot;idx&quot; to be used.</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> * Save the current typeval in &quot;save_tv&quot; and clear it.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> * When not used yet add the variable to the v: hashtable.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a37e36efae4aa7e8ebf60e83f3a695397">  496</a></span>&#160;<a class="code" href="evalvars_8c.html#a37e36efae4aa7e8ebf60e83f3a695397">prepare_vimvar</a>(<span class="keywordtype">int</span> idx, <a class="code" href="structtypval___t.html">typval_T</a> *save_tv)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    *save_tv = <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_tv;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_str = NULL;  <span class="comment">// don&#39;t free it now</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="evalvars_8c.html#aa77ebc97b612830f3fd8036652158f42">vv_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="hashtab_8c.html#af1235e0f7163089ec19df22a8af6d996">hash_add</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>, <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#ada3142e83d7704ec4458697507f52d22">di_key</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> * Restore v: variable &quot;idx&quot; to typeval &quot;save_tv&quot;.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> * Note that the v: variable must have been cleared already.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * When no longer defined, remove the variable from the v: hashtable.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="evalvars_8c.html#abcf1983fd24639b9c65ca187050d8058">  510</a></span>&#160;<a class="code" href="evalvars_8c.html#abcf1983fd24639b9c65ca187050d8058">restore_vimvar</a>(<span class="keywordtype">int</span> idx, <a class="code" href="structtypval___t.html">typval_T</a> *save_tv)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_tv = *save_tv;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="evalvars_8c.html#aa77ebc97b612830f3fd8036652158f42">vv_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    hi = <a class="code" href="hashtab_8c.html#ad88600b48e72a2a435f472e63680577b">hash_find</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>, <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#ada3142e83d7704ec4458697507f52d22">di_key</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="message_8c.html#acf47f2acaa03395461e2b233638e69d0">internal_error</a>(<span class="stringliteral">&quot;restore_vimvar()&quot;</span>);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="hashtab_8c.html#a6acdcb55113dfca42811b53109f8b3ba">hash_remove</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>, hi);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> * List Vim variables.</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1e1306edf546fd7d26149a32c854ea56">  529</a></span>&#160;<a class="code" href="evalvars_8c.html#a1e1306edf546fd7d26149a32c854ea56">list_vim_vars</a>(<span class="keywordtype">int</span> *first)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(&amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>, <span class="stringliteral">&quot;v:&quot;</span>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, first);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * List script-local variables, if there is a script.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a9957bb4ad2ca4092b98796e7f83837fd">  538</a></span>&#160;<a class="code" href="evalvars_8c.html#a9957bb4ad2ca4092b98796e7f83837fd">list_script_vars</a>(<span class="keywordtype">int</span> *first)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (current_sctx.sc_sid &gt; 0 &amp;&amp; current_sctx.sc_sid &lt;= ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(&amp;<a class="code" href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">SCRIPT_VARS</a>(current_sctx.sc_sid),</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                               <span class="stringliteral">&quot;s:&quot;</span>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, first);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * Get a list of lines from a HERE document. The here document is a list of</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> * lines surrounded by a marker.</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> *  cmd &lt;&lt; {marker}</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> *    {line1}</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> *    {line2}</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> *    ....</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> *  {marker}</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> * The {marker} is a string. If the optional &#39;trim&#39; word is supplied before the</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> * marker, then the leading indentation before the lines (matching the</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> * indentation in the &#39;cmd&#39; line) is stripped.</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * Returns a List with {lines} or NULL.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keyword">static</span> <a class="code" href="structlistvar___s.html">list_T</a> *</div><div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a3c5d65f4dedf5cd7e4188273c5166f9d">  560</a></span>&#160;<a class="code" href="evalvars_8c.html#a3c5d65f4dedf5cd7e4188273c5166f9d">heredoc_get</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, char_u *cmd)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    char_u  *theline;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    char_u  *marker;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a>  *<a class="code" href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    char_u  *p;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordtype">int</span>     marker_indent_len = 0;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordtype">int</span>     text_indent_len = 0;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    char_u  *text_indent = NULL;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a21cf8f2876f3503dce25453ba4766273">getline</a> == NULL)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E991: cannot use =&lt;&lt; here&quot;</span>));</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// Check for the optional &#39;trim&#39; word before the marker</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    cmd = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(cmd);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a5f1ef744c34be69aec1531f1fe604a9b">STRNCMP</a>(cmd, <span class="stringliteral">&quot;trim&quot;</span>, 4) == 0 &amp;&amp; (cmd[4] == <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a> || <a class="code" href="macros_8h.html#a36b251f72b15af802287b0394ba51e97">VIM_ISWHITE</a>(cmd[4])))</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    cmd = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(cmd + 4);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// Trim the indentation from all the lines in the here document.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// The amount of indentation trimmed is the same as the indentation of</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// the first line after the :let command line.  To find the end marker</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// the indent of the :let command line is trimmed.</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    p = *eap-&gt;<a class="code" href="structexarg.html#aa595ad2757e347fe3d3af323099074b2">cmdlinep</a>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="macros_8h.html#a36b251f72b15af802287b0394ba51e97">VIM_ISWHITE</a>(*p))</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        p++;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        marker_indent_len++;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    text_indent_len = -1;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// The marker is the next word.</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (*cmd != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a> &amp;&amp; *cmd != <span class="charliteral">&#39;&quot;&#39;</span>)</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    marker = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(cmd);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    p = <a class="code" href="charset_8c.html#af985ed977d4d9940d6e927f8845ee5db">skiptowhite</a>(marker);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(p) != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a> &amp;&amp; *<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(p) != <span class="charliteral">&#39;&quot;&#39;</span>)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_trailing));</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    *p = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="charset_8c.html#aa0655d0239669257ba35052aff60fa22">vim_islower</a>(*marker))</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E221: Marker cannot start with lower case letter&quot;</span>));</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E172: Missing marker&quot;</span>));</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    l = <a class="code" href="list_8c.html#aa256fec511705ecf729a14faa62030ae">list_alloc</a>();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (l == NULL)</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">for</span> (;;)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordtype">int</span> mi = 0;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">int</span> ti = 0;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    theline = eap-&gt;<a class="code" href="structexarg.html#a21cf8f2876f3503dce25453ba4766273">getline</a>(<a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>, eap-&gt;<a class="code" href="structexarg.html#a1e0e9e8167ec52ec6022d661c93c06e5">cookie</a>, 0, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (theline == NULL)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E990: Missing end marker &#39;%s&#39;&quot;</span>), marker);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// with &quot;trim&quot;: skip the indent matching the :let line to find the</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">// marker</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (marker_indent_len &gt; 0</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        &amp;&amp; <a class="code" href="vim_8h.html#a5f1ef744c34be69aec1531f1fe604a9b">STRNCMP</a>(theline, *eap-&gt;<a class="code" href="structexarg.html#aa595ad2757e347fe3d3af323099074b2">cmdlinep</a>, marker_indent_len) == 0)</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        mi = marker_indent_len;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a75fb5fb9d785a71f9d82f4d008a48278">STRCMP</a>(marker, theline + mi) == 0)</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(theline);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span> (text_indent_len == -1 &amp;&amp; *theline != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">// set the text indent from the first line.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        p = theline;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        text_indent_len = 0;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="macros_8h.html#a36b251f72b15af802287b0394ba51e97">VIM_ISWHITE</a>(*p))</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        p++;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        text_indent_len++;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        text_indent = <a class="code" href="misc2_8c.html#a871ddb65e41d8bed1c38754d59737a5b">vim_strnsave</a>(theline, text_indent_len);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// with &quot;trim&quot;: skip the indent matching the first line</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (text_indent != NULL)</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">for</span> (ti = 0; ti &lt; text_indent_len; ++ti)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">if</span> (theline[ti] != text_indent[ti])</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="list_8c.html#a2881d03fa4a045d1018c5a700228472d">list_append_string</a>(l, theline + ti, -1) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(theline);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(text_indent);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> * &quot;:let&quot;           list all variable values</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> * &quot;:let var1 var2&quot;     list variable values</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> * &quot;:let var = expr&quot;        assignment command.</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> * &quot;:let var += expr&quot;       assignment command.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment"> * &quot;:let var -= expr&quot;       assignment command.</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment"> * &quot;:let var *= expr&quot;       assignment command.</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"> * &quot;:let var /= expr&quot;       assignment command.</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"> * &quot;:let var %= expr&quot;       assignment command.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> * &quot;:let var .= expr&quot;       assignment command.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> * &quot;:let var ..= expr&quot;      assignment command.</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> * &quot;:let [var1, var2] = expr&quot;   unpack list.</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ab539ccb42a9c7e3b8f8e172df1faf59a">  686</a></span>&#160;<a class="code" href="evalvars_8c.html#ab539ccb42a9c7e3b8f8e172df1faf59a">ex_let</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="evalvars_8c.html#a28cd67150437fe84826c84a61da5e743">ex_let_const</a>(eap, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment"> * &quot;:const&quot;         list all variable values</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment"> * &quot;:const var1 var2&quot;       list variable values</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"> * &quot;:const var = expr&quot;      assignment command.</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"> * &quot;:const [var1, var2] = expr&quot; unpack list.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a784acab0fd06b1a255f5df97bd471cb7">  698</a></span>&#160;<a class="code" href="evalvars_8c.html#a784acab0fd06b1a255f5df97bd471cb7">ex_const</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;{</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="evalvars_8c.html#a28cd67150437fe84826c84a61da5e743">ex_let_const</a>(eap, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a28cd67150437fe84826c84a61da5e743">  704</a></span>&#160;<a class="code" href="evalvars_8c.html#a28cd67150437fe84826c84a61da5e743">ex_let_const</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, <span class="keywordtype">int</span> is_const)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;{</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    char_u  *arg = eap-&gt;<a class="code" href="structexarg.html#a0475c81a28af8ee0b13887cd159fa21c">arg</a>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    char_u  *expr = NULL;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    rettv;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordtype">int</span>     i;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordtype">int</span>     var_count = 0;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">int</span>     semicolon = 0;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    char_u  op[2];</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    char_u  *argend;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordtype">int</span>     first = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordtype">int</span>     concat;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    argend = <a class="code" href="evalvars_8c.html#a0c8997a1542c90df54b4fbacaedc252d">skip_var_list</a>(arg, &amp;var_count, &amp;semicolon);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (argend == NULL)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (argend &gt; arg &amp;&amp; argend[-1] == <span class="charliteral">&#39;.&#39;</span>)  <span class="comment">// for var.=&#39;str&#39;</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    --argend;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    expr = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(argend);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    concat = expr[0] == <span class="charliteral">&#39;.&#39;</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    &amp;&amp; ((expr[1] == <span class="charliteral">&#39;=&#39;</span> &amp;&amp; current_sctx.sc_version &lt; 2)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        || (expr[1] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; expr[2] == <span class="charliteral">&#39;=&#39;</span>));</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (*expr != <span class="charliteral">&#39;=&#39;</span> &amp;&amp; !((<a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>((char_u *)<span class="stringliteral">&quot;+-*/%&quot;</span>, *expr) != NULL</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                         &amp;&amp; expr[1] == <span class="charliteral">&#39;=&#39;</span>) || concat))</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">// &quot;:let&quot; without &quot;=&quot;: list variables</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;[&#39;</span>)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg));</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expr[0] == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E985: .= is not supported with script version 2&quot;</span>));</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="ex__docmd_8c.html#ad40af41d7f94551522fc4715a140dcee">ends_excmd</a>(*arg))</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="comment">// &quot;:let var1 var2&quot;</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        arg = <a class="code" href="evalvars_8c.html#a53176055cff2cdad2c6584a2ecc3c717">list_arg_vars</a>(eap, arg, &amp;first);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="comment">// &quot;:let&quot;</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="evalvars_8c.html#acc96a00d36fb60496b146ab1f7fc1b1a">list_glob_vars</a>(&amp;first);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="evalvars_8c.html#a29f173ee2fa30e9cc0d02140f7932b20">list_buf_vars</a>(&amp;first);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="evalvars_8c.html#a1aa6ece23d7728dca0ba2d36bfc461bc">list_win_vars</a>(&amp;first);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="evalvars_8c.html#ac9ef8cc85137b9b427134a9cf123ec9b">list_tab_vars</a>(&amp;first);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <a class="code" href="evalvars_8c.html#a9957bb4ad2ca4092b98796e7f83837fd">list_script_vars</a>(&amp;first);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <a class="code" href="userfunc_8c.html#a451e56d718ce5b47132dfb55f9e768a6">list_func_vars</a>(&amp;first);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <a class="code" href="evalvars_8c.html#a1e1306edf546fd7d26149a32c854ea56">list_vim_vars</a>(&amp;first);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    eap-&gt;<a class="code" href="structexarg.html#af98a7c612e1bb0f4c355d5fa13caf9ec">nextcmd</a> = <a class="code" href="ex__docmd_8c.html#a55354ea0205ec9ad5b42ae52c1352edd">check_nextcmd</a>(arg);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expr[0] == <span class="charliteral">&#39;=&#39;</span> &amp;&amp; expr[1] == <span class="charliteral">&#39;&lt;&#39;</span> &amp;&amp; expr[2] == <span class="charliteral">&#39;&lt;&#39;</span>)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a>  *<a class="code" href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// HERE document</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    l = <a class="code" href="evalvars_8c.html#a3c5d65f4dedf5cd7e4188273c5166f9d">heredoc_get</a>(eap, expr + 3);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (l != NULL)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="list_8c.html#a4d0749ed3f6584f565edacd56089787c">rettv_list_set</a>(&amp;rettv, l);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        op[0] = <span class="charliteral">&#39;=&#39;</span>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        op[1] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        (void)<a class="code" href="evalvars_8c.html#a076d5948045227fc05243c19886b253e">ex_let_vars</a>(eap-&gt;<a class="code" href="structexarg.html#a0475c81a28af8ee0b13887cd159fa21c">arg</a>, &amp;rettv, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, semicolon, var_count,</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                is_const, op);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;rettv);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    op[0] = <span class="charliteral">&#39;=&#39;</span>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    op[1] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (*expr != <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>((char_u *)<span class="stringliteral">&quot;+-*/%.&quot;</span>, *expr) != NULL)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        op[0] = *expr;   <span class="comment">// +=, -=, *=, /=, %= or .=</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">if</span> (expr[0] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; expr[1] == <span class="charliteral">&#39;.&#39;</span>) <span class="comment">// ..=</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            ++expr;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        expr = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(expr + 2);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        expr = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(expr + 1);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>)</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        ++emsg_skip;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    i = <a class="code" href="eval_8c.html#a5e42ba13818957fbece072f0eb6a7c9c">eval0</a>(expr, &amp;rettv, &amp;eap-&gt;<a class="code" href="structexarg.html#af98a7c612e1bb0f4c355d5fa13caf9ec">nextcmd</a>, !eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">if</span> (i != <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;rettv);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        --emsg_skip;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i != <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        (void)<a class="code" href="evalvars_8c.html#a076d5948045227fc05243c19886b253e">ex_let_vars</a>(eap-&gt;<a class="code" href="structexarg.html#a0475c81a28af8ee0b13887cd159fa21c">arg</a>, &amp;rettv, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, semicolon, var_count,</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                 is_const, op);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;rettv);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"> * Assign the typevalue &quot;tv&quot; to the variable or variables at &quot;arg_start&quot;.</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment"> * Handles both &quot;var&quot; with any type and &quot;[var, var; var]&quot; with a list type.</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"> * When &quot;op&quot; is not NULL it points to a string with characters that</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"> * must appear after the variable(s).  Use &quot;+&quot;, &quot;-&quot; or &quot;.&quot; for add, subtract</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment"> * or concatenate.</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment"> * Returns OK or FAIL;</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a076d5948045227fc05243c19886b253e">  810</a></span>&#160;<a class="code" href="evalvars_8c.html#a076d5948045227fc05243c19886b253e">ex_let_vars</a>(</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    char_u  *arg_start,</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *tv,</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordtype">int</span>     copy,       <span class="comment">// copy values from &quot;tv&quot;, don&#39;t move</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">int</span>     semicolon,  <span class="comment">// from skip_var_list()</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordtype">int</span>     var_count,  <span class="comment">// from skip_var_list()</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span>     is_const,   <span class="comment">// lock variables for const</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    char_u  *op)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    char_u  *arg = arg_start;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a>  *<a class="code" href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordtype">int</span>     i;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="structlistitem___s.html">listitem_T</a>  *item;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    ltv;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (*arg != <span class="charliteral">&#39;[&#39;</span>)</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// &quot;:let var = expr&quot; or &quot;:for var in list&quot;</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a144828530578e8eefc19c48684e78819">ex_let_one</a>(arg, tv, copy, is_const, op, op) == NULL)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// &quot;:let [v1, v2] = list&quot; or &quot;:for [v1, v2] in listlist&quot;</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a> || (l = tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a886659f986c150dab284f1d5ef64ee00">v_list</a>) == NULL)</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_listreq));</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    i = <a class="code" href="list_8c.html#a55772ddcf72f0e62c6576761f5ed4e65">list_len</a>(l);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span> (semicolon == 0 &amp;&amp; var_count &lt; i)</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E687: Less targets than List items&quot;</span>));</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (var_count - semicolon &gt; i)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E688: More targets than List items&quot;</span>));</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    item = l-&gt;<a class="code" href="structlistvar___s.html#ac58b71606ce99566ca5d48f92457efd7">lv_first</a>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">while</span> (*arg != <span class="charliteral">&#39;]&#39;</span>)</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    arg = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg + 1);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    arg = <a class="code" href="evalvars_8c.html#a144828530578e8eefc19c48684e78819">ex_let_one</a>(arg, &amp;item-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, is_const,</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                              (char_u *)<span class="stringliteral">&quot;,;]&quot;</span>, op);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    item = item-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (arg == NULL)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    arg = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;;&#39;</span>)</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="comment">// Put the rest of the list (may be empty) in the var after &#39;;&#39;.</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="comment">// Create a new list for this.</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        l = <a class="code" href="list_8c.html#aa256fec511705ecf729a14faa62030ae">list_alloc</a>();</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">if</span> (l == NULL)</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">while</span> (item != NULL)</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="list_8c.html#aa2b8cfbb785470492deb11829ccb92bd">list_append_tv</a>(l, &amp;item-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        item = item-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        ltv.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        ltv.<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a> = 0;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        ltv.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a886659f986c150dab284f1d5ef64ee00">v_list</a> = <a class="code" href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        l-&gt;<a class="code" href="structlistvar___s.html#ad6e6ea61d40bd4ca9a4ebcfb9cb6220c">lv_refcount</a> = 1;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        arg = <a class="code" href="evalvars_8c.html#a144828530578e8eefc19c48684e78819">ex_let_one</a>(<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg + 1), &amp;ltv, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, is_const,</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                (char_u *)<span class="stringliteral">&quot;]&quot;</span>, op);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;ltv);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">if</span> (arg == NULL)</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*arg != <span class="charliteral">&#39;,&#39;</span> &amp;&amp; *arg != <span class="charliteral">&#39;]&#39;</span>)</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="message_8c.html#acf47f2acaa03395461e2b233638e69d0">internal_error</a>(<span class="stringliteral">&quot;ex_let_vars()&quot;</span>);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment"> * Skip over assignable variable &quot;var&quot; or list of variables &quot;[var, var]&quot;.</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment"> * Used for &quot;:let varvar = expr&quot; and &quot;:for varvar in expr&quot;.</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment"> * For &quot;[var, var]&quot; increment &quot;*var_count&quot; for each variable.</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment"> * for &quot;[var, var; var]&quot; set &quot;semicolon&quot;.</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment"> * Return NULL for an error.</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    char_u *</div><div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a0c8997a1542c90df54b4fbacaedc252d">  906</a></span>&#160;<a class="code" href="evalvars_8c.html#a0c8997a1542c90df54b4fbacaedc252d">skip_var_list</a>(</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    char_u  *arg,</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordtype">int</span>     *var_count,</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordtype">int</span>     *semicolon)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;{</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    char_u  *p, *s;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;[&#39;</span>)</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="comment">// &quot;[var, var]&quot;: find the matching &#39;]&#39;.</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    p = arg;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">for</span> (;;)</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        p = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(p + 1);   <span class="comment">// skip whites after &#39;[&#39;, &#39;;&#39; or &#39;,&#39;</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        s = <a class="code" href="evalvars_8c.html#ad4e5f408472beefac8799d25cbcaa36c">skip_var_one</a>(p);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (s == p)</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg2), p);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        ++*var_count;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        p = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(s);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;]&#39;</span>)</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;;&#39;</span>)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">if</span> (*semicolon == 1)</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;Double ; in list of variables&quot;</span>));</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        *semicolon = 1;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;,&#39;</span>)</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg2), p);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">return</span> p + 1;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#ad4e5f408472beefac8799d25cbcaa36c">skip_var_one</a>(arg);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment"> * Skip one (assignable) variable name, including @r, $VAR, &amp;option, d.key,</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"> * l[idx].</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keyword">static</span> char_u *</div><div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad4e5f408472beefac8799d25cbcaa36c">  957</a></span>&#160;<a class="code" href="evalvars_8c.html#ad4e5f408472beefac8799d25cbcaa36c">skip_var_one</a>(char_u *arg)</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;{</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;@&#39;</span> &amp;&amp; arg[1] != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">return</span> arg + 2;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#aae83f621bb78f7823db286ec65444e22">find_name_end</a>(*arg == <span class="charliteral">&#39;$&#39;</span> || *arg == <span class="charliteral">&#39;&amp;&#39;</span> ? arg + 1 : arg,</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                   NULL, NULL, <a class="code" href="vim_8h.html#ad37a7ee377943f0865b4c63138a2aa2b">FNE_INCL_BR</a> | <a class="code" href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment"> * List variables for hashtab &quot;ht&quot; with prefix &quot;prefix&quot;.</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment"> * If &quot;empty&quot; is TRUE also list NULL strings as empty strings.</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">  970</a></span>&#160;<a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht,</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordtype">char</span>    *prefix,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordtype">int</span>     <a class="code" href="regexp__nfa_8c.html#aabe38c107fa81270920895f18c5aa6b5">empty</a>,</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordtype">int</span>     *first)</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *di;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordtype">int</span>     todo;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    char_u  buf[<a class="code" href="vim_8h.html#acf7963125f809e9f6d864f961226a4f6">IOSIZE</a>];</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    todo = (int)ht-&gt;<a class="code" href="structhashtable___s.html#a5102b561274edb12b4ac5c9b0df7dab1">ht_used</a>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    for (hi = ht-&gt;<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a>; todo &gt; 0 &amp;&amp; !got_int; ++hi)</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        --todo;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        di = <a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="comment">// apply :filter /pat/ to variable name</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="misc2_8c.html#ab25a3a48241497fdc7bec2c3dbe41467">vim_strncpy</a>((char_u *)buf, (char_u *)prefix, <a class="code" href="vim_8h.html#acf7963125f809e9f6d864f961226a4f6">IOSIZE</a> - 1);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="misc2_8c.html#a832d696dc1f87cd20be545934e5a172c">vim_strcat</a>((char_u *)buf, di-&gt;<a class="code" href="structdictitem___s.html#acebf31bd5d7a085a335b677f675fc0d5">di_key</a>, <a class="code" href="vim_8h.html#acf7963125f809e9f6d864f961226a4f6">IOSIZE</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="message_8c.html#aba476498f1166cdea4ca0faa7cf86973">message_filtered</a>(buf))</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">if</span> (empty || di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                       || di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> != NULL)</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="evalvars_8c.html#a421ac3a5e1112ac11e10b07a0dc43335">list_one_var</a>(di, prefix, first);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment"> * List global variables.</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="evalvars_8c.html#acc96a00d36fb60496b146ab1f7fc1b1a"> 1006</a></span>&#160;<a class="code" href="evalvars_8c.html#acc96a00d36fb60496b146ab1f7fc1b1a">list_glob_vars</a>(<span class="keywordtype">int</span> *first)</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;{</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(&amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, first);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment"> * List buffer variables.</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a29f173ee2fa30e9cc0d02140f7932b20"> 1015</a></span>&#160;<a class="code" href="evalvars_8c.html#a29f173ee2fa30e9cc0d02140f7932b20">list_buf_vars</a>(<span class="keywordtype">int</span> *first)</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;{</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(&amp;curbuf-&gt;b_vars-&gt;dv_hashtab, <span class="stringliteral">&quot;b:&quot;</span>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, first);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment"> * List window variables.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1aa6ece23d7728dca0ba2d36bfc461bc"> 1024</a></span>&#160;<a class="code" href="evalvars_8c.html#a1aa6ece23d7728dca0ba2d36bfc461bc">list_win_vars</a>(<span class="keywordtype">int</span> *first)</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(&amp;<a class="code" href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a>-&gt;w_vars-&gt;dv_hashtab, <span class="stringliteral">&quot;w:&quot;</span>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, first);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment"> * List tab page variables.</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01033"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ac9ef8cc85137b9b427134a9cf123ec9b"> 1033</a></span>&#160;<a class="code" href="evalvars_8c.html#ac9ef8cc85137b9b427134a9cf123ec9b">list_tab_vars</a>(<span class="keywordtype">int</span> *first)</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;{</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a>(&amp;<a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>-&gt;tp_vars-&gt;dv_hashtab, <span class="stringliteral">&quot;t:&quot;</span>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, first);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment"> * List variables in &quot;arg&quot;.</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keyword">static</span> char_u *</div><div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a53176055cff2cdad2c6584a2ecc3c717"> 1042</a></span>&#160;<a class="code" href="evalvars_8c.html#a53176055cff2cdad2c6584a2ecc3c717">list_arg_vars</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, char_u *arg, <span class="keywordtype">int</span> *first)</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;{</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordtype">int</span>     error = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordtype">int</span>     len;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    char_u  *name_start;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    char_u  *arg_subsc;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    char_u  *tofree;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    tv;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="ex__docmd_8c.html#ad40af41d7f94551522fc4715a140dcee">ends_excmd</a>(*arg) &amp;&amp; !got_int)</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (error || eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>)</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        arg = <a class="code" href="eval_8c.html#aae83f621bb78f7823db286ec65444e22">find_name_end</a>(arg, NULL, NULL, <a class="code" href="vim_8h.html#ad37a7ee377943f0865b4c63138a2aa2b">FNE_INCL_BR</a> | <a class="code" href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a>);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="macros_8h.html#a36b251f72b15af802287b0394ba51e97">VIM_ISWHITE</a>(*arg) &amp;&amp; !<a class="code" href="ex__docmd_8c.html#ad40af41d7f94551522fc4715a140dcee">ends_excmd</a>(*arg))</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        emsg_severe = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_trailing));</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="comment">// get_name_len() takes care of expanding curly braces</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        name_start = name = arg;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        len = <a class="code" href="eval_8c.html#a837a318c4ccdf46cc76072859aa19f88">get_name_len</a>(&amp;arg, &amp;tofree, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">if</span> (len &lt;= 0)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="comment">// This is mainly to keep test 49 working: when expanding</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="comment">// curly braces fails overrule the exception error message.</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (len &lt; 0 &amp;&amp; !<a class="code" href="ex__eval_8c.html#a131392e1733efbee3a9af3d333fe0b42">aborting</a>())</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            emsg_severe = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg2), arg);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        error = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keywordflow">if</span> (tofree != NULL)</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            name = tofree;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a9c601cd989af85b19b8c26349a2c5bd1">get_var_tv</a>(name, len, &amp;tv, NULL, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            error = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="comment">// handle d.key, l[idx], f(expr)</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            arg_subsc = arg;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a619e83b6667d60b37fe2b5f956a665f2">handle_subscript</a>(&amp;arg, &amp;tv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                              name, &amp;name) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            error = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="keywordflow">if</span> (arg == arg_subsc &amp;&amp; len == 2 &amp;&amp; name[1] == <span class="charliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <span class="keywordflow">switch</span> (*name)</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>: <a class="code" href="evalvars_8c.html#acc96a00d36fb60496b146ab1f7fc1b1a">list_glob_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <a class="code" href="evalvars_8c.html#a29f173ee2fa30e9cc0d02140f7932b20">list_buf_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>: <a class="code" href="evalvars_8c.html#a1aa6ece23d7728dca0ba2d36bfc461bc">list_win_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: <a class="code" href="evalvars_8c.html#ac9ef8cc85137b9b427134a9cf123ec9b">list_tab_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: <a class="code" href="evalvars_8c.html#a1e1306edf546fd7d26149a32c854ea56">list_vim_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <a class="code" href="evalvars_8c.html#a9957bb4ad2ca4092b98796e7f83837fd">list_script_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>: <a class="code" href="userfunc_8c.html#a451e56d718ce5b47132dfb55f9e768a6">list_func_vars</a>(first); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                      <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E738: Can&#39;t list variables for %s&quot;</span>), name);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                }</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                char_u  numbuf[<a class="code" href="vim_8h.html#ad75d86d19ee3c309a6db13026d35e357">NUMBUFLEN</a>];</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                char_u  *tf;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <span class="keywordtype">int</span>     c;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                char_u  *s;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                s = <a class="code" href="eval_8c.html#af7e0f0ba9325b5fdd3ea3f6b4863e2eb">echo_string</a>(&amp;tv, &amp;tf, numbuf, 0);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                c = *arg;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                *arg = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                <a class="code" href="evalvars_8c.html#a16aff3e573f44afb484d714e96a4c088">list_one_var_a</a>(<span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    arg == arg_subsc ? name : name_start,</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    tv.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a>,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                    s == NULL ? (char_u *)<span class="stringliteral">&quot;&quot;</span> : s,</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    first);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                *arg = c;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(tf);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;tv);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(tofree);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    arg = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">return</span> arg;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment"> * Set one item of &quot;:let var = expr&quot; or &quot;:let [v1, v2] = list&quot; to its value.</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment"> * Returns a pointer to the char just after the var name.</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment"> * Returns NULL if there is an error.</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keyword">static</span> char_u *</div><div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a144828530578e8eefc19c48684e78819"> 1149</a></span>&#160;<a class="code" href="evalvars_8c.html#a144828530578e8eefc19c48684e78819">ex_let_one</a>(</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    char_u  *arg,       <span class="comment">// points to variable name</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *tv,        <span class="comment">// value to assign to variable</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordtype">int</span>     copy,       <span class="comment">// copy value from &quot;tv&quot;</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordtype">int</span>     is_const,   <span class="comment">// lock variable for const</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    char_u  *endchars,  <span class="comment">// valid chars after variable name  or NULL</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    char_u  *op)        <span class="comment">// &quot;+&quot;, &quot;-&quot;, &quot;.&quot;  or NULL</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;{</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordtype">int</span>     c1;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    char_u  *p;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    char_u  *arg_end = NULL;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordtype">int</span>     len;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordtype">int</span>     opt_flags;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    char_u  *tofree = NULL;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="comment">// &quot;:let $VAR = expr&quot;: Set environment variable.</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;$&#39;</span>)</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (is_const)</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    {</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E996: Cannot lock an environment variable&quot;</span>));</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">// Find the end of the name.</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    ++arg;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    name = arg;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    len = <a class="code" href="eval_8c.html#a83c744052646da283847e141e57c2ef3">get_env_len</a>(&amp;arg);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">if</span> (len == 0)</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg2), name - 1);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    {</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">if</span> (op != NULL &amp;&amp; <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>((char_u *)<span class="stringliteral">&quot;+-*/%&quot;</span>, *op) != NULL)</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_letwrong), op);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (endchars != NULL</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                 &amp;&amp; <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>(endchars, *<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg)) == NULL)</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<a class="code" href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">e_letunexp</a>));</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="ex__cmds_8c.html#a143b7fe04e371726ed7ce357b78fd583">check_secure</a>())</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        c1 = name[len];</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        name[len] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        p = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(tv);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="keywordflow">if</span> (p != NULL &amp;&amp; op != NULL &amp;&amp; *op == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            <span class="keywordtype">int</span>     mustfree = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            char_u  *s = <a class="code" href="misc1_8c.html#a279518116c8b120e2dc277d7af50a9bf">vim_getenv</a>(name, &amp;mustfree);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="keywordflow">if</span> (s != NULL)</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            {</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            p = tofree = <a class="code" href="misc1_8c.html#a8123a556565083b6385d5417786b7578">concat_str</a>(s, p);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <span class="keywordflow">if</span> (mustfree)</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(s);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="keywordflow">if</span> (p != NULL)</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            <a class="code" href="misc1_8c.html#a67f3d285bed7092c3bd82f8a7a8cff6d">vim_setenv</a>(name, p);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#aadcd31e93b60b8223d40a984ee8a5ee3">STRICMP</a>(name, <span class="stringliteral">&quot;HOME&quot;</span>) == 0)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            <a class="code" href="dosinst_8c.html#a5bd328bc06c8c3f71f3d9df207ea39bd">init_homedir</a>();</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (didset_vim &amp;&amp; <a class="code" href="vim_8h.html#aadcd31e93b60b8223d40a984ee8a5ee3">STRICMP</a>(name, <span class="stringliteral">&quot;VIM&quot;</span>) == 0)</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            didset_vim = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (didset_vimruntime</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                    &amp;&amp; <a class="code" href="vim_8h.html#aadcd31e93b60b8223d40a984ee8a5ee3">STRICMP</a>(name, <span class="stringliteral">&quot;VIMRUNTIME&quot;</span>) == 0)</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            didset_vimruntime = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            arg_end = arg;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        name[len] = c1;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(tofree);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        }</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">// &quot;:let &amp;option = expr&quot;: Set option value.</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// &quot;:let &amp;l:option = expr&quot;: Set local option value.</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// &quot;:let &amp;g:option = expr&quot;: Set global option value.</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;&amp;&#39;</span>)</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> (is_const)</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E996: Cannot lock an option&quot;</span>));</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// Find the end of the name.</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    p = <a class="code" href="eval_8c.html#a7f6511d801ab4a5e0774900970041d6b">find_option_end</a>(&amp;arg, &amp;opt_flags);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (p == NULL || (endchars != NULL</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                  &amp;&amp; <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>(endchars, *<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(p)) == NULL))</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<a class="code" href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">e_letunexp</a>));</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keywordtype">long</span>    n;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="keywordtype">int</span>     opt_type;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordtype">long</span>    numval;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        char_u  *stringval = NULL;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        char_u  *s;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        c1 = *p;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        *p = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        n = (long)<a class="code" href="eval_8c.html#a3727d19f20cae99511bbcf9b97aad1d5">tv_get_number</a>(tv);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        s = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(tv);      <span class="comment">// != NULL if number or string</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">if</span> (s != NULL &amp;&amp; op != NULL &amp;&amp; *op != <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        opt_type = <a class="code" href="option_8c.html#ab2d5c983e65f84faa64a27e09377f6cc">get_option_value</a>(arg, &amp;numval,</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                               &amp;stringval, opt_flags);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">if</span> ((opt_type == 1 &amp;&amp; *op == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            || (opt_type == 0 &amp;&amp; *op != <span class="charliteral">&#39;.&#39;</span>))</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_letwrong), op);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            s = NULL;  <span class="comment">// don&#39;t set the value</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">if</span> (opt_type == 1)  <span class="comment">// number</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="keywordflow">switch</span> (*op)</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>: n = numval + n; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>: n = numval - n; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>: n = numval * n; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>: n = (long)<a class="code" href="eval_8c.html#a6544a326ecd299896dae352a5ce0e0fb">num_divide</a>(numval, n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>: n = (long)<a class="code" href="eval_8c.html#a84729513d3885ed2b6e00b1008e0ca3e">num_modulus</a>(numval, n); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            }</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opt_type == 0 &amp;&amp; stringval != NULL) <span class="comment">// string</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            s = <a class="code" href="misc1_8c.html#a8123a556565083b6385d5417786b7578">concat_str</a>(stringval, s);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(stringval);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            stringval = s;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        }</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        }</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keywordflow">if</span> (s != NULL)</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <a class="code" href="option_8c.html#a94ae863d1c8638bea649c9a093c2be06">set_option_value</a>(arg, n, s, opt_flags);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        arg_end = p;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        *p = c1;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(stringval);</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    }</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">// &quot;:let @r = expr&quot;: Set register contents.</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;@&#39;</span>)</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (is_const)</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E996: Cannot lock a register&quot;</span>));</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    ++arg;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (op != NULL &amp;&amp; <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>((char_u *)<span class="stringliteral">&quot;+-*/%&quot;</span>, *op) != NULL)</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_letwrong), op);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (endchars != NULL</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;             &amp;&amp; <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>(endchars, *<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg + 1)) == NULL)</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<a class="code" href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">e_letunexp</a>));</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        char_u  *ptofree = NULL;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        char_u  *s;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        p = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(tv);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">if</span> (p != NULL &amp;&amp; op != NULL &amp;&amp; *op == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        s = <a class="code" href="register_8c.html#ac5fc237b1fffc1cd55f9541344b0bb7a">get_reg_contents</a>(*arg == <span class="charliteral">&#39;@&#39;</span> ? <span class="charliteral">&#39;&quot;&#39;</span> : *arg, <a class="code" href="vim_8h.html#afdeea7a3255a63ac111c0e4e280d01dd">GREG_EXPR_SRC</a>);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordflow">if</span> (s != NULL)</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            p = ptofree = <a class="code" href="misc1_8c.html#a8123a556565083b6385d5417786b7578">concat_str</a>(s, p);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(s);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        }</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="keywordflow">if</span> (p != NULL)</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <a class="code" href="register_8c.html#a3e17a398f7b2c7b927a0534ab2a3e116">write_reg_contents</a>(*arg == <span class="charliteral">&#39;@&#39;</span> ? <span class="charliteral">&#39;&quot;&#39;</span> : *arg, p, -1, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        arg_end = arg + 1;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(ptofree);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="comment">// &quot;:let var = expr&quot;: Set internal variable.</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="comment">// &quot;:let {expr} = expr&quot;: Idem, name made with curly braces</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a7384a515703972d5d4daa489ab8a867f">eval_isnamec1</a>(*arg) || *arg == <span class="charliteral">&#39;{&#39;</span>)</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <a class="code" href="structlval___s.html">lval_T</a>  lv;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    p = <a class="code" href="eval_8c.html#a7a9051ae15161c509ed998c31ce0b499">get_lval</a>(arg, tv, &amp;lv, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, <a class="code" href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a>);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">if</span> (p != NULL &amp;&amp; lv.<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a> != NULL)</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="keywordflow">if</span> (endchars != NULL &amp;&amp; <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>(endchars, *<a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(p)) == NULL)</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<a class="code" href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">e_letunexp</a>));</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <a class="code" href="eval_8c.html#ae9336bda2939fa2046566b928d9742c2">set_var_lval</a>(&amp;lv, p, tv, copy, is_const, op);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        arg_end = p;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        }</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a>(&amp;lv);</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg2), arg);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">return</span> arg_end;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment"> * &quot;:unlet[!] var1 ... &quot; command.</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad13108166b436af4c7b9c3ca36e244d7"> 1358</a></span>&#160;<a class="code" href="evalvars_8c.html#ad13108166b436af4c7b9c3ca36e244d7">ex_unlet</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap)</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;{</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="evalvars_8c.html#a453c44ffc0dfd8cc80ac8b1f64dceb5f">ex_unletlock</a>(eap, eap-&gt;<a class="code" href="structexarg.html#a0475c81a28af8ee0b13887cd159fa21c">arg</a>, 0);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment"> * &quot;:lockvar&quot; and &quot;:unlockvar&quot; commands</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aeb701f7ec43a813129f9c5f134d59752"> 1367</a></span>&#160;<a class="code" href="evalvars_8c.html#aeb701f7ec43a813129f9c5f134d59752">ex_lockvar</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap)</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;{</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    char_u  *arg = eap-&gt;<a class="code" href="structexarg.html#a0475c81a28af8ee0b13887cd159fa21c">arg</a>;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordtype">int</span>     deep = 2;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a4bb83d97549352305801655146c15455">forceit</a>)</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    deep = -1;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="charset_8c.html#a35845ed87dc61ea86eb2e2f2f2f477f3">vim_isdigit</a>(*arg))</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    deep = <a class="code" href="charset_8c.html#ad81a749470a4c63eab4e9dea315f2819">getdigits</a>(&amp;arg);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    arg = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    }</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="evalvars_8c.html#a453c44ffc0dfd8cc80ac8b1f64dceb5f">ex_unletlock</a>(eap, arg, deep);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"> * &quot;:unlet&quot;, &quot;:lockvar&quot; and &quot;:unlockvar&quot; are quite similar.</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01387"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a453c44ffc0dfd8cc80ac8b1f64dceb5f"> 1387</a></span>&#160;<a class="code" href="evalvars_8c.html#a453c44ffc0dfd8cc80ac8b1f64dceb5f">ex_unletlock</a>(</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="structexarg.html">exarg_T</a> *eap,</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    char_u  *argstart,</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordtype">int</span>     deep)</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    char_u  *arg = argstart;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    char_u  *name_end;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordtype">int</span>     error = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="structlval___s.html">lval_T</a>  lv;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">do</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">if</span> (*arg == <span class="charliteral">&#39;$&#39;</span>)</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    {</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        char_u    *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a> = ++arg;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#a83c744052646da283847e141e57c2ef3">get_env_len</a>(&amp;arg) == 0)</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        {</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg2), name - 1);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <a class="code" href="misc1_8c.html#a4a29fd5f580ae411f904913770eac9d9">vim_unsetenv</a>(name);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        arg = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(arg);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="comment">// Parse the name and find the end.</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    name_end = <a class="code" href="eval_8c.html#a7a9051ae15161c509ed998c31ce0b499">get_lval</a>(arg, NULL, &amp;lv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a> || error, 0,</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                 <a class="code" href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a>);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">if</span> (lv.<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a> == NULL)</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        error = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;       <span class="comment">// error but continue parsing</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">if</span> (name_end == NULL || (!<a class="code" href="macros_8h.html#a36b251f72b15af802287b0394ba51e97">VIM_ISWHITE</a>(*name_end)</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                           &amp;&amp; !<a class="code" href="ex__docmd_8c.html#ad40af41d7f94551522fc4715a140dcee">ends_excmd</a>(*name_end)))</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">if</span> (name_end != NULL)</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        emsg_severe = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_trailing));</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        }</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="keywordflow">if</span> (!(eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a> || error))</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <a class="code" href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a>(&amp;lv);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (!error &amp;&amp; !eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>)</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a2ef28498b904f9bd9127f7fc1b962d67">cmdidx</a> == CMD_unlet)</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        {</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#aa581ed1351be295607503d7be05591a2">do_unlet_var</a>(&amp;lv, name_end, eap-&gt;<a class="code" href="structexarg.html#a4bb83d97549352305801655146c15455">forceit</a>) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            error = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        }</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#ac6fd1c0db202684ad2b4849ac0936066">do_lock_var</a>(&amp;lv, name_end, deep,</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                      eap-&gt;<a class="code" href="structexarg.html#a2ef28498b904f9bd9127f7fc1b962d67">cmdidx</a> == CMD_lockvar) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            error = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">if</span> (!eap-&gt;<a class="code" href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">skip</a>)</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a>(&amp;lv);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    arg = <a class="code" href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a>(name_end);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    } <span class="keywordflow">while</span> (!<a class="code" href="ex__docmd_8c.html#ad40af41d7f94551522fc4715a140dcee">ends_excmd</a>(*arg));</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    eap-&gt;<a class="code" href="structexarg.html#af98a7c612e1bb0f4c355d5fa13caf9ec">nextcmd</a> = <a class="code" href="ex__docmd_8c.html#a55354ea0205ec9ad5b42ae52c1352edd">check_nextcmd</a>(arg);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;}</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01456"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aa581ed1351be295607503d7be05591a2"> 1456</a></span>&#160;<a class="code" href="evalvars_8c.html#aa581ed1351be295607503d7be05591a2">do_unlet_var</a>(</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="structlval___s.html">lval_T</a>  *lp,</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    char_u  *name_end,</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordtype">int</span>     forceit)</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;{</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordtype">int</span>     ret = <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordtype">int</span>     cc;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="structlval___s.html#a64c44610767086ec618e6cbd8e6f99c6">ll_tv</a> == NULL)</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    cc = *name_end;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    *name_end = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="comment">// Normal name or expanded name.</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a3da485826737f64b955eaec41d8d4ad7">do_unlet</a>(lp-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a>, forceit) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        ret = <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    *name_end = cc;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    }</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((lp-&gt;<a class="code" href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">ll_list</a> != NULL</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;         &amp;&amp; <a class="code" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a>(lp-&gt;<a class="code" href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">ll_list</a>-&gt;<a class="code" href="structlistvar___s.html#a4840249ee4557b01d326f6e188a594c5">lv_lock</a>, lp-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        || (lp-&gt;<a class="code" href="structlval___s.html#a9891a286dbc9e32cdbd4fb7ebd64cab0">ll_dict</a> != NULL</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;         &amp;&amp; <a class="code" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a>(lp-&gt;<a class="code" href="structlval___s.html#a9891a286dbc9e32cdbd4fb7ebd64cab0">ll_dict</a>-&gt;<a class="code" href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dv_lock</a>, lp-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)))</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="structlval___s.html#a4e27b3e46d0c1554fe480f3d1983ea8f">ll_range</a>)</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="structlistitem___s.html">listitem_T</a>    *li;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="structlistitem___s.html">listitem_T</a>    *ll_li = lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a>;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordtype">int</span>       ll_n1 = lp-&gt;<a class="code" href="structlval___s.html#a99a40fd5f3ff747dd744a5f05b341b32">ll_n1</a>;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">while</span> (ll_li != NULL &amp;&amp; (lp-&gt;<a class="code" href="structlval___s.html#a2681f36288f0c50170948dc8a8db3d1a">ll_empty2</a> || lp-&gt;<a class="code" href="structlval___s.html#ae245c5f6d8bb5d074c378f4b85910ad6">ll_n2</a> &gt;= ll_n1))</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        li = ll_li-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a>(ll_li-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>.<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a>, lp-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        ll_li = li;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        ++ll_n1;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">// Delete a range of List items.</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">while</span> (lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a> != NULL &amp;&amp; (lp-&gt;<a class="code" href="structlval___s.html#a2681f36288f0c50170948dc8a8db3d1a">ll_empty2</a> || lp-&gt;<a class="code" href="structlval___s.html#ae245c5f6d8bb5d074c378f4b85910ad6">ll_n2</a> &gt;= lp-&gt;<a class="code" href="structlval___s.html#a99a40fd5f3ff747dd744a5f05b341b32">ll_n1</a>))</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        li = lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a>-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <a class="code" href="list_8c.html#a7fadefe0268388681421dc21ec981dd1">listitem_remove</a>(lp-&gt;<a class="code" href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">ll_list</a>, lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a>);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a> = li;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        ++lp-&gt;<a class="code" href="structlval___s.html#a99a40fd5f3ff747dd744a5f05b341b32">ll_n1</a>;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    }</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    {</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">ll_list</a> != NULL)</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="comment">// unlet a List item.</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <a class="code" href="list_8c.html#a7fadefe0268388681421dc21ec981dd1">listitem_remove</a>(lp-&gt;<a class="code" href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">ll_list</a>, lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a>);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="comment">// unlet a Dictionary item.</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <a class="code" href="dict_8c.html#a8fd65f98416334dae02a61c2f2584b51">dictitem_remove</a>(lp-&gt;<a class="code" href="structlval___s.html#a9891a286dbc9e32cdbd4fb7ebd64cab0">ll_dict</a>, lp-&gt;<a class="code" href="structlval___s.html#a67fe97bdfbd3596c36f269712c500603">ll_di</a>);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    }</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="comment"> * &quot;unlet&quot; a variable.  Return OK if it existed, FAIL if not.</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="comment"> * When &quot;forceit&quot; is TRUE don&#39;t complain if the variable doesn&#39;t exist.</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a3da485826737f64b955eaec41d8d4ad7"> 1521</a></span>&#160;<a class="code" href="evalvars_8c.html#a3da485826737f64b955eaec41d8d4ad7">do_unlet</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> forceit)</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;{</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    char_u  *varname;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <a class="code" href="structdictvar___s.html">dict_T</a>  *<a class="code" href="namespacedehqx.html#aa833403a763c179f4ce8087adc050961">d</a>;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *di;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    ht = <a class="code" href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093">find_var_ht</a>(name, &amp;varname);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (ht != NULL &amp;&amp; *varname != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    {</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    d = <a class="code" href="userfunc_8c.html#af209e938392c97b56fdf0f4136c2fba8">get_current_funccal_dict</a>(ht);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (d == NULL)</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    {</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">if</span> (ht == &amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>)</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        d = &amp;<a class="code" href="evalvars_8c.html#a053e45c94297be1f4be7c51510b6c5ad">globvardict</a>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ht == &amp;compat_hashtab)</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        d = &amp;<a class="code" href="evalvars_8c.html#a0eee781c74994bc265c20eb200f3226d">vimvardict</a>;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        {</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        di = <a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(ht, *name, (char_u *)<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        d = di == NULL ? NULL : di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a3e158fa0e1ba87a1a739a476845dc6fc">v_dict</a>;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="keywordflow">if</span> (d == NULL)</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        {</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <a class="code" href="message_8c.html#acf47f2acaa03395461e2b233638e69d0">internal_error</a>(<span class="stringliteral">&quot;do_unlet()&quot;</span>);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    }</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    hi = <a class="code" href="hashtab_8c.html#ad88600b48e72a2a435f472e63680577b">hash_find</a>(ht, varname);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        hi = <a class="code" href="userfunc_8c.html#a4605de2b8d45c4879bce0ebbaa5cc17b">find_hi_in_scoped_ht</a>(name, &amp;ht);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span> (hi != NULL &amp;&amp; !<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        di = <a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#ae23b4fe338c8168553b57f1199414cfa">var_check_fixed</a>(di-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a>, name, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            || <a class="code" href="evalvars_8c.html#ad450160e643f28d55a6254ea37b1252e">var_check_ro</a>(di-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a>, name, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            || <a class="code" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a>(d-&gt;<a class="code" href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dv_lock</a>, name, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <a class="code" href="evalvars_8c.html#aaa1c56a23cae60792f4b4a96d5960fa3">delete_var</a>(ht, hi);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    }</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (forceit)</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E108: No such variable: \&quot;%s\&quot;&quot;</span>), name);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;}</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment"> * Lock or unlock variable indicated by &quot;lp&quot;.</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment"> * &quot;deep&quot; is the levels to go (-1 for unlimited);</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment"> * &quot;lock&quot; is TRUE for &quot;:lockvar&quot;, FALSE for &quot;:unlockvar&quot;.</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01577"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ac6fd1c0db202684ad2b4849ac0936066"> 1577</a></span>&#160;<a class="code" href="evalvars_8c.html#ac6fd1c0db202684ad2b4849ac0936066">do_lock_var</a>(</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <a class="code" href="structlval___s.html">lval_T</a>  *lp,</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    char_u  *name_end,</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordtype">int</span>     deep,</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordtype">int</span>     lock)</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;{</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordtype">int</span>     ret = <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordtype">int</span>     cc;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *di;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">if</span> (deep == 0)  <span class="comment">// nothing to do</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="structlval___s.html#a64c44610767086ec618e6cbd8e6f99c6">ll_tv</a> == NULL)</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    {</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    cc = *name_end;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    *name_end = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// Normal name or expanded name.</span></div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    di = <a class="code" href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0">find_var</a>(lp-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a>, NULL, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">if</span> (di == NULL)</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        ret = <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((di-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> &amp; <a class="code" href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a>)</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            &amp;&amp; di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            &amp;&amp; di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>)</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="comment">// For historic reasons this error is not given for a list or dict.</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="comment">// E.g., the b: dict could be locked/unlocked.</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E940: Cannot lock or unlock variable %s&quot;</span>), lp-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a>);</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    {</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        di-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> |= <a class="code" href="structs_8h.html#a84da1cb7b5fbef50a23b3c98f81ca1bf">DI_FLAGS_LOCK</a>;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        di-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> &amp;= ~<a class="code" href="structs_8h.html#a84da1cb7b5fbef50a23b3c98f81ca1bf">DI_FLAGS_LOCK</a>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(&amp;di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>, deep, lock);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    }</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    *name_end = cc;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    }</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="structlval___s.html#a4e27b3e46d0c1554fe480f3d1983ea8f">ll_range</a>)</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="structlistitem___s.html">listitem_T</a>    *li = lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a>;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="comment">// (un)lock a range of List items.</span></div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">while</span> (li != NULL &amp;&amp; (lp-&gt;<a class="code" href="structlval___s.html#a2681f36288f0c50170948dc8a8db3d1a">ll_empty2</a> || lp-&gt;<a class="code" href="structlval___s.html#ae245c5f6d8bb5d074c378f4b85910ad6">ll_n2</a> &gt;= lp-&gt;<a class="code" href="structlval___s.html#a99a40fd5f3ff747dd744a5f05b341b32">ll_n1</a>))</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    {</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(&amp;li-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>, deep, lock);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        li = li-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        ++lp-&gt;<a class="code" href="structlval___s.html#a99a40fd5f3ff747dd744a5f05b341b32">ll_n1</a>;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    }</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">ll_list</a> != NULL)</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// (un)lock a List item.</span></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(&amp;lp-&gt;<a class="code" href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">ll_li</a>-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>, deep, lock);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="comment">// (un)lock a Dictionary item.</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(&amp;lp-&gt;<a class="code" href="structlval___s.html#a67fe97bdfbd3596c36f269712c500603">ll_di</a>-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>, deep, lock);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;}</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment"> * Lock or unlock an item.  &quot;deep&quot; is nr of levels to go.</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l01641"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec"> 1641</a></span>&#160;<a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(<a class="code" href="structtypval___t.html">typval_T</a> *tv, <span class="keywordtype">int</span> deep, <span class="keywordtype">int</span> lock)</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;{</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>  recurse = 0;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a>  *<a class="code" href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="code" href="structlistitem___s.html">listitem_T</a>  *li;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <a class="code" href="structdictvar___s.html">dict_T</a>  *<a class="code" href="namespacedehqx.html#aa833403a763c179f4ce8087adc050961">d</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <a class="code" href="structblobvar___s.html">blob_T</a>  *b;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordtype">int</span>     todo;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (recurse &gt;= <a class="code" href="vim_8h.html#a6f2af55844aa386ba2670a3904c914f4">DICT_MAXNEST</a>)</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E743: variable nested too deep for (un)lock&quot;</span>));</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">if</span> (deep == 0)</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    ++recurse;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="comment">// lock/unlock the item itself</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    tv-&gt;<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a> |= <a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    tv-&gt;<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a> &amp;= ~<a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">switch</span> (tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a>)</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    {</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>:</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>:</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>:</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a>:</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a>:</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa25f96b33612e203167f219b79603545">VAR_FLOAT</a>:</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da">VAR_SPECIAL</a>:</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aac62f72a7a3febbf22d9f54c580e833c">VAR_JOB</a>:</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a529633994c146dc2659a3566abedf455">VAR_CHANNEL</a>:</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a985698eebe92f420b1d38a29c3534ae4">VAR_BLOB</a>:</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <span class="keywordflow">if</span> ((b = tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a146a5c0899b43863e0af44334971da45">v_blob</a>) != NULL)</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            b-&gt;<a class="code" href="structblobvar___s.html#ab965f8319c8660fe296b3f20eaf06e76">bv_lock</a> |= <a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            b-&gt;<a class="code" href="structblobvar___s.html#ab965f8319c8660fe296b3f20eaf06e76">bv_lock</a> &amp;= ~<a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>:</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">if</span> ((l = tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a886659f986c150dab284f1d5ef64ee00">v_list</a>) != NULL)</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        {</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            l-&gt;<a class="code" href="structlistvar___s.html#a4840249ee4557b01d326f6e188a594c5">lv_lock</a> |= <a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            l-&gt;<a class="code" href="structlistvar___s.html#a4840249ee4557b01d326f6e188a594c5">lv_lock</a> &amp;= ~<a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="keywordflow">if</span> (deep &lt; 0 || deep &gt; 1)</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            <span class="comment">// recursive: lock/unlock the items the List contains</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            <span class="keywordflow">for</span> (li = l-&gt;<a class="code" href="structlistvar___s.html#ac58b71606ce99566ca5d48f92457efd7">lv_first</a>; li != NULL; li = li-&gt;<a class="code" href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">li_next</a>)</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(&amp;li-&gt;<a class="code" href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">li_tv</a>, deep - 1, lock);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        }</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a>:</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="keywordflow">if</span> ((d = tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a3e158fa0e1ba87a1a739a476845dc6fc">v_dict</a>) != NULL)</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        {</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            d-&gt;<a class="code" href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dv_lock</a> |= <a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            d-&gt;<a class="code" href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dv_lock</a> &amp;= ~<a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">if</span> (deep &lt; 0 || deep &gt; 1)</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            <span class="comment">// recursive: lock/unlock the items the List contains</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            todo = (int)d-&gt;<a class="code" href="structdictvar___s.html#af548e8140290e70d4a5833ef7558194d">dv_hashtab</a>.<a class="code" href="structhashtable___s.html#a5102b561274edb12b4ac5c9b0df7dab1">ht_used</a>;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            for (hi = d-&gt;<a class="code" href="structdictvar___s.html#af548e8140290e70d4a5833ef7558194d">dv_hashtab</a>.<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a>; todo &gt; 0; ++hi)</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            {</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            {</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                --todo;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                <a class="code" href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a>(&amp;<a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi)-&gt;di_tv, deep - 1, lock);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        }</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        }</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    --recurse;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;}</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="preprocessor">#if (defined(FEAT_MENU) &amp;&amp; defined(FEAT_MULTI_LANG)) || defined(PROTO)</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment"> * Delete all &quot;menutrans_&quot; variables.</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l01731"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a5960a0e56b8c555ec534393b6d6896cf"> 1731</a></span>&#160;<a class="code" href="evalvars_8c.html#a5960a0e56b8c555ec534393b6d6896cf">del_menutrans_vars</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;{</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordtype">int</span>     todo;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="hashtab_8c.html#a49b651de8edaf9d8b6375c63c4106b5d">hash_lock</a>(&amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    todo = (int)<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>.ht_used;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    for (hi = <a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>.ht_array; todo &gt; 0 &amp;&amp; !got_int; ++hi)</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        --todo;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a5f1ef744c34be69aec1531f1fe604a9b">STRNCMP</a>(<a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi)-&gt;di_key, <span class="stringliteral">&quot;menutrans_&quot;</span>, 10) == 0)</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <a class="code" href="evalvars_8c.html#aaa1c56a23cae60792f4b4a96d5960fa3">delete_var</a>(&amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>, hi);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    }</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    }</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <a class="code" href="hashtab_8c.html#adb2779e2b1f3393ac14de128717fb3d4">hash_unlock</a>(&amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="comment"> * Local string buffer for the next two functions to store a variable name</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="comment"> * with its prefix. Allocated in cat_prefix_varname(), freed later in</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="comment"> * get_user_var_name().</span></div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div><div class="line"><a name="l01757"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8"> 1757</a></span>&#160;<span class="keyword">static</span> char_u   *<a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a> = NULL;</div><div class="line"><a name="l01758"></a><span class="lineno"><a class="line" href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6"> 1758</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code" href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6">varnamebuflen</a> = 0;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment"> * Function to concatenate a prefix and a variable name.</span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keyword">static</span> char_u *</div><div class="line"><a name="l01764"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae"> 1764</a></span>&#160;<a class="code" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a>(<span class="keywordtype">int</span> prefix, char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>)</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;{</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordtype">int</span>     len;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    len = (int)<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(name) + 3;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">if</span> (len &gt; <a class="code" href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6">varnamebuflen</a>)</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    {</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(<a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a>);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    len += 10;          <span class="comment">// some additional space</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a> = <a class="code" href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a>(len);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a> == NULL)</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    {</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <a class="code" href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6">varnamebuflen</a> = 0;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <a class="code" href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6">varnamebuflen</a> = len;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    }</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    *<a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a> = prefix;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a>[1] = <span class="charliteral">&#39;:&#39;</span>;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(<a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a> + 2, name);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a>;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;}</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="comment"> * Function given to ExpandGeneric() to obtain the list of user defined</span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="comment"> * (global/buffer/window/built-in) variable names.</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    char_u *</div><div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a34f0160c4b9ac8f21ea494bf82694b45"> 1792</a></span>&#160;<a class="code" href="evalvars_8c.html#a34f0160c4b9ac8f21ea494bf82694b45">get_user_var_name</a>(<a class="code" href="structexpand.html">expand_T</a> *xp, <span class="keywordtype">int</span> idx)</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;{</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keyword">static</span> <a class="code" href="vim_8h.html#af61a821be0d5cd6dbf89685d34bb4d39">long_u</a>   gdone;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keyword">static</span> <a class="code" href="vim_8h.html#af61a821be0d5cd6dbf89685d34bb4d39">long_u</a>   bdone;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keyword">static</span> <a class="code" href="vim_8h.html#af61a821be0d5cd6dbf89685d34bb4d39">long_u</a>   wdone;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keyword">static</span> <a class="code" href="vim_8h.html#af61a821be0d5cd6dbf89685d34bb4d39">long_u</a>   tdone;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>      vidx;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keyword">static</span> <a class="code" href="structhashitem___s.html">hashitem_T</a>   *hi;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>       *ht;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">if</span> (idx == 0)</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    gdone = bdone = wdone = vidx = 0;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    tdone = 0;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    }</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="comment">// Global variables</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">if</span> (gdone &lt; <a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>.ht_used)</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    {</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">if</span> (gdone++ == 0)</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        hi = <a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>.ht_array;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        ++hi;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        ++hi;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a5f1ef744c34be69aec1531f1fe604a9b">STRNCMP</a>(<span class="stringliteral">&quot;g:&quot;</span>, xp-&gt;<a class="code" href="structexpand.html#a9e1cd5d67a4beefbcb5c878466278b1a">xp_pattern</a>, 2) == 0)</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a>(<span class="charliteral">&#39;g&#39;</span>, hi-&gt;<a class="code" href="structhashitem___s.html#a87f4dbc4f9d02097b5146746bb8327c6">hi_key</a>);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> hi-&gt;<a class="code" href="structhashitem___s.html#a87f4dbc4f9d02097b5146746bb8327c6">hi_key</a>;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    }</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="comment">// b: variables</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    ht = &amp;curbuf-&gt;b_vars-&gt;dv_hashtab;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">if</span> (bdone &lt; ht-&gt;ht_used)</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    {</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (bdone++ == 0)</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        hi = ht-&gt;<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a>;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        ++hi;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        ++hi;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a>(<span class="charliteral">&#39;b&#39;</span>, hi-&gt;<a class="code" href="structhashitem___s.html#a87f4dbc4f9d02097b5146746bb8327c6">hi_key</a>);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="comment">// w: variables</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    ht = &amp;<a class="code" href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a>-&gt;w_vars-&gt;dv_hashtab;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">if</span> (wdone &lt; ht-&gt;ht_used)</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    {</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">if</span> (wdone++ == 0)</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        hi = ht-&gt;<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a>;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        ++hi;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        ++hi;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a>(<span class="charliteral">&#39;w&#39;</span>, hi-&gt;<a class="code" href="structhashitem___s.html#a87f4dbc4f9d02097b5146746bb8327c6">hi_key</a>);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    }</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="comment">// t: variables</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    ht = &amp;<a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>-&gt;tp_vars-&gt;dv_hashtab;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">if</span> (tdone &lt; ht-&gt;ht_used)</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    {</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">if</span> (tdone++ == 0)</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        hi = ht-&gt;<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a>;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        ++hi;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        ++hi;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a>(<span class="charliteral">&#39;t&#39;</span>, hi-&gt;<a class="code" href="structhashitem___s.html#a87f4dbc4f9d02097b5146746bb8327c6">hi_key</a>);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    }</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="comment">// v: variables</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">if</span> (vidx &lt; <a class="code" href="vim_8h.html#afb9987aac1d89e5494912ae1a1b5805b">VV_LEN</a>)</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a>(<span class="charliteral">&#39;v&#39;</span>, (char_u *)<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[vidx++].<a class="code" href="structvimvar.html#accd564fc6c3219a54ca965a749057c4a">vv_name</a>);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a>(<a class="code" href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a>);</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6">varnamebuflen</a> = 0;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;}</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordtype">char</span> *</div><div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a2888c88e48d39e0b8ed9dd1d9728dcd6"> 1871</a></span>&#160;<a class="code" href="evalvars_8c.html#a2888c88e48d39e0b8ed9dd1d9728dcd6">get_var_special_name</a>(<span class="keywordtype">int</span> nr)</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;{</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">switch</span> (nr)</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    {</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vim_8h.html#a4bc37d2ce945e5de8d1d94f338ccd74a">VVAL_FALSE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;v:false&quot;</span>;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vim_8h.html#aa829e7c088b1abbad4bfb887f65a766d">VVAL_TRUE</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;v:true&quot;</span>;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vim_8h.html#aff8d3044d7812c7120eadc0d84bd7e8d">VVAL_NONE</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;v:none&quot;</span>;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vim_8h.html#aa68b06f527f41f1f7c5ade4dbbfa230b">VVAL_NULL</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;v:null&quot;</span>;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    }</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="message_8c.html#acf47f2acaa03395461e2b233638e69d0">internal_error</a>(<span class="stringliteral">&quot;get_var_special_name()&quot;</span>);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;42&quot;</span>;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;}</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment"> * Returns the global variable dictionary</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="structdictvar___s.html">dict_T</a> *</div><div class="line"><a name="l01888"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ac1b5912bd875fbad7ed0764186a7c7f7"> 1888</a></span>&#160;<a class="code" href="evalvars_8c.html#ac1b5912bd875fbad7ed0764186a7c7f7">get_globvar_dict</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;{</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#a053e45c94297be1f4be7c51510b6c5ad">globvardict</a>;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;}</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment"> * Returns the global variable hash table</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a> *</div><div class="line"><a name="l01897"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a92d3aa88bb539fe1d70c68a02b03281e"> 1897</a></span>&#160;<a class="code" href="evalvars_8c.html#a92d3aa88bb539fe1d70c68a02b03281e">get_globvar_ht</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;{</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;}</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="comment"> * Returns the v: variable dictionary</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <a class="code" href="structdictvar___s.html">dict_T</a> *</div><div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a99e530babd4f71eefac5b5587db7004b"> 1906</a></span>&#160;<a class="code" href="evalvars_8c.html#a99e530babd4f71eefac5b5587db7004b">get_vimvar_dict</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;{</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#a0eee781c74994bc265c20eb200f3226d">vimvardict</a>;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;}</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="comment"> * Set type of v: variable to &quot;type&quot;.</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l01915"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a91171633ae3c54324075e36b3c7845c1"> 1915</a></span>&#160;<a class="code" href="evalvars_8c.html#a91171633ae3c54324075e36b3c7845c1">set_vim_var_type</a>(<span class="keywordtype">int</span> idx, <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76">vartype_T</a> type)</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;{</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_type = type;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;}</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment"> * Set number v: variable to &quot;val&quot;.</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment"> * Note that this does not set the type, use set_vim_var_type() for that.</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l01925"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3"> 1925</a></span>&#160;<a class="code" href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a>(<span class="keywordtype">int</span> idx, <a class="code" href="structs_8h.html#a21d6df6d2e0a5faa559caaad05c5962d">varnumber_T</a> val)</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;{</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_nr = val;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment"> * Get typval_T v: variable value.</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a> *</div><div class="line"><a name="l01934"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a287cbe97033bf8e9c93b8d884530601f"> 1934</a></span>&#160;<a class="code" href="evalvars_8c.html#a287cbe97033bf8e9c93b8d884530601f">get_vim_var_tv</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;{</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_tv;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;}</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment"> * Get number v: variable value.</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <a class="code" href="structs_8h.html#a21d6df6d2e0a5faa559caaad05c5962d">varnumber_T</a></div><div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a65f03f5f57300a09f80c417cc9be6db8"> 1943</a></span>&#160;<a class="code" href="evalvars_8c.html#a65f03f5f57300a09f80c417cc9be6db8">get_vim_var_nr</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;{</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_nr;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;}</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="comment"> * Get string v: variable value.  Uses a static buffer, can only be used once.</span></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="comment"> * If the String variable has never been set, return an empty string.</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="comment"> * Never returns NULL;</span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    char_u *</div><div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a5c7a8c84b65dc8166f8bb9c1db583d54"> 1954</a></span>&#160;<a class="code" href="evalvars_8c.html#a5c7a8c84b65dc8166f8bb9c1db583d54">get_vim_var_str</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;{</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ac06b57274a721210cd205e253073bfa9">tv_get_string</a>(&amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="evalvars_8c.html#a1ab71a7f2f3dde05efecbba754c25d65">vv_tv</a>);</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;}</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment"> * Get List v: variable value.  Caller must take care of reference count when</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment"> * needed.</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <a class="code" href="structlistvar___s.html">list_T</a> *</div><div class="line"><a name="l01964"></a><span class="lineno"><a class="line" href="evalvars_8c.html#abb5d7d84056cabfb922837912927a1b5"> 1964</a></span>&#160;<a class="code" href="evalvars_8c.html#abb5d7d84056cabfb922837912927a1b5">get_vim_var_list</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;{</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_list;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;}</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="comment"> * Get Dict v: variable value.  Caller must take care of reference count when</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;<span class="comment"> * needed.</span></div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <a class="code" href="structdictvar___s.html">dict_T</a> *</div><div class="line"><a name="l01974"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad78c1107613c1eb51a0f4c8041c7bc4e"> 1974</a></span>&#160;<a class="code" href="evalvars_8c.html#ad78c1107613c1eb51a0f4c8041c7bc4e">get_vim_var_dict</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;{</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_dict;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;}</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="comment"> * Set v:char to character &quot;c&quot;.</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l01983"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aa10dd0a09a291715fabfee80b7913563"> 1983</a></span>&#160;<a class="code" href="evalvars_8c.html#aa10dd0a09a291715fabfee80b7913563">set_vim_var_char</a>(<span class="keywordtype">int</span> c)</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;{</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    char_u  buf[<a class="code" href="vim_8h.html#abbec2969b70153231345dde65a96a7fb">MB_MAXBYTES</a> + 1];</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">if</span> (has_mbyte)</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    buf[(*mb_char2bytes)(c, buf)] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    buf[0] = c;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    buf[1] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    }</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a769e020d8e36b3c3d9464e8507ebdb72">VV_CHAR</a>, buf, -1);</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;}</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="comment"> * Set v:count to &quot;count&quot; and v:count1 to &quot;count1&quot;.</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="comment"> * When &quot;set_prevcount&quot; is TRUE first set v:prevcount from v:count.</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02002"></a><span class="lineno"><a class="line" href="evalvars_8c.html#af4a73781b6b10a9fd4a67df28c281bc2"> 2002</a></span>&#160;<a class="code" href="evalvars_8c.html#af4a73781b6b10a9fd4a67df28c281bc2">set_vcount</a>(</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordtype">long</span>    count,</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keywordtype">long</span>    count1,</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordtype">int</span>     set_prevcount)</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;{</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">if</span> (set_prevcount)</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a26f2fb11a6806ce27b2b19468e6f388d">VV_PREVCOUNT</a>].vv_nr = <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a6c7cf32b49a274bed62b459cf1cb7442">VV_COUNT</a>].vv_nr;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a6c7cf32b49a274bed62b459cf1cb7442">VV_COUNT</a>].vv_nr = count;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a88a6687f348ae9e5113aa1844772c417">VV_COUNT1</a>].vv_nr = count1;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;}</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="comment"> * Save variables that might be changed as a side effect.  Used when executing</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment"> * a timer callback.</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02018"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a9205a879fa8398c884f9c155342c53ea"> 2018</a></span>&#160;<a class="code" href="evalvars_8c.html#a9205a879fa8398c884f9c155342c53ea">save_vimvars</a>(<a class="code" href="structvimvars__save___t.html">vimvars_save_T</a> *vvsave)</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;{</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    vvsave-&gt;<a class="code" href="structvimvars__save___t.html#ade647c08aa7a59c3ee285f442dd5fd8a">vv_prevcount</a> = <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a26f2fb11a6806ce27b2b19468e6f388d">VV_PREVCOUNT</a>].vv_nr;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    vvsave-&gt;<a class="code" href="structvimvars__save___t.html#aadee3112de0fff7a75638229d02e2365">vv_count</a> = <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a6c7cf32b49a274bed62b459cf1cb7442">VV_COUNT</a>].vv_nr;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    vvsave-&gt;<a class="code" href="structvimvars__save___t.html#a580ced612e5470fc853c527fad3f3e85">vv_count1</a> = <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a88a6687f348ae9e5113aa1844772c417">VV_COUNT1</a>].vv_nr;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;}</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="comment"> * Restore variables saved by save_vimvars().</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02029"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ac1d791a3762e81f6365e8004660ffbda"> 2029</a></span>&#160;<a class="code" href="evalvars_8c.html#ac1d791a3762e81f6365e8004660ffbda">restore_vimvars</a>(<a class="code" href="structvimvars__save___t.html">vimvars_save_T</a> *vvsave)</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;{</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a26f2fb11a6806ce27b2b19468e6f388d">VV_PREVCOUNT</a>].vv_nr = vvsave-&gt;<a class="code" href="structvimvars__save___t.html#ade647c08aa7a59c3ee285f442dd5fd8a">vv_prevcount</a>;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a6c7cf32b49a274bed62b459cf1cb7442">VV_COUNT</a>].vv_nr = vvsave-&gt;<a class="code" href="structvimvars__save___t.html#aadee3112de0fff7a75638229d02e2365">vv_count</a>;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a88a6687f348ae9e5113aa1844772c417">VV_COUNT1</a>].vv_nr = vvsave-&gt;<a class="code" href="structvimvars__save___t.html#a580ced612e5470fc853c527fad3f3e85">vv_count1</a>;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;}</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment"> * Set string v: variable to a copy of &quot;val&quot;. If &#39;copy&#39; is FALSE, then set the</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment"> * value.</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02041"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6"> 2041</a></span>&#160;<a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordtype">int</span>     idx,</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    char_u  *val,</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordtype">int</span>     len)        <span class="comment">// length of &quot;val&quot; to use or -1 (whole string)</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;{</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a8598dcb4c70427feeca5ef94648043d2">di_tv</a>);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_type = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">if</span> (val == NULL)</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_str = NULL;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (len == -1)</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_str = <a class="code" href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a>(val);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_str = <a class="code" href="misc2_8c.html#a871ddb65e41d8bed1c38754d59737a5b">vim_strnsave</a>(val, len);</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;}</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="comment"> * Set List v: variable to &quot;val&quot;.</span></div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02060"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a19036292688dec52327531ca9e34b11e"> 2060</a></span>&#160;<a class="code" href="evalvars_8c.html#a19036292688dec52327531ca9e34b11e">set_vim_var_list</a>(<span class="keywordtype">int</span> idx, <a class="code" href="structlistvar___s.html">list_T</a> *val)</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;{</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a8598dcb4c70427feeca5ef94648043d2">di_tv</a>);</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_type = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_list = val;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">if</span> (val != NULL)</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    ++val-&gt;<a class="code" href="structlistvar___s.html#ad6e6ea61d40bd4ca9a4ebcfb9cb6220c">lv_refcount</a>;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;}</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="comment"> * Set Dictionary v: variable to &quot;val&quot;.</span></div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02073"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aed4e9b31ada66e39400e949f0b854aff"> 2073</a></span>&#160;<a class="code" href="evalvars_8c.html#aed4e9b31ada66e39400e949f0b854aff">set_vim_var_dict</a>(<span class="keywordtype">int</span> idx, <a class="code" href="structdictvar___s.html">dict_T</a> *val)</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;{</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].<a class="code" href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vv_di</a>.<a class="code" href="structdictitem16___s.html#a8598dcb4c70427feeca5ef94648043d2">di_tv</a>);</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_type = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a>;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[idx].vv_dict = val;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">if</span> (val != NULL)</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    {</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    ++val-&gt;<a class="code" href="structdictvar___s.html#aeb109fe6e492c0b791bc0ce3a99ce456">dv_refcount</a>;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <a class="code" href="dict_8c.html#a5ea75cca56131af037d8312270593061">dict_set_items_ro</a>(val);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;}</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="comment"> * Set v:register if needed.</span></div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02089"></a><span class="lineno"><a class="line" href="evalvars_8c.html#adb4fa9c7a47c8c47e6600779fc4ace37"> 2089</a></span>&#160;<a class="code" href="evalvars_8c.html#adb4fa9c7a47c8c47e6600779fc4ace37">set_reg_var</a>(<span class="keywordtype">int</span> c)</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;{</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    char_u  regname;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">if</span> (c == 0 || c == <span class="charliteral">&#39; &#39;</span>)</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    regname = <span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    regname = c;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="comment">// Avoid free/alloc when the value is already right.</span></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#ab59caf0877820a0a077a6c6f90f1c5c2">VV_REG</a>].<a class="code" href="evalvars_8c.html#ae5d955bc3a3940e050a4441dc70e1338">vv_str</a> == NULL || <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#ab59caf0877820a0a077a6c6f90f1c5c2">VV_REG</a>].<a class="code" href="evalvars_8c.html#ae5d955bc3a3940e050a4441dc70e1338">vv_str</a>[0] != c)</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#ab59caf0877820a0a077a6c6f90f1c5c2">VV_REG</a>, &amp;regname, 1);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;}</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="comment"> * Get or set v:exception.  If &quot;oldval&quot; == NULL, return the current value.</span></div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment"> * Otherwise, restore the value to &quot;oldval&quot; and return NULL.</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="comment"> * Must always be called in pairs to save and restore v:exception!  Does not</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="comment"> * take care of memory allocations.</span></div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    char_u *</div><div class="line"><a name="l02109"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a8f50c1590f81ffe343796e1505fe13e3"> 2109</a></span>&#160;<a class="code" href="evalvars_8c.html#a8f50c1590f81ffe343796e1505fe13e3">v_exception</a>(char_u *oldval)</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;{</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">if</span> (oldval == NULL)</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a20fdba6829dac5ba6dc44dd053536bdc">VV_EXCEPTION</a>].vv_str;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a20fdba6829dac5ba6dc44dd053536bdc">VV_EXCEPTION</a>].vv_str = oldval;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;}</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="comment"> * Get or set v:throwpoint.  If &quot;oldval&quot; == NULL, return the current value.</span></div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="comment"> * Otherwise, restore the value to &quot;oldval&quot; and return NULL.</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment"> * Must always be called in pairs to save and restore v:throwpoint!  Does not</span></div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="comment"> * take care of memory allocations.</span></div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    char_u *</div><div class="line"><a name="l02125"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad83516bfbac6fa4e2bd884c85075fca7"> 2125</a></span>&#160;<a class="code" href="evalvars_8c.html#ad83516bfbac6fa4e2bd884c85075fca7">v_throwpoint</a>(char_u *oldval)</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;{</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">if</span> (oldval == NULL)</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#adbefa224e1e0e68ad4636698e7024ab1">VV_THROWPOINT</a>].vv_str;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#adbefa224e1e0e68ad4636698e7024ab1">VV_THROWPOINT</a>].vv_str = oldval;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;}</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="comment"> * Set v:cmdarg.</span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="comment"> * If &quot;eap&quot; != NULL, use &quot;eap&quot; to generate the value and return the old value.</span></div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="comment"> * If &quot;oldarg&quot; != NULL, restore the value to &quot;oldarg&quot; and return NULL.</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="comment"> * Must always be called in pairs!</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    char_u *</div><div class="line"><a name="l02141"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a805f02bc4da6811aae6a1ea928a75282"> 2141</a></span>&#160;<a class="code" href="evalvars_8c.html#a805f02bc4da6811aae6a1ea928a75282">set_cmdarg</a>(<a class="code" href="structexarg.html">exarg_T</a> *eap, char_u *oldarg)</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;{</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    char_u  *oldval;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    char_u  *newval;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordtype">unsigned</span>    len;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    oldval = <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#aef3f72bcd88b2d137299381ef3abb600">VV_CMDARG</a>].vv_str;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">if</span> (eap == NULL)</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    {</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(oldval);</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#aef3f72bcd88b2d137299381ef3abb600">VV_CMDARG</a>].vv_str = oldarg;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    }</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#adc8d214a7c8bcaa5fa6ad24886f7af1b">force_bin</a> == <a class="code" href="ex__cmds_8h.html#adade35874286a0d3adf67ddd3bf8c4bc">FORCE_BIN</a>)</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    len = 6;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#adc8d214a7c8bcaa5fa6ad24886f7af1b">force_bin</a> == <a class="code" href="ex__cmds_8h.html#a0c3a0b0c5323f8880858f0e5d844b9cf">FORCE_NOBIN</a>)</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    len = 8;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    len = 0;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a890d17f4aaf19e596b75ab4db4a152c6">read_edit</a>)</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    len += 7;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#ad2d41d9a2ef521008f4b4e800a1e42ef">force_ff</a> != 0)</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    len += 10; <span class="comment">// &quot; ++ff=unix&quot;</span></div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#aa1a072c9c4dfafa9af02eb3cfbc1feca">force_enc</a> != 0)</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    len += (unsigned)<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(eap-&gt;<a class="code" href="structexarg.html#af020ebe893532e08dae5d69d9de52d40">cmd</a> + eap-&gt;<a class="code" href="structexarg.html#aa1a072c9c4dfafa9af02eb3cfbc1feca">force_enc</a>) + 7;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#aa0ec3afbe9b4ac94880acdc628812b25">bad_char</a> != 0)</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    len += 7 + 4;  <span class="comment">// &quot; ++bad=&quot; + &quot;keep&quot; or &quot;drop&quot;</span></div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    newval = <a class="code" href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a>(len + 1);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">if</span> (newval == NULL)</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#adc8d214a7c8bcaa5fa6ad24886f7af1b">force_bin</a> == <a class="code" href="ex__cmds_8h.html#adade35874286a0d3adf67ddd3bf8c4bc">FORCE_BIN</a>)</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    sprintf((<span class="keywordtype">char</span> *)newval, <span class="stringliteral">&quot; ++bin&quot;</span>);</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#adc8d214a7c8bcaa5fa6ad24886f7af1b">force_bin</a> == <a class="code" href="ex__cmds_8h.html#a0c3a0b0c5323f8880858f0e5d844b9cf">FORCE_NOBIN</a>)</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    sprintf((<span class="keywordtype">char</span> *)newval, <span class="stringliteral">&quot; ++nobin&quot;</span>);</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    *newval = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#a890d17f4aaf19e596b75ab4db4a152c6">read_edit</a>)</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <a class="code" href="vim_8h.html#ada443375305fc60b73f44a59a2bf3f3b">STRCAT</a>(newval, <span class="stringliteral">&quot; ++edit&quot;</span>);</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#ad2d41d9a2ef521008f4b4e800a1e42ef">force_ff</a> != 0)</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    sprintf((<span class="keywordtype">char</span> *)newval + <a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(newval), <span class="stringliteral">&quot; ++ff=%s&quot;</span>,</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                        eap-&gt;<a class="code" href="structexarg.html#ad2d41d9a2ef521008f4b4e800a1e42ef">force_ff</a> == <span class="charliteral">&#39;u&#39;</span> ? <span class="stringliteral">&quot;unix&quot;</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                        : eap-&gt;<a class="code" href="structexarg.html#ad2d41d9a2ef521008f4b4e800a1e42ef">force_ff</a> == <span class="charliteral">&#39;d&#39;</span> ? <span class="stringliteral">&quot;dos&quot;</span></div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                        : <span class="stringliteral">&quot;mac&quot;</span>);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#aa1a072c9c4dfafa9af02eb3cfbc1feca">force_enc</a> != 0)</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    sprintf((<span class="keywordtype">char</span> *)newval + <a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(newval), <span class="stringliteral">&quot; ++enc=%s&quot;</span>,</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                           eap-&gt;<a class="code" href="structexarg.html#af020ebe893532e08dae5d69d9de52d40">cmd</a> + eap-&gt;<a class="code" href="structexarg.html#aa1a072c9c4dfafa9af02eb3cfbc1feca">force_enc</a>);</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#aa0ec3afbe9b4ac94880acdc628812b25">bad_char</a> == <a class="code" href="vim_8h.html#a2ecdf12bea0e44bfd58b27d2868e0291">BAD_KEEP</a>)</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(newval + <a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(newval), <span class="stringliteral">&quot; ++bad=keep&quot;</span>);</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#aa0ec3afbe9b4ac94880acdc628812b25">bad_char</a> == <a class="code" href="vim_8h.html#ab2027c9bd737d71f52fcd2e9317acd3e">BAD_DROP</a>)</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(newval + <a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(newval), <span class="stringliteral">&quot; ++bad=drop&quot;</span>);</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eap-&gt;<a class="code" href="structexarg.html#aa0ec3afbe9b4ac94880acdc628812b25">bad_char</a> != 0)</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    sprintf((<span class="keywordtype">char</span> *)newval + <a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(newval), <span class="stringliteral">&quot; ++bad=%c&quot;</span>, eap-&gt;<a class="code" href="structexarg.html#aa0ec3afbe9b4ac94880acdc628812b25">bad_char</a>);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#aef3f72bcd88b2d137299381ef3abb600">VV_CMDARG</a>].vv_str = newval;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">return</span> oldval;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;}</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment"> * Get the value of internal variable &quot;name&quot;.</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment"> * Return OK or FAIL.  If OK is returned &quot;rettv&quot; must be cleared.</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l02209"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a9c601cd989af85b19b8c26349a2c5bd1"> 2209</a></span>&#160;<a class="code" href="evalvars_8c.html#a9c601cd989af85b19b8c26349a2c5bd1">get_var_tv</a>(</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordtype">int</span>     len,        <span class="comment">// length of &quot;name&quot;</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *rettv,     <span class="comment">// NULL when only checking existence</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  **dip,      <span class="comment">// non-NULL when typval&#39;s dict item is needed</span></div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordtype">int</span>     verbose,    <span class="comment">// may give error message</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordtype">int</span>     no_autoload)    <span class="comment">// do not use script autoloading</span></div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;{</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="keywordtype">int</span>     ret = <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *tv = NULL;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordtype">int</span>     cc;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="comment">// truncate the name, so that we can use strcmp()</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    cc = name[len];</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    name[len] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="comment">// Check for user-defined variables.</span></div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    v = <a class="code" href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0">find_var</a>(name, NULL, no_autoload);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <span class="keywordflow">if</span> (v != NULL)</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    {</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    tv = &amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span> (dip != NULL)</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        *dip = v;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    }</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">if</span> (tv == NULL)</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    {</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (rettv != NULL &amp;&amp; verbose)</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_undefvar), name);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    ret = <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    }</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rettv != NULL)</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(tv, rettv);</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    name[len] = cc;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;}</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment"> * Check if variable &quot;name[len]&quot; is a local variable or an argument.</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="comment"> * If so, &quot;*eval_lavars_used&quot; is set to TRUE.</span></div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02254"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aa5e98fb20c6c9dd3ec107d4ffeba3805"> 2254</a></span>&#160;<a class="code" href="evalvars_8c.html#aa5e98fb20c6c9dd3ec107d4ffeba3805">check_vars</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> len)</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;{</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordtype">int</span>     cc;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    char_u  *varname;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht;</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">if</span> (eval_lavars_used == NULL)</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="comment">// truncate the name, so that we can use strcmp()</span></div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    cc = name[len];</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    name[len] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    ht = <a class="code" href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093">find_var_ht</a>(name, &amp;varname);</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">if</span> (ht == <a class="code" href="userfunc_8c.html#aa449e7ea2dcaae235308a92e53f91163">get_funccal_local_ht</a>() || ht == <a class="code" href="userfunc_8c.html#a1606e2daa2efa3341dd61e2387525623">get_funccal_args_ht</a>())</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    {</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0">find_var</a>(name, NULL, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) != NULL)</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        *eval_lavars_used = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    name[len] = cc;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;}</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="comment"> * Find variable &quot;name&quot; in the list of variables.</span></div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment"> * Return a pointer to it if found, NULL if not found.</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment"> * Careful: &quot;a:0&quot; variables don&#39;t have a name.</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="comment"> * When &quot;htp&quot; is not NULL we are writing to the variable, set &quot;htp&quot; to the</span></div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment"> * hashtab_T used.</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a> *</div><div class="line"><a name="l02285"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0"> 2285</a></span>&#160;<a class="code" href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0">find_var</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="structhashtable___s.html">hashtab_T</a> **htp, <span class="keywordtype">int</span> no_autoload)</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;{</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    char_u  *varname;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *ret = NULL;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    ht = <a class="code" href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093">find_var_ht</a>(name, &amp;varname);</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">if</span> (htp != NULL)</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    *htp = ht;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">if</span> (ht == NULL)</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    ret = <a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(ht, *name, varname, no_autoload || htp != NULL);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="keywordflow">if</span> (ret != NULL)</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <span class="comment">// Search in parent scope for lambda</span></div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="userfunc_8c.html#ac1dd2cd41008443b77ee7f596076d728">find_var_in_scoped_ht</a>(name, no_autoload || htp != NULL);</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;}</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="comment"> * Find variable &quot;varname&quot; in hashtab &quot;ht&quot; with name &quot;htname&quot;.</span></div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="comment"> * Returns NULL if not found.</span></div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a> *</div><div class="line"><a name="l02309"></a><span class="lineno"><a class="line" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b"> 2309</a></span>&#160;<a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht,</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="keywordtype">int</span>     htname,</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    char_u  *varname,</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordtype">int</span>     no_autoload)</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;{</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="keywordflow">if</span> (*varname == <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    {</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="comment">// Must be something like &quot;s:&quot;, otherwise &quot;ht&quot; would be NULL.</span></div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">switch</span> (htname)</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    {</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#abc1f4b1a7e7951ee61e32712945a31f7">SCRIPT_SV</a>(current_sctx.sc_sid)-&gt;sv_var;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>: <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#a2884669bccf5f17eb4db4c595237ff44">globvars_var</a>;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#ac5e111ffb90a4821f63ec113134a45ac">vimvars_var</a>;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <span class="keywordflow">return</span> &amp;curbuf-&gt;b_bufvar;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>: <span class="keywordflow">return</span> &amp;<a class="code" href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a>-&gt;w_winvar;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: <span class="keywordflow">return</span> &amp;<a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>-&gt;tp_winvar;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="userfunc_8c.html#a905502f977c2e23ff357c0da6007dc0e">get_funccal_local_var</a>();</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="userfunc_8c.html#a0372f2b122352f541c1041bcfd9bb201">get_funccal_args_var</a>();</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    }</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    }</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    hi = <a class="code" href="hashtab_8c.html#ad88600b48e72a2a435f472e63680577b">hash_find</a>(ht, varname);</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    {</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="comment">// For global variables we may try auto-loading the script.  If it</span></div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="comment">// worked find the variable again.  Don&#39;t auto-load a script if it was</span></div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="comment">// loaded already, otherwise it would be loaded every time when</span></div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="comment">// checking if a function name is a Funcref variable.</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="keywordflow">if</span> (ht == &amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a> &amp;&amp; !no_autoload)</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    {</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <span class="comment">// Note: script_autoload() may make &quot;hi&quot; invalid. It must either</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="comment">// be obtained again or not used.</span></div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="scriptfile_8c.html#a86f068e5add12d8ff738d7b2a8f8a54f">script_autoload</a>(varname, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) || <a class="code" href="ex__eval_8c.html#a131392e1733efbee3a9af3d333fe0b42">aborting</a>())</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        hi = <a class="code" href="hashtab_8c.html#ad88600b48e72a2a435f472e63680577b">hash_find</a>(ht, varname);</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    }</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    }</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi);</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;}</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="comment"> * Find the hashtab used for a variable name.</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="comment"> * Return NULL if the name is not valid.</span></div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment"> * Set &quot;varname&quot; to the start of name without &#39;:&#39;.</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a> *</div><div class="line"><a name="l02361"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093"> 2361</a></span>&#160;<a class="code" href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093">find_var_ht</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, char_u **varname)</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;{</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">if</span> (name[0] == <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">if</span> (name[1] != <span class="charliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    {</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="comment">// The name must not start with a colon or #.</span></div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordflow">if</span> (name[0] == <span class="charliteral">&#39;:&#39;</span> || name[0] == <a class="code" href="vim_8h.html#a6ef4d2aca28604896cc90c3bef4f0770">AUTOLOAD_CHAR</a>)</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    *varname = <a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="comment">// &quot;version&quot; is &quot;v:version&quot; in all scopes if scriptversion &lt; 3.</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="comment">// Same for a few other variables marked with VV_COMPAT.</span></div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">if</span> (current_sctx.sc_version &lt; 3)</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    {</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        hi = <a class="code" href="hashtab_8c.html#ad88600b48e72a2a435f472e63680577b">hash_find</a>(&amp;compat_hashtab, name);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#afeee35b957dfd85bd970442c33c7f36b">compat_hashtab</a>;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    }</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    ht = <a class="code" href="userfunc_8c.html#aa449e7ea2dcaae235308a92e53f91163">get_funccal_local_ht</a>();</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">if</span> (ht == NULL)</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>;          <span class="comment">// global variable</span></div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">return</span> ht;              <span class="comment">// local variable</span></div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    }</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    *varname = name + 2;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;g&#39;</span>)               <span class="comment">// global variable</span></div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a>;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="comment">// There must be no &#39;:&#39; or &#39;#&#39; in the rest of the name, unless g: is used</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>(name + 2, <span class="charliteral">&#39;:&#39;</span>) != NULL</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;                   || <a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>(name + 2, <a class="code" href="vim_8h.html#a6ef4d2aca28604896cc90c3bef4f0770">AUTOLOAD_CHAR</a>) != NULL)</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;b&#39;</span>)               <span class="comment">// buffer variable</span></div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="keywordflow">return</span> &amp;curbuf-&gt;b_vars-&gt;dv_hashtab;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;w&#39;</span>)               <span class="comment">// window variable</span></div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a>-&gt;w_vars-&gt;dv_hashtab;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;t&#39;</span>)               <span class="comment">// tab page variable</span></div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>-&gt;tp_vars-&gt;dv_hashtab;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;v&#39;</span>)               <span class="comment">// v: variable</span></div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;a&#39;</span>)               <span class="comment">// a: function argument</span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="userfunc_8c.html#a1606e2daa2efa3341dd61e2387525623">get_funccal_args_ht</a>();</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;l&#39;</span>)               <span class="comment">// l: local function variable</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="userfunc_8c.html#aa449e7ea2dcaae235308a92e53f91163">get_funccal_local_ht</a>();</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;s&#39;</span>                <span class="comment">// script variable</span></div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        &amp;&amp; current_sctx.sc_sid &gt; 0</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        &amp;&amp; current_sctx.sc_sid &lt;= ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>)</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">SCRIPT_VARS</a>(current_sctx.sc_sid);</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;}</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment"> * Get the string value of a (global/local) variable.</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment"> * Note: see tv_get_string() for how long the pointer remains valid.</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment"> * Returns NULL when it doesn&#39;t exist.</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    char_u *</div><div class="line"><a name="l02421"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a14a85a013c7211b5e4a5530458f4e169"> 2421</a></span>&#160;<a class="code" href="evalvars_8c.html#a14a85a013c7211b5e4a5530458f4e169">get_var_value</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>)</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;{</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    v = <a class="code" href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0">find_var</a>(name, NULL, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="keywordflow">if</span> (v == NULL)</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#ac06b57274a721210cd205e253073bfa9">tv_get_string</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>);</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;}</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;<span class="comment"> * Allocate a new hashtab for a sourced script.  It will be used while</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;<span class="comment"> * sourcing this script and when executing functions defined in the script.</span></div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02436"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a2b22fc5f41ac9ec101640a921606425c"> 2436</a></span>&#160;<a class="code" href="evalvars_8c.html#a2b22fc5f41ac9ec101640a921606425c">new_script_vars</a>(<a class="code" href="structs_8h.html#a02a5ed8479635618fa379378a5f8d6d5">scid_T</a> <span class="keywordtype">id</span>)</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;{</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordtype">int</span>     i;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <a class="code" href="structscriptvar___t.html">scriptvar_T</a> *sv;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc2_8c.html#a0d962b27bea5772af8833d283ff78ae9">ga_grow</a>(&amp;ga_scripts, (<span class="keywordtype">int</span>)(<span class="keywordtype">id</span> - ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>)) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    {</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="comment">// Re-allocating ga_data means that an ht_array pointing to</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="comment">// ht_smallarray becomes invalid.  We can recognize this: ht_mask is</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <span class="comment">// at its init value.  Also reset &quot;v_dict&quot;, it&#39;s always the same.</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>; ++i)</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    {</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        ht = &amp;<a class="code" href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">SCRIPT_VARS</a>(i);</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        <span class="keywordflow">if</span> (ht-&gt;<a class="code" href="structhashtable___s.html#aed3e87be1a6328050b7d9bfe41b630b9">ht_mask</a> == <a class="code" href="structs_8h.html#a8e5d775b7f5b651b50a6c8d375630ec1">HT_INIT_SIZE</a> - 1)</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        ht-&gt;<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a> = ht-&gt;<a class="code" href="structhashtable___s.html#aa16864dc756832d346c8ffb64d9c6e37">ht_smallarray</a>;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        sv = <a class="code" href="evalvars_8c.html#abc1f4b1a7e7951ee61e32712945a31f7">SCRIPT_SV</a>(i);</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        sv-&gt;<a class="code" href="structscriptvar___t.html#a0fb9cff09f31831b88966becb3928f39">sv_var</a>.<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a3e158fa0e1ba87a1a739a476845dc6fc">v_dict</a> = &amp;sv-&gt;<a class="code" href="structscriptvar___t.html#af5f19006f0239ac7ee776ea9f12e113f">sv_dict</a>;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;    }</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">while</span> (ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a> &lt; <span class="keywordtype">id</span>)</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    {</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;        sv = <a class="code" href="evalvars_8c.html#abc1f4b1a7e7951ee61e32712945a31f7">SCRIPT_SV</a>(ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a> + 1) =</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        <a class="code" href="vim_8h.html#aa48399cd06c9d5c90ec39e59fe61f1d2">ALLOC_CLEAR_ONE</a>(<a class="code" href="structscriptvar___t.html">scriptvar_T</a>);</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        <a class="code" href="evalvars_8c.html#ab3b2e9de18d3cf1c9632dcdcb491bae7">init_var_dict</a>(&amp;sv-&gt;<a class="code" href="structscriptvar___t.html#af5f19006f0239ac7ee776ea9f12e113f">sv_dict</a>, &amp;sv-&gt;<a class="code" href="structscriptvar___t.html#a0fb9cff09f31831b88966becb3928f39">sv_var</a>, <a class="code" href="structs_8h.html#aa8d82b16748a121dcb5b869f762cac90">VAR_SCOPE</a>);</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        ++ga_scripts.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    }</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    }</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;}</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment"> * Initialize dictionary &quot;dict&quot; as a scope and set variable &quot;dict_var&quot; to</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="comment"> * point to it.</span></div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02471"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ab3b2e9de18d3cf1c9632dcdcb491bae7"> 2471</a></span>&#160;<a class="code" href="evalvars_8c.html#ab3b2e9de18d3cf1c9632dcdcb491bae7">init_var_dict</a>(<a class="code" href="structdictvar___s.html">dict_T</a> *dict, <a class="code" href="structdictitem___s.html">dictitem_T</a> *dict_var, <span class="keywordtype">int</span> scope)</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;{</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <a class="code" href="hashtab_8c.html#a1e75fcb634cc34f2a968e47d1b37381a">hash_init</a>(&amp;dict-&gt;<a class="code" href="structdictvar___s.html#af548e8140290e70d4a5833ef7558194d">dv_hashtab</a>);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    dict-&gt;<a class="code" href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dv_lock</a> = 0;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    dict-&gt;<a class="code" href="structdictvar___s.html#a54f7ac67f42e7ad8701dee90aed753e8">dv_scope</a> = scope;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    dict-&gt;<a class="code" href="structdictvar___s.html#aeb109fe6e492c0b791bc0ce3a99ce456">dv_refcount</a> = <a class="code" href="vim_8h.html#aa1d8dd268f8a1c4ad4e614fd4faeed24">DO_NOT_FREE_CNT</a>;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    dict-&gt;<a class="code" href="structdictvar___s.html#a7771eca9488a0fe6f2881c232d604788">dv_copyID</a> = 0;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    dict_var-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a3e158fa0e1ba87a1a739a476845dc6fc">v_dict</a> = dict;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    dict_var-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a>;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    dict_var-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a> = <a class="code" href="structs_8h.html#a1cec23a00344e815cd4004724d91ae8d">VAR_FIXED</a>;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    dict_var-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> = <a class="code" href="structs_8h.html#ae0c626ccf1ee8fae352bfd2e406b245f">DI_FLAGS_RO</a> | <a class="code" href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a>;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    dict_var-&gt;<a class="code" href="structdictitem___s.html#acebf31bd5d7a085a335b677f675fc0d5">di_key</a>[0] = <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;}</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment"> * Unreference a dictionary initialized by init_var_dict().</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02489"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ae24342456f2e2b4a742228a8fa4ee170"> 2489</a></span>&#160;<a class="code" href="evalvars_8c.html#ae24342456f2e2b4a742228a8fa4ee170">unref_var_dict</a>(<a class="code" href="structdictvar___s.html">dict_T</a> *dict)</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;{</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="comment">// Now the dict needs to be freed if no one else is using it, go back to</span></div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="comment">// normal reference counting.</span></div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    dict-&gt;<a class="code" href="structdictvar___s.html#aeb109fe6e492c0b791bc0ce3a99ce456">dv_refcount</a> -= <a class="code" href="vim_8h.html#aa1d8dd268f8a1c4ad4e614fd4faeed24">DO_NOT_FREE_CNT</a> - 1;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <a class="code" href="dict_8c.html#aabf2cdc48294b2576212f72230235c81">dict_unref</a>(dict);</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;}</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;<span class="comment"> * Clean up a list of internal variables.</span></div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;<span class="comment"> * Frees all allocated variables and the value they contain.</span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;<span class="comment"> * Clears hashtab &quot;ht&quot;, does not free it.</span></div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02503"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a8f44857a45e97e0416c48c6a2240608e"> 2503</a></span>&#160;<a class="code" href="evalvars_8c.html#a8f44857a45e97e0416c48c6a2240608e">vars_clear</a>(<a class="code" href="structhashtable___s.html">hashtab_T</a> *ht)</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;{</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <a class="code" href="evalvars_8c.html#a56edbbf450c2a58040d6a88aaea78d27">vars_clear_ext</a>(ht, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;}</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;<span class="comment"> * Like vars_clear(), but only free the value if &quot;free_val&quot; is TRUE.</span></div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02512"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a56edbbf450c2a58040d6a88aaea78d27"> 2512</a></span>&#160;<a class="code" href="evalvars_8c.html#a56edbbf450c2a58040d6a88aaea78d27">vars_clear_ext</a>(<a class="code" href="structhashtable___s.html">hashtab_T</a> *ht, <span class="keywordtype">int</span> free_val)</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;{</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <span class="keywordtype">int</span>     todo;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <a class="code" href="structhashitem___s.html">hashitem_T</a>  *hi;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <a class="code" href="hashtab_8c.html#a49b651de8edaf9d8b6375c63c4106b5d">hash_lock</a>(ht);</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    todo = (int)ht-&gt;<a class="code" href="structhashtable___s.html#a5102b561274edb12b4ac5c9b0df7dab1">ht_used</a>;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    for (hi = ht-&gt;<a class="code" href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">ht_array</a>; todo &gt; 0; ++hi)</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    {</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a>(hi))</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    {</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        --todo;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        <span class="comment">// Free the variable.  Don&#39;t remove it from the hashtab,</span></div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <span class="comment">// ht_array might change then.  hash_clear() takes care of it</span></div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <span class="comment">// later.</span></div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        v = <a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi);</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        <span class="keywordflow">if</span> (free_val)</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>);</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> &amp; <a class="code" href="structs_8h.html#acb8f1360394c6d119bbee47ece62d2d1">DI_FLAGS_ALLOC</a>)</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(v);</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    }</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    }</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <a class="code" href="hashtab_8c.html#a82320ef8ee0783629a0cab3a74586b75">hash_clear</a>(ht);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    ht-&gt;<a class="code" href="structhashtable___s.html#a5102b561274edb12b4ac5c9b0df7dab1">ht_used</a> = 0;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;}</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="comment"> * Delete a variable from hashtab &quot;ht&quot; at item &quot;hi&quot;.</span></div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="comment"> * Clear the variable value and free the dictitem.</span></div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02545"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aaa1c56a23cae60792f4b4a96d5960fa3"> 2545</a></span>&#160;<a class="code" href="evalvars_8c.html#aaa1c56a23cae60792f4b4a96d5960fa3">delete_var</a>(<a class="code" href="structhashtable___s.html">hashtab_T</a> *ht, <a class="code" href="structhashitem___s.html">hashitem_T</a> *hi)</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;{</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *di = <a class="code" href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a>(hi);</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    <a class="code" href="hashtab_8c.html#a6acdcb55113dfca42811b53109f8b3ba">hash_remove</a>(ht, hi);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;di-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>);</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(di);</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;}</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;<span class="comment"> * List the value of one internal variable.</span></div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02558"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a421ac3a5e1112ac11e10b07a0dc43335"> 2558</a></span>&#160;<a class="code" href="evalvars_8c.html#a421ac3a5e1112ac11e10b07a0dc43335">list_one_var</a>(<a class="code" href="structdictitem___s.html">dictitem_T</a> *v, <span class="keywordtype">char</span> *prefix, <span class="keywordtype">int</span> *first)</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;{</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    char_u  *tofree;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    char_u  *s;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    char_u  numbuf[<a class="code" href="vim_8h.html#ad75d86d19ee3c309a6db13026d35e357">NUMBUFLEN</a>];</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    s = <a class="code" href="eval_8c.html#af7e0f0ba9325b5fdd3ea3f6b4863e2eb">echo_string</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>, &amp;tofree, numbuf, <a class="code" href="eval_8c.html#a538ce888807c64f1c31dfa5f2c76b069">get_copyID</a>());</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <a class="code" href="evalvars_8c.html#a16aff3e573f44afb484d714e96a4c088">list_one_var_a</a>(prefix, v-&gt;<a class="code" href="structdictitem___s.html#acebf31bd5d7a085a335b677f675fc0d5">di_key</a>, v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a>,</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                     s == NULL ? (char_u *)<span class="stringliteral">&quot;&quot;</span> : s, first);</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(tofree);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;}</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02571"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a16aff3e573f44afb484d714e96a4c088"> 2571</a></span>&#160;<a class="code" href="evalvars_8c.html#a16aff3e573f44afb484d714e96a4c088">list_one_var_a</a>(</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="keywordtype">char</span>    *prefix,</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="keywordtype">int</span>     type,</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    char_u  *<span class="keywordtype">string</span>,</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordtype">int</span>     *first)  <span class="comment">// when TRUE clear rest of screen and set to FALSE</span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;{</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="comment">// don&#39;t use msg() or msg_attr() to avoid overwriting &quot;v:statusmsg&quot;</span></div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <a class="code" href="message_8c.html#a701ffeff793261a605a4090e7c085a2d">msg_start</a>();</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <a class="code" href="message_8c.html#a0db479cde321ca12b8d84a53196454ad">msg_puts</a>(prefix);</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keywordflow">if</span> (name != NULL)   <span class="comment">// &quot;a:&quot; vars don&#39;t have a name stored</span></div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <a class="code" href="message_8c.html#a0db479cde321ca12b8d84a53196454ad">msg_puts</a>((<span class="keywordtype">char</span> *)name);</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <a class="code" href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a>(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <a class="code" href="message_8c.html#a1be7dcccb8daf25bba3e78479802251e">msg_advance</a>(22);</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    <span class="keywordflow">if</span> (type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>)</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <a class="code" href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a>(<span class="charliteral">&#39;#&#39;</span>);</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a> || type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a>)</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <a class="code" href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a>(<span class="charliteral">&#39;*&#39;</span>);</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a>)</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    {</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    <a class="code" href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a>(<span class="charliteral">&#39;[&#39;</span>);</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordflow">if</span> (*<span class="keywordtype">string</span> == <span class="charliteral">&#39;[&#39;</span>)</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        ++string;</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    }</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a>)</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    {</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <a class="code" href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a>(<span class="charliteral">&#39;{&#39;</span>);</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordflow">if</span> (*<span class="keywordtype">string</span> == <span class="charliteral">&#39;{&#39;</span>)</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        ++string;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    }</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <a class="code" href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a>(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <a class="code" href="message_8c.html#a273e1e1a7e5b9b70db0a55edb73e303d">msg_outtrans</a>(<span class="keywordtype">string</span>);</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="keywordflow">if</span> (type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a> || type == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a>)</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <a class="code" href="message_8c.html#a0db479cde321ca12b8d84a53196454ad">msg_puts</a>(<span class="stringliteral">&quot;()&quot;</span>);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">if</span> (*first)</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    {</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <a class="code" href="message_8c.html#a37c7afb3d11a1f550645b8be149618e4">msg_clr_eos</a>();</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    *first = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    }</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;}</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="comment"> * Set variable &quot;name&quot; to value in &quot;tv&quot;.</span></div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="comment"> * If the variable already exists, the value is updated.</span></div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="comment"> * Otherwise the variable is created.</span></div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02621"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03"> 2621</a></span>&#160;<a class="code" href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03">set_var</a>(</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *tv,</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <span class="keywordtype">int</span>     copy)       <span class="comment">// make copy of value in &quot;tv&quot;</span></div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;{</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <a class="code" href="evalvars_8c.html#a691be075bae9727bbbd966076b1c2964">set_var_const</a>(name, tv, copy, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;}</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="comment"> * Set variable &quot;name&quot; to value in &quot;tv&quot;.</span></div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="comment"> * If the variable already exists and &quot;is_const&quot; is FALSE the value is updated.</span></div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="comment"> * Otherwise the variable is created.</span></div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l02635"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a691be075bae9727bbbd966076b1c2964"> 2635</a></span>&#160;<a class="code" href="evalvars_8c.html#a691be075bae9727bbbd966076b1c2964">set_var_const</a>(</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *tv,</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordtype">int</span>     copy,       <span class="comment">// make copy of value in &quot;tv&quot;</span></div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordtype">int</span>     is_const)   <span class="comment">// disallow to modify existing variable</span></div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;{</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    char_u  *varname;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <a class="code" href="structhashtable___s.html">hashtab_T</a>   *ht;</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    ht = <a class="code" href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093">find_var_ht</a>(name, &amp;varname);</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="keywordflow">if</span> (ht == NULL || *varname == <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    {</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_illvar), name);</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    }</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    v = <a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(ht, 0, varname, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <span class="comment">// Search in parent scope which is possible to reference from lambda</span></div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordflow">if</span> (v == NULL)</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    v = <a class="code" href="userfunc_8c.html#ac1dd2cd41008443b77ee7f596076d728">find_var_in_scoped_ht</a>(name, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">if</span> ((tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a> || tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a>)</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                      &amp;&amp; <a class="code" href="evalvars_8c.html#ace0eb30d3f2c3662f9774279f27df8a3">var_check_func_name</a>(name, v == NULL))</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordflow">if</span> (v != NULL)</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    {</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordflow">if</span> (is_const)</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    {</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_cannot_mod));</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    }</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <span class="comment">// existing variable, need to clear the value</span></div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#ad450160e643f28d55a6254ea37b1252e">var_check_ro</a>(v-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a>, name, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                  || <a class="code" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a>(v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a>, name, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="comment">// Handle setting internal v: variables separately where needed to</span></div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="comment">// prevent changing the type.</span></div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="keywordflow">if</span> (ht == &amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a>)</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    {</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>)</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;        {</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        <a class="code" href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a>(v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a>);</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        <span class="keywordflow">if</span> (copy || tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>)</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        {</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;            char_u *val = <a class="code" href="eval_8c.html#ac06b57274a721210cd205e253073bfa9">tv_get_string</a>(tv);</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;            <span class="comment">// Careful: when assigning to v:errmsg and tv_get_string()</span></div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;            <span class="comment">// causes an error message the variable will alrady be set.</span></div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;            <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> == NULL)</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = <a class="code" href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a>(val);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        }</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        {</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;            <span class="comment">// Take over the string to avoid an extra alloc/free.</span></div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;            v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a>;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;            tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = NULL;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        }</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        }</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a>)</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        {</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;        v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#aa8615bd53291928fc5adceff07d5e5bc">v_number</a> = <a class="code" href="eval_8c.html#a3727d19f20cae99511bbcf9b97aad1d5">tv_get_number</a>(tv);</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a75fb5fb9d785a71f9d82f4d008a48278">STRCMP</a>(varname, <span class="stringliteral">&quot;searchforward&quot;</span>) == 0)</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;            <a class="code" href="search_8c.html#ad4c8ad4036b8f20b186902eb1598ab61">set_search_direction</a>(v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#aa8615bd53291928fc5adceff07d5e5bc">v_number</a> ? <span class="charliteral">&#39;/&#39;</span> : <span class="charliteral">&#39;?&#39;</span>);</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="preprocessor">#ifdef FEAT_SEARCH_EXTRA</span></div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="vim_8h.html#a75fb5fb9d785a71f9d82f4d008a48278">STRCMP</a>(varname, <span class="stringliteral">&quot;hlsearch&quot;</span>) == 0)</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        {</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;            no_hlsearch = !v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#aa8615bd53291928fc5adceff07d5e5bc">v_number</a>;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;            <a class="code" href="drawscreen_8c.html#a6cfdbac5c3017ed3f6f8c70035ea3e5d">redraw_all_later</a>(<a class="code" href="vim_8h.html#a39f0c25cf1392fc2915dcd4dfa640fae">SOME_VALID</a>);</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        }</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        }</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> != tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a>)</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        {</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E963: setting %s to value with wrong type&quot;</span>), name);</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        }</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    }</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>);</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    }</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">else</span>            <span class="comment">// add a new variable</span></div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    {</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="comment">// Can&#39;t add &quot;v:&quot; or &quot;a:&quot; variable.</span></div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">if</span> (ht == &amp;<a class="code" href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a> || ht == <a class="code" href="userfunc_8c.html#a1606e2daa2efa3341dd61e2387525623">get_funccal_args_ht</a>())</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    {</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_illvar), name);</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    }</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="comment">// Make sure the variable name is valid.</span></div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="evalvars_8c.html#a5c4b8bba94950aeb544ccab4867a95be">valid_varname</a>(varname))</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    v = <a class="code" href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structdictitem___s.html">dictitem_T</a>) + <a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(varname));</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">if</span> (v == NULL)</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(v-&gt;<a class="code" href="structdictitem___s.html#acebf31bd5d7a085a335b677f675fc0d5">di_key</a>, varname);</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="hashtab_8c.html#af1235e0f7163089ec19df22a8af6d996">hash_add</a>(ht, <a class="code" href="macros_8h.html#ac56f1d8eb3176f30f192eabf7961e504">DI2HIKEY</a>(v)) == <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>)</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    {</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(v);</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    }</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    v-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> = <a class="code" href="structs_8h.html#acb8f1360394c6d119bbee47ece62d2d1">DI_FLAGS_ALLOC</a>;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="keywordflow">if</span> (is_const)</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        v-&gt;<a class="code" href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">di_flags</a> |= <a class="code" href="structs_8h.html#a84da1cb7b5fbef50a23b3c98f81ca1bf">DI_FLAGS_LOCK</a>;</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    }</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">if</span> (copy || tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a> || tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa25f96b33612e203167f219b79603545">VAR_FLOAT</a>)</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(tv, &amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>);</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    {</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a> = *tv;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a> = 0;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <a class="code" href="eval_8c.html#a9c5ea4974b21ea558de23ee7c5f92672">init_tv</a>(tv);</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    }</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <span class="keywordflow">if</span> (is_const)</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>.<a class="code" href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">v_lock</a> |= <a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>;</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;}</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="comment"> * Return TRUE if di_flags &quot;flags&quot; indicates variable &quot;name&quot; is read-only.</span></div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="comment"> * Also give an error message.</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l02766"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ad450160e643f28d55a6254ea37b1252e"> 2766</a></span>&#160;<a class="code" href="evalvars_8c.html#ad450160e643f28d55a6254ea37b1252e">var_check_ro</a>(<span class="keywordtype">int</span> flags, char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> use_gettext)</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;{</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="keywordflow">if</span> (flags &amp; <a class="code" href="structs_8h.html#ae0c626ccf1ee8fae352bfd2e406b245f">DI_FLAGS_RO</a>)</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    {</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_readonlyvar), use_gettext ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(name) : name);</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    }</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="structs_8h.html#acec246d6172bf272a48cd63a3def63a5">DI_FLAGS_RO_SBX</a>) &amp;&amp; sandbox)</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    {</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_readonlysbx), use_gettext ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(name) : name);</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    }</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;}</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="comment"> * Return TRUE if di_flags &quot;flags&quot; indicates variable &quot;name&quot; is fixed.</span></div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="comment"> * Also give an error message.</span></div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l02786"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ae23b4fe338c8168553b57f1199414cfa"> 2786</a></span>&#160;<a class="code" href="evalvars_8c.html#ae23b4fe338c8168553b57f1199414cfa">var_check_fixed</a>(<span class="keywordtype">int</span> flags, char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> use_gettext)</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;{</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <span class="keywordflow">if</span> (flags &amp; <a class="code" href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a>)</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    {</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E795: Cannot delete variable %s&quot;</span>),</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;                      use_gettext ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(name) : name);</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    }</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;}</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="comment"> * Check if a funcref is assigned to a valid variable name.</span></div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;<span class="comment"> * Return TRUE and give an error if not.</span></div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l02802"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ace0eb30d3f2c3662f9774279f27df8a3"> 2802</a></span>&#160;<a class="code" href="evalvars_8c.html#ace0eb30d3f2c3662f9774279f27df8a3">var_check_func_name</a>(</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>,    <span class="comment">// points to start of variable name</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="keywordtype">int</span>    new_var)  <span class="comment">// TRUE when creating the variable</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;{</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="comment">// Allow for w: b: s: and t:.</span></div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a>((char_u *)<span class="stringliteral">&quot;wbst&quot;</span>, name[0]) != NULL &amp;&amp; name[1] == <span class="charliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;        &amp;&amp; !<a class="code" href="macros_8h.html#a0813d526d3d6787fd20ca8c5c4a1cc7f">ASCII_ISUPPER</a>((name[0] != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a> &amp;&amp; name[1] == <span class="charliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                             ? name[2] : name[0]))</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    {</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E704: Funcref variable name must start with a capital: %s&quot;</span>),</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                                    name);</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    }</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <span class="comment">// Don&#39;t allow hiding a function.  When &quot;v&quot; is not NULL we might be</span></div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <span class="comment">// assigning another function to the same var, the type is checked</span></div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="comment">// below.</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="keywordflow">if</span> (new_var &amp;&amp; <a class="code" href="userfunc_8c.html#a8da10731f247a89d3fba1f25349bf997">function_exists</a>(name, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>))</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    {</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E705: Variable name conflicts with existing function: %s&quot;</span>),</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;                                    name);</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    }</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;}</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;<span class="comment"> * Return TRUE if &quot;flags&quot; indicates variable &quot;name&quot; is locked (immutable).</span></div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="comment"> * Also give an error message, using &quot;name&quot; or _(&quot;name&quot;) when use_gettext is</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="comment"> * TRUE.</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l02833"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021"> 2833</a></span>&#160;<a class="code" href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a>(<span class="keywordtype">int</span> lock, char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> use_gettext)</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;{</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="keywordflow">if</span> (lock &amp; <a class="code" href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a>)</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    {</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E741: Value is locked: %s&quot;</span>),</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                name == NULL ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;Unknown&quot;</span>)</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                         : use_gettext ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(name)</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                         : name);</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    }</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <span class="keywordflow">if</span> (lock &amp; <a class="code" href="structs_8h.html#a1cec23a00344e815cd4004724d91ae8d">VAR_FIXED</a>)</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    {</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E742: Cannot change value of %s&quot;</span>),</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                name == NULL ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;Unknown&quot;</span>)</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                         : use_gettext ? (char_u *)<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(name)</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                         : name);</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    }</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;}</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment"> * Check if a variable name is valid.</span></div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="comment"> * Return FALSE and give an error if not.</span></div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l02859"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a5c4b8bba94950aeb544ccab4867a95be"> 2859</a></span>&#160;<a class="code" href="evalvars_8c.html#a5c4b8bba94950aeb544ccab4867a95be">valid_varname</a>(char_u *varname)</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;{</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    char_u *p;</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="keywordflow">for</span> (p = varname; *p != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>; ++p)</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="eval_8c.html#a7384a515703972d5d4daa489ab8a867f">eval_isnamec1</a>(*p) &amp;&amp; (p == varname || !<a class="code" href="macros_8h.html#a1c79e75cde848afa5b4c0be7c1c99ead">VIM_ISDIGIT</a>(*p))</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                           &amp;&amp; *p != <a class="code" href="vim_8h.html#a6ef4d2aca28604896cc90c3bef4f0770">AUTOLOAD_CHAR</a>)</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    {</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <a class="code" href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_illvar), varname);</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    }</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;}</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="comment"> * getwinvar() and gettabwinvar()</span></div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02877"></a><span class="lineno"><a class="line" href="evalvars_8c.html#afcd6219cb52c33224634381fcfea9f49"> 2877</a></span>&#160;<a class="code" href="evalvars_8c.html#afcd6219cb52c33224634381fcfea9f49">getwinvar</a>(</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *argvars,</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *rettv,</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="keywordtype">int</span>     off)        <span class="comment">// 1 for gettabwinvar()</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;{</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    <a class="code" href="structwindow___s.html">win_T</a>   *win;</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    char_u  *varname;</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *tp = NULL;</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <span class="keywordtype">int</span>     done = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <a class="code" href="structwindow___s.html">win_T</a>   *oldcurwin;</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *oldtabpage;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <span class="keywordtype">int</span>     need_switch_win;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">if</span> (off == 1)</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    tp = <a class="code" href="window_8c.html#a01e96cd91da2e9552bb628b4df2416a7">find_tabpage</a>((<span class="keywordtype">int</span>)<a class="code" href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a>(&amp;argvars[0], NULL));</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    tp = <a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>;</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    win = <a class="code" href="evalwindow_8c.html#a6b3d73e8884f3627bf2d169107c15a4c">find_win_by_nr</a>(&amp;argvars[off], tp);</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    varname = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(&amp;argvars[off + 1]);</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    ++emsg_off;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>;</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = NULL;</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">if</span> (win != NULL &amp;&amp; varname != NULL)</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    {</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="comment">// Set curwin to be our win, temporarily.  Also set the tabpage,</span></div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <span class="comment">// otherwise the window is not valid. Only do this when needed,</span></div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <span class="comment">// autocommands get blocked.</span></div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    need_switch_win = !(tp == <a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a> &amp;&amp; win == <a class="code" href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a>);</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">if</span> (!need_switch_win</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;          || <a class="code" href="evalwindow_8c.html#a7bd8e7a772dda3409a98dfa10a0ee795">switch_win</a>(&amp;oldcurwin, &amp;oldtabpage, win, tp, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    {</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        <span class="keywordflow">if</span> (*varname == <span class="charliteral">&#39;&amp;&#39;</span>)</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;        {</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;        <span class="keywordflow">if</span> (varname[1] == <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        {</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            <span class="comment">// get all window-local options in a dict</span></div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;            <a class="code" href="structdictvar___s.html">dict_T</a>  *opts = <a class="code" href="option_8c.html#a6bc2dbc8bb7d829236a4678343783e73">get_winbuf_options</a>(<a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;            <span class="keywordflow">if</span> (opts != NULL)</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;            {</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;            <a class="code" href="dict_8c.html#a061c3dec1a69e916c6e716290cd5abb2">rettv_dict_set</a>(rettv, opts);</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;            done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;            }</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        }</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#ad5133e6c1c01f809723966c5ebb2d7c5">get_option_tv</a>(&amp;varname, rettv, 1) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            <span class="comment">// window-local-option</span></div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;            done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;        }</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;        {</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;        <span class="comment">// Look up the variable.</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;        <span class="comment">// Let getwinvar({nr}, &quot;&quot;) return the &quot;w:&quot; dictionary.</span></div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;        v = <a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(&amp;win-&gt;w_vars-&gt;dv_hashtab, <span class="charliteral">&#39;w&#39;</span>,</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                                  varname, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;        <span class="keywordflow">if</span> (v != NULL)</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;        {</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;            <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>, rettv);</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;            done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        }</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        }</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    }</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <span class="keywordflow">if</span> (need_switch_win)</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;        <span class="comment">// restore previous notion of curwin</span></div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;        <a class="code" href="evalwindow_8c.html#a69ad3d4a3e21e92f775a82b3c90a9e68">restore_win</a>(oldcurwin, oldtabpage, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    }</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="keywordflow">if</span> (!done &amp;&amp; argvars[off + 2].v_type != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>)</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="comment">// use the default return value</span></div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(&amp;argvars[off + 2], rettv);</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    --emsg_off;</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;}</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<span class="comment"> * &quot;setwinvar()&quot; and &quot;settabwinvar()&quot; functions</span></div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02958"></a><span class="lineno"><a class="line" href="evalvars_8c.html#af1f6fd77ef93cf454cce395766736d37"> 2958</a></span>&#160;<a class="code" href="evalvars_8c.html#af1f6fd77ef93cf454cce395766736d37">setwinvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv <a class="code" href="vim_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>, <span class="keywordtype">int</span> off)</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;{</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    <a class="code" href="structwindow___s.html">win_T</a>   *win;</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <a class="code" href="structwindow___s.html">win_T</a>   *save_curwin;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *save_curtab;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="keywordtype">int</span>     need_switch_win;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    char_u  *varname, *winvarname;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *varp;</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    char_u  nbuf[<a class="code" href="vim_8h.html#ad75d86d19ee3c309a6db13026d35e357">NUMBUFLEN</a>];</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *tp = NULL;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ex__cmds_8c.html#a143b7fe04e371726ed7ce357b78fd583">check_secure</a>())</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordflow">if</span> (off == 1)</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    tp = <a class="code" href="window_8c.html#a01e96cd91da2e9552bb628b4df2416a7">find_tabpage</a>((<span class="keywordtype">int</span>)<a class="code" href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a>(&amp;argvars[0], NULL));</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    tp = <a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>;</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    win = <a class="code" href="evalwindow_8c.html#a6b3d73e8884f3627bf2d169107c15a4c">find_win_by_nr</a>(&amp;argvars[off], tp);</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    varname = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(&amp;argvars[off + 1]);</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    varp = &amp;argvars[off + 2];</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <span class="keywordflow">if</span> (win != NULL &amp;&amp; varname != NULL &amp;&amp; varp != NULL)</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    {</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    need_switch_win = !(tp == <a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a> &amp;&amp; win == <a class="code" href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a>);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="keywordflow">if</span> (!need_switch_win</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;           || <a class="code" href="evalwindow_8c.html#a7bd8e7a772dda3409a98dfa10a0ee795">switch_win</a>(&amp;save_curwin, &amp;save_curtab, win, tp, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    {</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;        <span class="keywordflow">if</span> (*varname == <span class="charliteral">&#39;&amp;&#39;</span>)</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;        {</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;        <span class="keywordtype">long</span>    numval;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;        char_u  *strval;</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <span class="keywordtype">int</span>     error = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;        ++varname;</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;        numval = (long)<a class="code" href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a>(varp, &amp;error);</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        strval = <a class="code" href="eval_8c.html#a8859a70551afcef025fbff6fd9d32963">tv_get_string_buf_chk</a>(varp, nbuf);</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        <span class="keywordflow">if</span> (!error &amp;&amp; strval != NULL)</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;            <a class="code" href="option_8c.html#a94ae863d1c8638bea649c9a093c2be06">set_option_value</a>(varname, numval, strval, <a class="code" href="vim_8h.html#af0d84616173bb5946784c0a50b4b01b3">OPT_LOCAL</a>);</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        }</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        {</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        winvarname = <a class="code" href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a>(<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(varname) + 3);</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;        <span class="keywordflow">if</span> (winvarname != NULL)</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;        {</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;            <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(winvarname, <span class="stringliteral">&quot;w:&quot;</span>);</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;            <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(winvarname + 2, varname);</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;            <a class="code" href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03">set_var</a>(winvarname, varp, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;            <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(winvarname);</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        }</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        }</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    }</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keywordflow">if</span> (need_switch_win)</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        <a class="code" href="evalwindow_8c.html#a69ad3d4a3e21e92f775a82b3c90a9e68">restore_win</a>(save_curwin, save_curtab, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    }</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;}</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="comment"> * reset v:option_new, v:option_old, v:option_oldlocal, v:option_oldglobal,</span></div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="comment"> * v:option_type, and v:option_command.</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03020"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a11e2b4cf387aecfa12ba34f9392b675a"> 3020</a></span>&#160;<a class="code" href="evalvars_8c.html#a11e2b4cf387aecfa12ba34f9392b675a">reset_v_option_vars</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;{</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#ab0f25a1f2c00626caa909c276251a73e">VV_OPTION_NEW</a>,  NULL, -1);</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a58c192dd374459aee7d138c08ceb6752">VV_OPTION_OLD</a>,  NULL, -1);</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#af67348217ea017063733de2684298e3e">VV_OPTION_OLDLOCAL</a>, NULL, -1);</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a0a762941cde3e12be1169f88c68a6b97">VV_OPTION_OLDGLOBAL</a>, NULL, -1);</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#af1b79fdada26860e9cff1faf06175e49">VV_OPTION_TYPE</a>, NULL, -1);</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <a class="code" href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a>(<a class="code" href="vim_8h.html#a5c4acc8f33379bf47b82d8ab4abd459a">VV_OPTION_COMMAND</a>, NULL, -1);</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;}</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="comment"> * Add an assert error to v:errors.</span></div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03034"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a1b9832deb9b15fa8eba10b8c6a30c15a"> 3034</a></span>&#160;<a class="code" href="evalvars_8c.html#a1b9832deb9b15fa8eba10b8c6a30c15a">assert_error</a>(<a class="code" href="structgrowarray.html">garray_T</a> *gap)</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;{</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvimvar.html">vimvar</a>   *vp = &amp;<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a2e15e501f4d7f74c33c2320362fa1537">VV_ERRORS</a>];</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="keywordflow">if</span> (vp-&gt;vv_type != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a> || <a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a2e15e501f4d7f74c33c2320362fa1537">VV_ERRORS</a>].vv_list == NULL)</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <span class="comment">// Make sure v:errors is a list.</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <a class="code" href="evalvars_8c.html#a19036292688dec52327531ca9e34b11e">set_vim_var_list</a>(<a class="code" href="vim_8h.html#a2e15e501f4d7f74c33c2320362fa1537">VV_ERRORS</a>, <a class="code" href="list_8c.html#aa256fec511705ecf729a14faa62030ae">list_alloc</a>());</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <a class="code" href="list_8c.html#a2881d03fa4a045d1018c5a700228472d">list_append_string</a>(<a class="code" href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a>[<a class="code" href="vim_8h.html#a2e15e501f4d7f74c33c2320362fa1537">VV_ERRORS</a>].<a class="code" href="evalvars_8c.html#ab3512c1cbc83626e0f954899c60827c6">vv_list</a>, gap-&gt;<a class="code" href="structgrowarray.html#a6737d3d6fada8215cbd56aed057848e9">ga_data</a>, gap-&gt;<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>);</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;}</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l03045"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a6f5cb3a2d192a2646d47a1d759400b88"> 3045</a></span>&#160;<a class="code" href="evalvars_8c.html#a6f5cb3a2d192a2646d47a1d759400b88">var_exists</a>(char_u *var)</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;{</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    char_u  *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>;</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    char_u  *tofree;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    tv;</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="keywordtype">int</span>     len = 0;</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <span class="keywordtype">int</span>     n = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="comment">// get_name_len() takes care of expanding curly braces</span></div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    name = var;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    len = <a class="code" href="eval_8c.html#a837a318c4ccdf46cc76072859aa19f88">get_name_len</a>(&amp;var, &amp;tofree, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="keywordflow">if</span> (len &gt; 0)</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    {</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">if</span> (tofree != NULL)</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        name = tofree;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    n = (<a class="code" href="evalvars_8c.html#a9c601cd989af85b19b8c26349a2c5bd1">get_var_tv</a>(name, len, &amp;tv, NULL, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <span class="keywordflow">if</span> (n)</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    {</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        <span class="comment">// handle d.key, l[idx], f(expr)</span></div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;        n = (<a class="code" href="eval_8c.html#a619e83b6667d60b37fe2b5f956a665f2">handle_subscript</a>(&amp;var, &amp;tv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, name, &amp;name) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;        <span class="keywordflow">if</span> (n)</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;        <a class="code" href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a>(&amp;tv);</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    }</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    }</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordflow">if</span> (*var != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    n = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(tofree);</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    <span class="keywordflow">return</span> n;</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;}</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;</div><div class="line"><a name="l03076"></a><span class="lineno"><a class="line" href="evalvars_8c.html#af60e450f129befa544ebf53099a54ac2"> 3076</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structlval___s.html">lval_T</a>   *<a class="code" href="evalvars_8c.html#af60e450f129befa544ebf53099a54ac2">redir_lval</a> = NULL;</div><div class="line"><a name="l03077"></a><span class="lineno"><a class="line" href="evalvars_8c.html#afe849b8f04f4dd2d4349e659189d4296"> 3077</a></span>&#160;<span class="preprocessor">#define EVALCMD_BUSY (redir_lval == (lval_T *)&amp;redir_lval)</span></div><div class="line"><a name="l03078"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a056315bc7d25e68c17fbcbba3c446729"> 3078</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structgrowarray.html">garray_T</a> <a class="code" href="evalvars_8c.html#a056315bc7d25e68c17fbcbba3c446729">redir_ga</a>;   <span class="comment">// only valid when redir_lval is not NULL</span></div><div class="line"><a name="l03079"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6"> 3079</a></span>&#160;<span class="keyword">static</span> char_u   *<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> = NULL;</div><div class="line"><a name="l03080"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee"> 3080</a></span>&#160;<span class="keyword">static</span> char_u   *<a class="code" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a> = NULL;</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;<span class="comment"> * Start recording command output to a variable</span></div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;<span class="comment"> * When &quot;append&quot; is TRUE append to an existing variable.</span></div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;<span class="comment"> * Returns OK if successfully completed the setup.  FAIL otherwise.</span></div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordtype">int</span></div><div class="line"><a name="l03088"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a54c72d493c7650b417b737757e3b0fb2"> 3088</a></span>&#160;<a class="code" href="evalvars_8c.html#a54c72d493c7650b417b737757e3b0fb2">var_redir_start</a>(char_u *<a class="code" href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> <a class="code" href="regexp__nfa_8c.html#a10848974d0a422d21fd298b23b939ac4">append</a>)</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;{</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordtype">int</span>     save_emsg;</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keywordtype">int</span>     err;</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    tv;</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <span class="comment">// Catch a bad name early.</span></div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="eval_8c.html#a7384a515703972d5d4daa489ab8a867f">eval_isnamec1</a>(*name))</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    {</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg));</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    }</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <span class="comment">// Make a copy of the name, it is used in redir_lval until redir ends.</span></div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <a class="code" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a> = <a class="code" href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a>(name);</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a> == NULL)</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    redir_lval = <a class="code" href="vim_8h.html#aa48399cd06c9d5c90ec39e59fe61f1d2">ALLOC_CLEAR_ONE</a>(<a class="code" href="structlval___s.html">lval_T</a>);</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <span class="keywordflow">if</span> (redir_lval == NULL)</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    {</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    <a class="code" href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6">var_redir_stop</a>();</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    }</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="comment">// The output is stored in growarray &quot;redir_ga&quot; until redirection ends.</span></div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <a class="code" href="misc2_8c.html#a3026bad36de32ad700cd165789e53508">ga_init2</a>(&amp;redir_ga, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), 500);</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <span class="comment">// Parse the variable name (can be a dict or list entry).</span></div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> = <a class="code" href="eval_8c.html#a7a9051ae15161c509ed998c31ce0b499">get_lval</a>(<a class="code" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a>, NULL, redir_lval, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0,</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                                 <a class="code" href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a>);</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> == NULL || redir_lval-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a> == NULL || *<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    {</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <a class="code" href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a>(redir_lval);</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> != NULL &amp;&amp; *<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> != <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <span class="comment">// Trailing characters are present after the variable name</span></div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_trailing));</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(e_invarg));</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> = NULL;  <span class="comment">// don&#39;t store a value, only cleanup</span></div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <a class="code" href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6">var_redir_stop</a>();</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    }</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <span class="comment">// check if we can write to the variable: set it to or append an empty</span></div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <span class="comment">// string</span></div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    save_emsg = <a class="code" href="globals_8h.html#aa313c070b6b6ab1535dea38a4a83e8bf">did_emsg</a>;</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <a class="code" href="globals_8h.html#aa313c070b6b6ab1535dea38a4a83e8bf">did_emsg</a> = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    tv.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>;</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    tv.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = (char_u *)<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <span class="keywordflow">if</span> (append)</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <a class="code" href="eval_8c.html#ae9336bda2939fa2046566b928d9742c2">set_var_lval</a>(redir_lval, <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a>, &amp;tv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, (char_u *)<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <a class="code" href="eval_8c.html#ae9336bda2939fa2046566b928d9742c2">set_var_lval</a>(redir_lval, <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a>, &amp;tv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, (char_u *)<span class="stringliteral">&quot;=&quot;</span>);</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <a class="code" href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a>(redir_lval);</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    err = <a class="code" href="globals_8h.html#aa313c070b6b6ab1535dea38a4a83e8bf">did_emsg</a>;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <a class="code" href="globals_8h.html#aa313c070b6b6ab1535dea38a4a83e8bf">did_emsg</a> |= save_emsg;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keywordflow">if</span> (err)</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    {</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> = NULL;  <span class="comment">// don&#39;t store a value, only cleanup</span></div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <a class="code" href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6">var_redir_stop</a>();</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a>;</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    }</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;}</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;<span class="comment"> * Append &quot;value[value_len]&quot; to the variable set by var_redir_start().</span></div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<span class="comment"> * The actual appending is postponed until redirection ends, because the value</span></div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;<span class="comment"> * appended may in fact be the string we write to, changing it may cause freed</span></div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;<span class="comment"> * memory to be used:</span></div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;<span class="comment"> *   :redir =&gt; foo</span></div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="comment"> *   :let foo</span></div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;<span class="comment"> *   :redir END</span></div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03165"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a10da0be143c137ec3dc6ed0292b39ba6"> 3165</a></span>&#160;<a class="code" href="evalvars_8c.html#a10da0be143c137ec3dc6ed0292b39ba6">var_redir_str</a>(char_u *value, <span class="keywordtype">int</span> value_len)</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;{</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <span class="keywordtype">int</span>     len;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="keywordflow">if</span> (redir_lval == NULL)</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">if</span> (value_len == -1)</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    len = (int)<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(value);   <span class="comment">// Append the entire string</span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    len = value_len;        <span class="comment">// Append only &quot;value_len&quot; characters</span></div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc2_8c.html#a0d962b27bea5772af8833d283ff78ae9">ga_grow</a>(&amp;redir_ga, len) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    {</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <a class="code" href="os__unix_8h.html#ae70108db942e4f3eeb701ad8787b1835">mch_memmove</a>((<span class="keywordtype">char</span> *)redir_ga.<a class="code" href="structgrowarray.html#a6737d3d6fada8215cbd56aed057848e9">ga_data</a> + redir_ga.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a>, value, len);</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    redir_ga.<a class="code" href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">ga_len</a> += len;</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    }</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <a class="code" href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6">var_redir_stop</a>();</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;}</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;<span class="comment"> * Stop redirecting command output to a variable.</span></div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;<span class="comment"> * Frees the allocated memory.</span></div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03191"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6"> 3191</a></span>&#160;<a class="code" href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6">var_redir_stop</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;{</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    tv;</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#afe849b8f04f4dd2d4349e659189d4296">EVALCMD_BUSY</a>)</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    {</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    redir_lval = NULL;</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    }</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <span class="keywordflow">if</span> (redir_lval != NULL)</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    {</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="comment">// If there was no error: assign the text to the variable.</span></div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> != NULL)</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    {</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        <a class="code" href="misc2_8c.html#a878ac034958d7b03c024072814b283e5">ga_append</a>(&amp;redir_ga, <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>);  <span class="comment">// Append the trailing NUL.</span></div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        tv.<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>;</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        tv.<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = redir_ga.<a class="code" href="structgrowarray.html#a6737d3d6fada8215cbd56aed057848e9">ga_data</a>;</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;        <span class="comment">// Call get_lval() again, if it&#39;s inside a Dict or List it may</span></div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        <span class="comment">// have changed.</span></div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;        <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> = <a class="code" href="eval_8c.html#a7a9051ae15161c509ed998c31ce0b499">get_lval</a>(<a class="code" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a>, NULL, redir_lval,</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                    <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, <a class="code" href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a>);</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a> != NULL &amp;&amp; redir_lval-&gt;<a class="code" href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">ll_name</a> != NULL)</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;        <a class="code" href="eval_8c.html#ae9336bda2939fa2046566b928d9742c2">set_var_lval</a>(redir_lval, <a class="code" href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a>, &amp;tv, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                                (char_u *)<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <a class="code" href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a>(redir_lval);</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    }</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="comment">// free the collected output</span></div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <a class="code" href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a>(redir_ga.<a class="code" href="structgrowarray.html#a6737d3d6fada8215cbd56aed057848e9">ga_data</a>);</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <a class="code" href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a>(redir_lval);</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    }</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    <a class="code" href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a>(<a class="code" href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a>);</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;}</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment"> * &quot;gettabvar()&quot; function</span></div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03231"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a39a6859c293df0a058c931374ff46d76"> 3231</a></span>&#160;<a class="code" href="evalvars_8c.html#a39a6859c293df0a058c931374ff46d76">f_gettabvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;{</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <a class="code" href="structwindow___s.html">win_T</a>   *oldcurwin;</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *tp, *oldtabpage;</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    char_u  *varname;</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    <span class="keywordtype">int</span>     done = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>;</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = NULL;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    varname = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(&amp;argvars[1]);</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    tp = <a class="code" href="window_8c.html#a01e96cd91da2e9552bb628b4df2416a7">find_tabpage</a>((<span class="keywordtype">int</span>)<a class="code" href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a>(&amp;argvars[0], NULL));</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">if</span> (tp != NULL &amp;&amp; varname != NULL)</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    {</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="comment">// Set tp to be our tabpage, temporarily.  Also set the window to the</span></div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="comment">// first window in the tabpage, otherwise the window is not valid.</span></div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="evalwindow_8c.html#a7bd8e7a772dda3409a98dfa10a0ee795">switch_win</a>(&amp;oldcurwin, &amp;oldtabpage,</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        tp == <a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a> || tp-&gt;<a class="code" href="structtabpage___s.html#a0a3522cb592e7b900075bf5c21c3b3eb">tp_firstwin</a> == NULL ? <a class="code" href="globals_8h.html#a9f906679f9a65d9fb5defe869512e36e">firstwin</a></div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                        : tp-&gt;<a class="code" href="structtabpage___s.html#a0a3522cb592e7b900075bf5c21c3b3eb">tp_firstwin</a>, tp, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    {</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <span class="comment">// look up the variable</span></div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <span class="comment">// Let gettabvar({nr}, &quot;&quot;) return the &quot;t:&quot; dictionary.</span></div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        v = <a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(&amp;tp-&gt;tp_vars-&gt;dv_hashtab, <span class="charliteral">&#39;t&#39;</span>, varname, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;        <span class="keywordflow">if</span> (v != NULL)</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        {</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>, rettv);</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;        }</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    }</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <span class="comment">// restore previous notion of curwin</span></div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <a class="code" href="evalwindow_8c.html#a69ad3d4a3e21e92f775a82b3c90a9e68">restore_win</a>(oldcurwin, oldtabpage, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    }</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <span class="keywordflow">if</span> (!done &amp;&amp; argvars[2].v_type != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>)</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(&amp;argvars[2], rettv);</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;}</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="comment"> * &quot;gettabwinvar()&quot; function</span></div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03274"></a><span class="lineno"><a class="line" href="evalvars_8c.html#aaa2f738d23b412f115a27b9dcaca47ff"> 3274</a></span>&#160;<a class="code" href="evalvars_8c.html#aaa2f738d23b412f115a27b9dcaca47ff">f_gettabwinvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;{</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    <a class="code" href="evalvars_8c.html#afcd6219cb52c33224634381fcfea9f49">getwinvar</a>(argvars, rettv, 1);</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;}</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="comment"> * &quot;getwinvar()&quot; function</span></div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03283"></a><span class="lineno"><a class="line" href="evalvars_8c.html#ab5636c1b11ff652c8833d7da59866df9"> 3283</a></span>&#160;<a class="code" href="evalvars_8c.html#ab5636c1b11ff652c8833d7da59866df9">f_getwinvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;{</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <a class="code" href="evalvars_8c.html#afcd6219cb52c33224634381fcfea9f49">getwinvar</a>(argvars, rettv, 0);</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;}</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="comment"> * &quot;getbufvar()&quot; function</span></div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03292"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a813bc46f211401de57e99706eed2ac96"> 3292</a></span>&#160;<a class="code" href="evalvars_8c.html#a813bc46f211401de57e99706eed2ac96">f_getbufvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;{</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <a class="code" href="structfile__buffer.html">buf_T</a>   *buf;</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <a class="code" href="structfile__buffer.html">buf_T</a>   *save_curbuf;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    char_u  *varname;</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <a class="code" href="structdictitem___s.html">dictitem_T</a>  *v;</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordtype">int</span>     done = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    (void)<a class="code" href="eval_8c.html#a3727d19f20cae99511bbcf9b97aad1d5">tv_get_number</a>(&amp;argvars[0]);       <span class="comment">// issue errmsg if type error</span></div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    varname = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(&amp;argvars[1]);</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    ++emsg_off;</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    buf = <a class="code" href="evalfunc_8c.html#a62f368f5ce500049abc4dacbecaea0c5">tv_get_buf</a>(&amp;argvars[0], <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>;</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = NULL;</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <span class="keywordflow">if</span> (buf != NULL &amp;&amp; varname != NULL)</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    {</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="comment">// set curbuf to be our buf, temporarily</span></div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    save_curbuf = curbuf;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;    curbuf = buf;</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="keywordflow">if</span> (*varname == <span class="charliteral">&#39;&amp;&#39;</span>)</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    {</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;        <span class="keywordflow">if</span> (varname[1] == <a class="code" href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>)</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        {</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        <span class="comment">// get all buffer-local options in a dict</span></div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        <a class="code" href="structdictvar___s.html">dict_T</a>  *opts = <a class="code" href="option_8c.html#a6bc2dbc8bb7d829236a4678343783e73">get_winbuf_options</a>(<a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;        <span class="keywordflow">if</span> (opts != NULL)</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        {</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;            <a class="code" href="dict_8c.html#a061c3dec1a69e916c6e716290cd5abb2">rettv_dict_set</a>(rettv, opts);</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;            done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;        }</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        }</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="eval_8c.html#ad5133e6c1c01f809723966c5ebb2d7c5">get_option_tv</a>(&amp;varname, rettv, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) == <a class="code" href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;        <span class="comment">// buffer-local-option</span></div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;        done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    }</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    {</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;        <span class="comment">// Look up the variable.</span></div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;        <span class="comment">// Let getbufvar({nr}, &quot;&quot;) return the &quot;b:&quot; dictionary.</span></div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;        v = <a class="code" href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a>(&amp;curbuf-&gt;b_vars-&gt;dv_hashtab,</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                             <span class="charliteral">&#39;b&#39;</span>, varname, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;        <span class="keywordflow">if</span> (v != NULL)</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        {</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;        <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(&amp;v-&gt;<a class="code" href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">di_tv</a>, rettv);</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;        done = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;        }</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    }</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <span class="comment">// restore previous notion of curbuf</span></div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    curbuf = save_curbuf;</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    }</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="keywordflow">if</span> (!done &amp;&amp; argvars[2].v_type != <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a>)</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    <span class="comment">// use the default value</span></div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <a class="code" href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a>(&amp;argvars[2], rettv);</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    --emsg_off;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;}</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;<span class="comment"> * &quot;settabvar()&quot; function</span></div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03359"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a590b05bae1c0fd7d706a883dff71e22e"> 3359</a></span>&#160;<a class="code" href="evalvars_8c.html#a590b05bae1c0fd7d706a883dff71e22e">f_settabvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;{</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *save_curtab;</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <a class="code" href="structtabpage___s.html">tabpage_T</a>   *tp;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    char_u  *varname, *tabvarname;</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *varp;</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    rettv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#aa8615bd53291928fc5adceff07d5e5bc">v_number</a> = 0;</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ex__cmds_8c.html#a143b7fe04e371726ed7ce357b78fd583">check_secure</a>())</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    tp = <a class="code" href="window_8c.html#a01e96cd91da2e9552bb628b4df2416a7">find_tabpage</a>((<span class="keywordtype">int</span>)<a class="code" href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a>(&amp;argvars[0], NULL));</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    varname = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(&amp;argvars[1]);</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    varp = &amp;argvars[2];</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="keywordflow">if</span> (varname != NULL &amp;&amp; varp != NULL &amp;&amp; tp != NULL)</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    {</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    save_curtab = <a class="code" href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a>;</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <a class="code" href="window_8c.html#a921abfb76d6faad050d06f7878015457">goto_tabpage_tp</a>(tp, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    tabvarname = <a class="code" href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a>(<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(varname) + 3);</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <span class="keywordflow">if</span> (tabvarname != NULL)</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    {</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(tabvarname, <span class="stringliteral">&quot;t:&quot;</span>);</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(tabvarname + 2, varname);</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        <a class="code" href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03">set_var</a>(tabvarname, varp, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(tabvarname);</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    }</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="comment">// Restore current tabpage</span></div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="window_8c.html#a5c15e6d6d3a78a7bd2e2851b2d6eefdf">valid_tabpage</a>(save_curtab))</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;        <a class="code" href="window_8c.html#a921abfb76d6faad050d06f7878015457">goto_tabpage_tp</a>(save_curtab, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    }</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;}</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment"> * &quot;settabwinvar()&quot; function</span></div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03399"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a80cc01c6bf7a127f0f4938cf4d3cb57d"> 3399</a></span>&#160;<a class="code" href="evalvars_8c.html#a80cc01c6bf7a127f0f4938cf4d3cb57d">f_settabwinvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;{</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <a class="code" href="evalvars_8c.html#af1f6fd77ef93cf454cce395766736d37">setwinvar</a>(argvars, rettv, 1);</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;}</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="comment"> * &quot;setwinvar()&quot; function</span></div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03408"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a41f794bed0f0365dd693285e70e88a14"> 3408</a></span>&#160;<a class="code" href="evalvars_8c.html#a41f794bed0f0365dd693285e70e88a14">f_setwinvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv)</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;{</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <a class="code" href="evalvars_8c.html#af1f6fd77ef93cf454cce395766736d37">setwinvar</a>(argvars, rettv, 0);</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;}</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="comment"> * &quot;setbufvar()&quot; function</span></div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03417"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a2aa2ddd095ad733b6574251ade2c4cfa"> 3417</a></span>&#160;<a class="code" href="evalvars_8c.html#a2aa2ddd095ad733b6574251ade2c4cfa">f_setbufvar</a>(<a class="code" href="structtypval___t.html">typval_T</a> *argvars, <a class="code" href="structtypval___t.html">typval_T</a> *rettv <a class="code" href="vim_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>)</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;{</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <a class="code" href="structfile__buffer.html">buf_T</a>   *buf;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    char_u  *varname, *bufvarname;</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <a class="code" href="structtypval___t.html">typval_T</a>    *varp;</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    char_u  nbuf[<a class="code" href="vim_8h.html#ad75d86d19ee3c309a6db13026d35e357">NUMBUFLEN</a>];</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ex__cmds_8c.html#a143b7fe04e371726ed7ce357b78fd583">check_secure</a>())</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    (void)<a class="code" href="eval_8c.html#a3727d19f20cae99511bbcf9b97aad1d5">tv_get_number</a>(&amp;argvars[0]);       <span class="comment">// issue errmsg if type error</span></div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    varname = <a class="code" href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a>(&amp;argvars[1]);</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    buf = <a class="code" href="evalfunc_8c.html#a62f368f5ce500049abc4dacbecaea0c5">tv_get_buf</a>(&amp;argvars[0], <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    varp = &amp;argvars[2];</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <span class="keywordflow">if</span> (buf != NULL &amp;&amp; varname != NULL &amp;&amp; varp != NULL)</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    {</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <span class="keywordflow">if</span> (*varname == <span class="charliteral">&#39;&amp;&#39;</span>)</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    {</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        <span class="keywordtype">long</span>    numval;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        char_u  *strval;</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        <span class="keywordtype">int</span>     error = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        <a class="code" href="structaco__save___t.html">aco_save_T</a>  aco;</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;        <span class="comment">// set curbuf to be our buf, temporarily</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;        <a class="code" href="autocmd_8c.html#a607052566a10896bedf0078e25c7480f">aucmd_prepbuf</a>(&amp;aco, buf);</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;        ++varname;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;        numval = (long)<a class="code" href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a>(varp, &amp;error);</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;        strval = <a class="code" href="eval_8c.html#a8859a70551afcef025fbff6fd9d32963">tv_get_string_buf_chk</a>(varp, nbuf);</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;        <span class="keywordflow">if</span> (!error &amp;&amp; strval != NULL)</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        <a class="code" href="option_8c.html#a94ae863d1c8638bea649c9a093c2be06">set_option_value</a>(varname, numval, strval, <a class="code" href="vim_8h.html#af0d84616173bb5946784c0a50b4b01b3">OPT_LOCAL</a>);</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;        <span class="comment">// reset notion of buffer</span></div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        <a class="code" href="autocmd_8c.html#ad59ebf9d5c930e1dca082dc4a0492a1d">aucmd_restbuf</a>(&amp;aco);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    }</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    {</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;        <a class="code" href="structfile__buffer.html">buf_T</a> *save_curbuf = curbuf;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;        bufvarname = <a class="code" href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a>(<a class="code" href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(varname) + 3);</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;        <span class="keywordflow">if</span> (bufvarname != NULL)</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;        {</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;        curbuf = buf;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(bufvarname, <span class="stringliteral">&quot;b:&quot;</span>);</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        <a class="code" href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a>(bufvarname + 2, varname);</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;        <a class="code" href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03">set_var</a>(bufvarname, varp, <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(bufvarname);</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        curbuf = save_curbuf;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;        }</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    }</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    }</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;}</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;<span class="comment"> * Get a callback from &quot;arg&quot;.  It can be a Funcref or a function name.</span></div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="comment"> * When &quot;arg&quot; is zero return an empty string.</span></div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="comment"> * &quot;cb_name&quot; is not allocated.</span></div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="comment"> * &quot;cb_name&quot; is set to NULL for an invalid argument.</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <a class="code" href="structcallback___t.html">callback_T</a></div><div class="line"><a name="l03477"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a392b6ae0ed4d7e15f021230a1b043be5"> 3477</a></span>&#160;<a class="code" href="evalvars_8c.html#a392b6ae0ed4d7e15f021230a1b043be5">get_callback</a>(<a class="code" href="structtypval___t.html">typval_T</a> *arg)</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;{</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <a class="code" href="structcallback___t.html">callback_T</a> res;</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    res.<a class="code" href="structcallback___t.html#af34739d6595dc47234e03619e5d78980">cb_free_name</a> = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <span class="keywordflow">if</span> (arg-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a> &amp;&amp; arg-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a357def79f46d08d1e0631fe1df3ede02">v_partial</a> != NULL)</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    {</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    res.<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> = arg-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a357def79f46d08d1e0631fe1df3ede02">v_partial</a>;</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    ++res.<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a>-&gt;<a class="code" href="structpartial___s.html#a040a6bd7587b7d9d4e24399215b83642">pt_refcount</a>;</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    res.<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = <a class="code" href="eval_8c.html#a7157304180ff3b14de007739a3709763">partial_name</a>(res.<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a>);</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    }</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    {</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    res.<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> = NULL;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="keywordflow">if</span> (arg-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a> || arg-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a>)</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    {</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        <span class="comment">// Note that we don&#39;t make a copy of the string.</span></div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        res.<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = arg-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a>;</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <a class="code" href="userfunc_8c.html#ae5fcde9d532df61760b4f875ade8e726">func_ref</a>(res.<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>);</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    }</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arg-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> == <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a> &amp;&amp; arg-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#aa8615bd53291928fc5adceff07d5e5bc">v_number</a> == 0)</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    {</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        res.<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = (char_u *)<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    }</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    {</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        <a class="code" href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a>(<a class="code" href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a>(<span class="stringliteral">&quot;E921: Invalid callback argument&quot;</span>));</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        res.<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = NULL;</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    }</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    }</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;}</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;<span class="comment"> * Copy a callback into a typval_T.</span></div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03514"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a13dec2430ff51c12a4111b9897bb41a2"> 3514</a></span>&#160;<a class="code" href="evalvars_8c.html#a13dec2430ff51c12a4111b9897bb41a2">put_callback</a>(<a class="code" href="structcallback___t.html">callback_T</a> *cb, <a class="code" href="structtypval___t.html">typval_T</a> *tv)</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;{</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="keywordflow">if</span> (cb-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> != NULL)</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    {</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a>;</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a357def79f46d08d1e0631fe1df3ede02">v_partial</a> = cb-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a>;</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    ++tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#a357def79f46d08d1e0631fe1df3ede02">v_partial</a>-&gt;<a class="code" href="structpartial___s.html#a040a6bd7587b7d9d4e24399215b83642">pt_refcount</a>;</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    }</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    {</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    tv-&gt;<a class="code" href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">v_type</a> = <a class="code" href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a>;</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    tv-&gt;<a class="code" href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">vval</a>.<a class="code" href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">v_string</a> = <a class="code" href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a>(cb-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>);</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <a class="code" href="userfunc_8c.html#ae5fcde9d532df61760b4f875ade8e726">func_ref</a>(cb-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>);</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    }</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;}</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;<span class="comment"> * Make a copy of &quot;src&quot; into &quot;dest&quot;, allocating the function name if needed,</span></div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="comment"> * without incrementing the refcount.</span></div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03535"></a><span class="lineno"><a class="line" href="evalvars_8c.html#af0af0bdfbcb62bdb2a3c359f060bf0b1"> 3535</a></span>&#160;<a class="code" href="evalvars_8c.html#af0af0bdfbcb62bdb2a3c359f060bf0b1">set_callback</a>(<a class="code" href="structcallback___t.html">callback_T</a> *dest, <a class="code" href="structcallback___t.html">callback_T</a> *src)</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;{</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="keywordflow">if</span> (src-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> == NULL)</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    {</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    <span class="comment">// just a function name, make a copy</span></div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    dest-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = <a class="code" href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a>(src-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>);</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    dest-&gt;<a class="code" href="structcallback___t.html#af34739d6595dc47234e03619e5d78980">cb_free_name</a> = <a class="code" href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    }</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    {</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    <span class="comment">// cb_name is a pointer into cb_partial</span></div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    dest-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = src-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    dest-&gt;<a class="code" href="structcallback___t.html#af34739d6595dc47234e03619e5d78980">cb_free_name</a> = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    }</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    dest-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> = src-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a>;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;}</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;<span class="comment"> * Unref/free &quot;callback&quot; returned by get_callback() or set_callback().</span></div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <span class="keywordtype">void</span></div><div class="line"><a name="l03556"></a><span class="lineno"><a class="line" href="evalvars_8c.html#a64960e4d4d426dfd2ad3459eac24bcbc"> 3556</a></span>&#160;<a class="code" href="evalvars_8c.html#a64960e4d4d426dfd2ad3459eac24bcbc">free_callback</a>(<a class="code" href="structcallback___t.html">callback_T</a> *callback)</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;{</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    <span class="keywordflow">if</span> (callback-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> != NULL)</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    {</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <a class="code" href="eval_8c.html#ae1ee36a725913597ed42ad9093bceae6">partial_unref</a>(callback-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a>);</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    callback-&gt;<a class="code" href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">cb_partial</a> = NULL;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    }</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (callback-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> != NULL)</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    <a class="code" href="userfunc_8c.html#afd225c04dcf2fc60e106550a915295ae">func_unref</a>(callback-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>);</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="keywordflow">if</span> (callback-&gt;<a class="code" href="structcallback___t.html#af34739d6595dc47234e03619e5d78980">cb_free_name</a>)</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    {</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <a class="code" href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a>(callback-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a>);</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    callback-&gt;<a class="code" href="structcallback___t.html#af34739d6595dc47234e03619e5d78980">cb_free_name</a> = <a class="code" href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    }</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    callback-&gt;<a class="code" href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">cb_name</a> = NULL;</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;}</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="preprocessor">#endif // FEAT_EVAL</span></div><div class="ttc" id="regexp__nfa_8c_html_a10848974d0a422d21fd298b23b939ac4"><div class="ttname"><a href="regexp__nfa_8c.html#a10848974d0a422d21fd298b23b939ac4">append</a></div><div class="ttdeci">static Ptrlist * append(Ptrlist *l1, Ptrlist *l2)</div><div class="ttdef"><b>Definition:</b> <a href="regexp__nfa_8c_source.html#l02875">regexp_nfa.c:2875</a></div></div>
<div class="ttc" id="structvimvar_html_ad344ad6b7c7fb465fe8295b663ac777a"><div class="ttname"><a href="structvimvar.html#ad344ad6b7c7fb465fe8295b663ac777a">vimvar::vv_di</a></div><div class="ttdeci">dictitem16_T vv_di</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00047">evalvars.c:47</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab91e138743e29e1c30ebc3c930eb2d88"><div class="ttname"><a href="evalvars_8c.html#ab91e138743e29e1c30ebc3c930eb2d88">VV_RO_SBX</a></div><div class="ttdeci">#define VV_RO_SBX</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00040">evalvars.c:40</a></div></div>
<div class="ttc" id="message_8c_html_aeb2442b830699494f53059773212d850"><div class="ttname"><a href="message_8c.html#aeb2442b830699494f53059773212d850">semsg</a></div><div class="ttdeci">int semsg(const char *s,...)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l00724">message.c:724</a></div></div>
<div class="ttc" id="list_8c_html_a2881d03fa4a045d1018c5a700228472d"><div class="ttname"><a href="list_8c.html#a2881d03fa4a045d1018c5a700228472d">list_append_string</a></div><div class="ttdeci">int list_append_string(list_T *l, char_u *str, int len)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00531">list.c:531</a></div></div>
<div class="ttc" id="vim_8h_html_aa1d8dd268f8a1c4ad4e614fd4faeed24"><div class="ttname"><a href="vim_8h.html#aa1d8dd268f8a1c4ad4e614fd4faeed24">DO_NOT_FREE_CNT</a></div><div class="ttdeci">#define DO_NOT_FREE_CNT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02522">vim.h:2522</a></div></div>
<div class="ttc" id="vim_8h_html_aa95c2566690fc7ae3420e9af24050bb9"><div class="ttname"><a href="vim_8h.html#aa95c2566690fc7ae3420e9af24050bb9">VV_SEARCHFORWARD</a></div><div class="ttdeci">#define VV_SEARCHFORWARD</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01955">vim.h:1955</a></div></div>
<div class="ttc" id="vim_8h_html_ab8d61a1e52f11f2cee460d9c0cb482a4"><div class="ttname"><a href="vim_8h.html#ab8d61a1e52f11f2cee460d9c0cb482a4">VAR_TYPE_LIST</a></div><div class="ttdeci">#define VAR_TYPE_LIST</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02005">vim.h:2005</a></div></div>
<div class="ttc" id="evalvars_8c_html_a392b6ae0ed4d7e15f021230a1b043be5"><div class="ttname"><a href="evalvars_8c.html#a392b6ae0ed4d7e15f021230a1b043be5">get_callback</a></div><div class="ttdeci">callback_T get_callback(typval_T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03477">evalvars.c:3477</a></div></div>
<div class="ttc" id="evalvars_8c_html_a2884669bccf5f17eb4db4c595237ff44"><div class="ttname"><a href="evalvars_8c.html#a2884669bccf5f17eb4db4c595237ff44">globvars_var</a></div><div class="ttdeci">static dictitem_T globvars_var</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00020">evalvars.c:20</a></div></div>
<div class="ttc" id="vim_8h_html_ad37a7ee377943f0865b4c63138a2aa2b"><div class="ttname"><a href="vim_8h.html#ad37a7ee377943f0865b4c63138a2aa2b">FNE_INCL_BR</a></div><div class="ttdeci">#define FNE_INCL_BR</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02537">vim.h:2537</a></div></div>
<div class="ttc" id="vim_8h_html_a7101b9bd87925ce1a3e29d4dac1a54ad"><div class="ttname"><a href="vim_8h.html#a7101b9bd87925ce1a3e29d4dac1a54ad">VV_FNAME_OUT</a></div><div class="ttdeci">#define VV_FNAME_OUT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01918">vim.h:1918</a></div></div>
<div class="ttc" id="globals_8h_html_a9f906679f9a65d9fb5defe869512e36e"><div class="ttname"><a href="globals_8h.html#a9f906679f9a65d9fb5defe869512e36e">firstwin</a></div><div class="ttdeci">EXTERN win_T * firstwin</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00618">globals.h:618</a></div></div>
<div class="ttc" id="evalvars_8c_html_a37e36efae4aa7e8ebf60e83f3a695397"><div class="ttname"><a href="evalvars_8c.html#a37e36efae4aa7e8ebf60e83f3a695397">prepare_vimvar</a></div><div class="ttdeci">void prepare_vimvar(int idx, typval_T *save_tv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00496">evalvars.c:496</a></div></div>
<div class="ttc" id="structdictitem16___s_html_a29feab6c829eff9feb6d6cdbc5b6eebc"><div class="ttname"><a href="structdictitem16___s.html#a29feab6c829eff9feb6d6cdbc5b6eebc">dictitem16_S::di_flags</a></div><div class="ttdeci">char_u di_flags</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01433">structs.h:1433</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad24dc360910df498ab3f75c5957e55b6"><div class="ttname"><a href="evalvars_8c.html#ad24dc360910df498ab3f75c5957e55b6">set_vim_var_string</a></div><div class="ttdeci">void set_vim_var_string(int idx, char_u *val, int len)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02041">evalvars.c:2041</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1b9832deb9b15fa8eba10b8c6a30c15a"><div class="ttname"><a href="evalvars_8c.html#a1b9832deb9b15fa8eba10b8c6a30c15a">assert_error</a></div><div class="ttdeci">void assert_error(garray_T *gap)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03034">evalvars.c:3034</a></div></div>
<div class="ttc" id="evalvars_8c_html_a07a784554c7fbe0ded76c1238594a024"><div class="ttname"><a href="evalvars_8c.html#a07a784554c7fbe0ded76c1238594a024">list_hashtable_vars</a></div><div class="ttdeci">void list_hashtable_vars(hashtab_T *ht, char *prefix, int empty, int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00970">evalvars.c:970</a></div></div>
<div class="ttc" id="structvimvar_html_adf0911e3d2b644ee9127d386eb81ee75"><div class="ttname"><a href="structvimvar.html#adf0911e3d2b644ee9127d386eb81ee75">vimvar::vv_flags</a></div><div class="ttdeci">char vv_flags</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00048">evalvars.c:48</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76aac62f72a7a3febbf22d9f54c580e833c"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aac62f72a7a3febbf22d9f54c580e833c">VAR_JOB</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01324">structs.h:1324</a></div></div>
<div class="ttc" id="structblobvar___s_html_ab965f8319c8660fe296b3f20eaf06e76"><div class="ttname"><a href="structblobvar___s.html#ab965f8319c8660fe296b3f20eaf06e76">blobvar_S::bv_lock</a></div><div class="ttdeci">char bv_lock</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01466">structs.h:1466</a></div></div>
<div class="ttc" id="evalvars_8c_html_ac1d791a3762e81f6365e8004660ffbda"><div class="ttname"><a href="evalvars_8c.html#ac1d791a3762e81f6365e8004660ffbda">restore_vimvars</a></div><div class="ttdeci">void restore_vimvars(vimvars_save_T *vvsave)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02029">evalvars.c:2029</a></div></div>
<div class="ttc" id="eval_8c_html_a5e42ba13818957fbece072f0eb6a7c9c"><div class="ttname"><a href="eval_8c.html#a5e42ba13818957fbece072f0eb6a7c9c">eval0</a></div><div class="ttdeci">int eval0(char_u *arg, typval_T *rettv, char_u **nextcmd, int evaluate)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l01734">eval.c:1734</a></div></div>
<div class="ttc" id="vim_8h_html_aadcd31e93b60b8223d40a984ee8a5ee3"><div class="ttname"><a href="vim_8h.html#aadcd31e93b60b8223d40a984ee8a5ee3">STRICMP</a></div><div class="ttdeci">#define STRICMP(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01600">vim.h:1600</a></div></div>
<div class="ttc" id="evalvars_8c_html_aed4e9b31ada66e39400e949f0b854aff"><div class="ttname"><a href="evalvars_8c.html#aed4e9b31ada66e39400e949f0b854aff">set_vim_var_dict</a></div><div class="ttdeci">void set_vim_var_dict(int idx, dict_T *val)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02073">evalvars.c:2073</a></div></div>
<div class="ttc" id="macros_8h_html_a0813d526d3d6787fd20ca8c5c4a1cc7f"><div class="ttname"><a href="macros_8h.html#a0813d526d3d6787fd20ca8c5c4a1cc7f">ASCII_ISUPPER</a></div><div class="ttdeci">#define ASCII_ISUPPER(c)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00109">macros.h:109</a></div></div>
<div class="ttc" id="dosinst_8c_html_a5bd328bc06c8c3f71f3d9df207ea39bd"><div class="ttname"><a href="dosinst_8c.html#a5bd328bc06c8c3f71f3d9df207ea39bd">init_homedir</a></div><div class="ttdeci">void init_homedir(void)</div><div class="ttdef"><b>Definition:</b> <a href="dosinst_8c_source.html#l02185">dosinst.c:2185</a></div></div>
<div class="ttc" id="os__win32_8c_html_a288b0d3b5efd2d0257cfe8e9e4f647a1"><div class="ttname"><a href="os__win32_8c.html#a288b0d3b5efd2d0257cfe8e9e4f647a1">mch_remove</a></div><div class="ttdeci">int mch_remove(char_u *name)</div><div class="ttdef"><b>Definition:</b> <a href="os__win32_8c_source.html#l06442">os_win32.c:6442</a></div></div>
<div class="ttc" id="vim_8h_html_aadd00bde79dde42a3380c60381a0c7e6"><div class="ttname"><a href="vim_8h.html#aadd00bde79dde42a3380c60381a0c7e6">VV_NONE</a></div><div class="ttdeci">#define VV_NONE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01971">vim.h:1971</a></div></div>
<div class="ttc" id="evalvars_8c_html_abae7453bf8643b1fe944ed16cade093b"><div class="ttname"><a href="evalvars_8c.html#abae7453bf8643b1fe944ed16cade093b">find_var_in_ht</a></div><div class="ttdeci">dictitem_T * find_var_in_ht(hashtab_T *ht, int htname, char_u *varname, int no_autoload)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02309">evalvars.c:2309</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1ab71a7f2f3dde05efecbba754c25d65"><div class="ttname"><a href="evalvars_8c.html#a1ab71a7f2f3dde05efecbba754c25d65">vv_tv</a></div><div class="ttdeci">#define vv_tv</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00156">evalvars.c:156</a></div></div>
<div class="ttc" id="eval_8c_html_a008d7dfe8fa0448c36e4976a2132c432"><div class="ttname"><a href="eval_8c.html#a008d7dfe8fa0448c36e4976a2132c432">set_ref_in_ht</a></div><div class="ttdeci">int set_ref_in_ht(hashtab_T *ht, int copyID, list_stack_T **list_stack)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l04043">eval.c:4043</a></div></div>
<div class="ttc" id="structlval___s_html_a2681f36288f0c50170948dc8a8db3d1a"><div class="ttname"><a href="structlval___s.html#a2681f36288f0c50170948dc8a8db3d1a">lval_S::ll_empty2</a></div><div class="ttdeci">int ll_empty2</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03760">structs.h:3760</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad4e5f408472beefac8799d25cbcaa36c"><div class="ttname"><a href="evalvars_8c.html#ad4e5f408472beefac8799d25cbcaa36c">skip_var_one</a></div><div class="ttdeci">static char_u * skip_var_one(char_u *arg)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00957">evalvars.c:957</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab3b2e9de18d3cf1c9632dcdcb491bae7"><div class="ttname"><a href="evalvars_8c.html#ab3b2e9de18d3cf1c9632dcdcb491bae7">init_var_dict</a></div><div class="ttdeci">void init_var_dict(dict_T *dict, dictitem_T *dict_var, int scope)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02471">evalvars.c:2471</a></div></div>
<div class="ttc" id="vim_8h_html_a612ec3adf6b1f203e06efc591f2f1495"><div class="ttname"><a href="vim_8h.html#a612ec3adf6b1f203e06efc591f2f1495">VAR_TYPE_DICT</a></div><div class="ttdeci">#define VAR_TYPE_DICT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02006">vim.h:2006</a></div></div>
<div class="ttc" id="evalvars_8c_html_abcf1983fd24639b9c65ca187050d8058"><div class="ttname"><a href="evalvars_8c.html#abcf1983fd24639b9c65ca187050d8058">restore_vimvar</a></div><div class="ttdeci">void restore_vimvar(int idx, typval_T *save_tv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00510">evalvars.c:510</a></div></div>
<div class="ttc" id="dosinst_8h_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="dosinst_8h.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="dosinst_8h_source.html#l00332">dosinst.h:332</a></div></div>
<div class="ttc" id="userfunc_8c_html_af209e938392c97b56fdf0f4136c2fba8"><div class="ttname"><a href="userfunc_8c.html#af209e938392c97b56fdf0f4136c2fba8">get_current_funccal_dict</a></div><div class="ttdeci">dict_T * get_current_funccal_dict(hashtab_T *ht)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03666">userfunc.c:3666</a></div></div>
<div class="ttc" id="structtypval___t_html_a886659f986c150dab284f1d5ef64ee00"><div class="ttname"><a href="structtypval___t.html#a886659f986c150dab284f1d5ef64ee00">typval_T::v_list</a></div><div class="ttdeci">list_T * v_list</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01343">structs.h:1343</a></div></div>
<div class="ttc" id="vim_8h_html"><div class="ttname"><a href="vim_8h.html">vim.h</a></div></div>
<div class="ttc" id="evalvars_8c_html_a144828530578e8eefc19c48684e78819"><div class="ttname"><a href="evalvars_8c.html#a144828530578e8eefc19c48684e78819">ex_let_one</a></div><div class="ttdeci">static char_u * ex_let_one(char_u *arg, typval_T *tv, int copy, int is_const, char_u *endchars, char_u *op)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01149">evalvars.c:1149</a></div></div>
<div class="ttc" id="evalvars_8c_html_a370ae3e63b844a559c858f8ff839e0e3"><div class="ttname"><a href="evalvars_8c.html#a370ae3e63b844a559c858f8ff839e0e3">SCRIPT_VARS</a></div><div class="ttdeci">#define SCRIPT_VARS(id)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00177">evalvars.c:177</a></div></div>
<div class="ttc" id="window_8c_html_a921abfb76d6faad050d06f7878015457"><div class="ttname"><a href="window_8c.html#a921abfb76d6faad050d06f7878015457">goto_tabpage_tp</a></div><div class="ttdeci">void goto_tabpage_tp(tabpage_T *tp, int trigger_enter_autocmds, int trigger_leave_autocmds)</div><div class="ttdef"><b>Definition:</b> <a href="window_8c_source.html#l04210">window.c:4210</a></div></div>
<div class="ttc" id="message_8c_html_a7926d7fa9a35dc0f5bac051dec01240a"><div class="ttname"><a href="message_8c.html#a7926d7fa9a35dc0f5bac051dec01240a">iemsg</a></div><div class="ttdeci">void iemsg(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l00746">message.c:746</a></div></div>
<div class="ttc" id="evalvars_8c_html_a54c72d493c7650b417b737757e3b0fb2"><div class="ttname"><a href="evalvars_8c.html#a54c72d493c7650b417b737757e3b0fb2">var_redir_start</a></div><div class="ttdeci">int var_redir_start(char_u *name, int append)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03088">evalvars.c:3088</a></div></div>
<div class="ttc" id="evalvars_8c_html_a9c601cd989af85b19b8c26349a2c5bd1"><div class="ttname"><a href="evalvars_8c.html#a9c601cd989af85b19b8c26349a2c5bd1">get_var_tv</a></div><div class="ttdeci">int get_var_tv(char_u *name, int len, typval_T *rettv, dictitem_T **dip, int verbose, int no_autoload)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02209">evalvars.c:2209</a></div></div>
<div class="ttc" id="userfunc_8c_html_ae5fcde9d532df61760b4f875ade8e726"><div class="ttname"><a href="userfunc_8c.html#ae5fcde9d532df61760b4f875ade8e726">func_ref</a></div><div class="ttdeci">void func_ref(char_u *name)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l02966">userfunc.c:2966</a></div></div>
<div class="ttc" id="evalvars_8c_html_abc1f4b1a7e7951ee61e32712945a31f7"><div class="ttname"><a href="evalvars_8c.html#abc1f4b1a7e7951ee61e32712945a31f7">SCRIPT_SV</a></div><div class="ttdeci">#define SCRIPT_SV(id)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00176">evalvars.c:176</a></div></div>
<div class="ttc" id="misc2_8c_html_ab25a3a48241497fdc7bec2c3dbe41467"><div class="ttname"><a href="misc2_8c.html#ab25a3a48241497fdc7bec2c3dbe41467">vim_strncpy</a></div><div class="ttdeci">void vim_strncpy(char_u *to, char_u *from, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l01721">misc2.c:1721</a></div></div>
<div class="ttc" id="evalvars_8c_html_a2b22fc5f41ac9ec101640a921606425c"><div class="ttname"><a href="evalvars_8c.html#a2b22fc5f41ac9ec101640a921606425c">new_script_vars</a></div><div class="ttdeci">void new_script_vars(scid_T id)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02436">evalvars.c:2436</a></div></div>
<div class="ttc" id="vim_8h_html_a6e9478dea2136077d932566a7c77827f"><div class="ttname"><a href="vim_8h.html#a6e9478dea2136077d932566a7c77827f">VV_CC_FROM</a></div><div class="ttdeci">#define VV_CC_FROM</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01915">vim.h:1915</a></div></div>
<div class="ttc" id="evalwindow_8c_html_a69ad3d4a3e21e92f775a82b3c90a9e68"><div class="ttname"><a href="evalwindow_8c.html#a69ad3d4a3e21e92f775a82b3c90a9e68">restore_win</a></div><div class="ttdeci">void restore_win(win_T *save_curwin, tabpage_T *save_curtab, int no_display)</div><div class="ttdef"><b>Definition:</b> <a href="evalwindow_8c_source.html#l01098">evalwindow.c:1098</a></div></div>
<div class="ttc" id="eval_8c_html_a8859a70551afcef025fbff6fd9d32963"><div class="ttname"><a href="eval_8c.html#a8859a70551afcef025fbff6fd9d32963">tv_get_string_buf_chk</a></div><div class="ttdeci">char_u * tv_get_string_buf_chk(typval_T *varp, char_u *buf)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05575">eval.c:5575</a></div></div>
<div class="ttc" id="vim_8h_html_a20fdba6829dac5ba6dc44dd053536bdc"><div class="ttname"><a href="vim_8h.html#a20fdba6829dac5ba6dc44dd053536bdc">VV_EXCEPTION</a></div><div class="ttdeci">#define VV_EXCEPTION</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01929">vim.h:1929</a></div></div>
<div class="ttc" id="vim_8h_html_aa829e7c088b1abbad4bfb887f65a766d"><div class="ttname"><a href="vim_8h.html#aa829e7c088b1abbad4bfb887f65a766d">VVAL_TRUE</a></div><div class="ttdeci">#define VVAL_TRUE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01997">vim.h:1997</a></div></div>
<div class="ttc" id="evalvars_8c_html_a7d61239a6766625c6b7a8805d056dd72"><div class="ttname"><a href="evalvars_8c.html#a7d61239a6766625c6b7a8805d056dd72">VV_RO</a></div><div class="ttdeci">#define VV_RO</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00039">evalvars.c:39</a></div></div>
<div class="ttc" id="evalvars_8c_html_a590b05bae1c0fd7d706a883dff71e22e"><div class="ttname"><a href="evalvars_8c.html#a590b05bae1c0fd7d706a883dff71e22e">f_settabvar</a></div><div class="ttdeci">void f_settabvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03359">evalvars.c:3359</a></div></div>
<div class="ttc" id="message_8c_html_ae5991a4d11897dfaee9bfab8e5489d82"><div class="ttname"><a href="message_8c.html#ae5991a4d11897dfaee9bfab8e5489d82">emsg</a></div><div class="ttdeci">int emsg(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l00710">message.c:710</a></div></div>
<div class="ttc" id="structdictitem___s_html_af62f94636a49f241dec930a1f0221639"><div class="ttname"><a href="structdictitem___s.html#af62f94636a49f241dec930a1f0221639">dictitem_S::di_flags</a></div><div class="ttdeci">char_u di_flags</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01420">structs.h:1420</a></div></div>
<div class="ttc" id="vim_8h_html_aa68b06f527f41f1f7c5ade4dbbfa230b"><div class="ttname"><a href="vim_8h.html#aa68b06f527f41f1f7c5ade4dbbfa230b">VVAL_NULL</a></div><div class="ttdeci">#define VVAL_NULL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01999">vim.h:1999</a></div></div>
<div class="ttc" id="misc2_8c_html_a3026bad36de32ad700cd165789e53508"><div class="ttname"><a href="misc2_8c.html#a3026bad36de32ad700cd165789e53508">ga_init2</a></div><div class="ttdeci">void ga_init2(garray_T *gap, int itemsize, int growsize)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l02038">misc2.c:2038</a></div></div>
<div class="ttc" id="evalvars_8c_html_a24de209ea4156de49a5c1100ca5e19f2"><div class="ttname"><a href="evalvars_8c.html#a24de209ea4156de49a5c1100ca5e19f2">garbage_collect_globvars</a></div><div class="ttdeci">int garbage_collect_globvars(int copyID)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00303">evalvars.c:303</a></div></div>
<div class="ttc" id="misc2_8c_html_acd554ee46804f666060916bf740b3c96"><div class="ttname"><a href="misc2_8c.html#acd554ee46804f666060916bf740b3c96">vim_strsave</a></div><div class="ttdeci">char_u * vim_strsave(char_u *string)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l01270">misc2.c:1270</a></div></div>
<div class="ttc" id="vim_8h_html_a484d78ce2d5cce522ca47f08054173bc"><div class="ttname"><a href="vim_8h.html#a484d78ce2d5cce522ca47f08054173bc">VV_TRUE</a></div><div class="ttdeci">#define VV_TRUE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01969">vim.h:1969</a></div></div>
<div class="ttc" id="evalvars_8c_html_ae29c7273c15fae97266377f0daf217e6"><div class="ttname"><a href="evalvars_8c.html#ae29c7273c15fae97266377f0daf217e6">var_redir_stop</a></div><div class="ttdeci">void var_redir_stop(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03191">evalvars.c:3191</a></div></div>
<div class="ttc" id="list_8c_html_afc162d62647fe768e612ff347b2357cf"><div class="ttname"><a href="list_8c.html#afc162d62647fe768e612ff347b2357cf">list_unref</a></div><div class="ttdeci">void list_unref(list_T *l)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00151">list.c:151</a></div></div>
<div class="ttc" id="structlistvar___s_html_ac58b71606ce99566ca5d48f92457efd7"><div class="ttname"><a href="structlistvar___s.html#ac58b71606ce99566ca5d48f92457efd7">listvar_S::lv_first</a></div><div class="ttdeci">listitem_T * lv_first</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01390">structs.h:1390</a></div></div>
<div class="ttc" id="dict_8c_html_a8fd65f98416334dae02a61c2f2584b51"><div class="ttname"><a href="dict_8c.html#a8fd65f98416334dae02a61c2f2584b51">dictitem_remove</a></div><div class="ttdeci">void dictitem_remove(dict_T *dict, dictitem_T *item)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00245">dict.c:245</a></div></div>
<div class="ttc" id="evalvars_8c_html_a29f173ee2fa30e9cc0d02140f7932b20"><div class="ttname"><a href="evalvars_8c.html#a29f173ee2fa30e9cc0d02140f7932b20">list_buf_vars</a></div><div class="ttdeci">static void list_buf_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01015">evalvars.c:1015</a></div></div>
<div class="ttc" id="macros_8h_html_a7b40bb7451e6b8055f58ac77b1a45f3a"><div class="ttname"><a href="macros_8h.html#a7b40bb7451e6b8055f58ac77b1a45f3a">HI2DI</a></div><div class="ttdeci">#define HI2DI(hi)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00316">macros.h:316</a></div></div>
<div class="ttc" id="vim_8h_html_aacfd50db277145c0ae51bf16e934421a"><div class="ttname"><a href="vim_8h.html#aacfd50db277145c0ae51bf16e934421a">VV_FNAME_DIFF</a></div><div class="ttdeci">#define VV_FNAME_DIFF</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01920">vim.h:1920</a></div></div>
<div class="ttc" id="evalvars_8c_html_a92d3aa88bb539fe1d70c68a02b03281e"><div class="ttname"><a href="evalvars_8c.html#a92d3aa88bb539fe1d70c68a02b03281e">get_globvar_ht</a></div><div class="ttdeci">hashtab_T * get_globvar_ht(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01897">evalvars.c:1897</a></div></div>
<div class="ttc" id="structlistitem___s_html"><div class="ttname"><a href="structlistitem___s.html">listitem_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01368">structs.h:1368</a></div></div>
<div class="ttc" id="structscriptvar___t_html"><div class="ttname"><a href="structscriptvar___t.html">scriptvar_T</a></div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00169">evalvars.c:169</a></div></div>
<div class="ttc" id="structexarg_html_aa595ad2757e347fe3d3af323099074b2"><div class="ttname"><a href="structexarg.html#aa595ad2757e347fe3d3af323099074b2">exarg::cmdlinep</a></div><div class="ttdeci">char_u ** cmdlinep</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01818">ex_cmds.h:1818</a></div></div>
<div class="ttc" id="dosinst_8h_html_abb508ea8227673f419e9fe3a86c30d8e"><div class="ttname"><a href="dosinst_8h.html#abb508ea8227673f419e9fe3a86c30d8e">FAIL</a></div><div class="ttdeci">#define FAIL</div><div class="ttdef"><b>Definition:</b> <a href="dosinst_8h_source.html#l00061">dosinst.h:61</a></div></div>
<div class="ttc" id="ex__docmd_8c_html_a55354ea0205ec9ad5b42ae52c1352edd"><div class="ttname"><a href="ex__docmd_8c.html#a55354ea0205ec9ad5b42ae52c1352edd">check_nextcmd</a></div><div class="ttdeci">char_u * check_nextcmd(char_u *p)</div><div class="ttdef"><b>Definition:</b> <a href="ex__docmd_8c_source.html#l04680">ex_docmd.c:4680</a></div></div>
<div class="ttc" id="evalvars_8c_html_ac5e111ffb90a4821f63ec113134a45ac"><div class="ttname"><a href="evalvars_8c.html#ac5e111ffb90a4821f63ec113134a45ac">vimvars_var</a></div><div class="ttdeci">static dictitem_T vimvars_var</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00158">evalvars.c:158</a></div></div>
<div class="ttc" id="evalvars_8c_html_a34f0160c4b9ac8f21ea494bf82694b45"><div class="ttname"><a href="evalvars_8c.html#a34f0160c4b9ac8f21ea494bf82694b45">get_user_var_name</a></div><div class="ttdeci">char_u * get_user_var_name(expand_T *xp, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01792">evalvars.c:1792</a></div></div>
<div class="ttc" id="structtypval___t_html_a146a5c0899b43863e0af44334971da45"><div class="ttname"><a href="structtypval___t.html#a146a5c0899b43863e0af44334971da45">typval_T::v_blob</a></div><div class="ttdeci">blob_T * v_blob</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01350">structs.h:1350</a></div></div>
<div class="ttc" id="userfunc_8c_html_a451e56d718ce5b47132dfb55f9e768a6"><div class="ttname"><a href="userfunc_8c.html#a451e56d718ce5b47132dfb55f9e768a6">list_func_vars</a></div><div class="ttdeci">void list_func_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03653">userfunc.c:3653</a></div></div>
<div class="ttc" id="dosinst_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="dosinst_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="dosinst_8h_source.html#l00065">dosinst.h:65</a></div></div>
<div class="ttc" id="vim_8h_html_abe83fd29b04ce53baae7f4f0a1ae323c"><div class="ttname"><a href="vim_8h.html#abe83fd29b04ce53baae7f4f0a1ae323c">VAR_TYPE_FLOAT</a></div><div class="ttdeci">#define VAR_TYPE_FLOAT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02007">vim.h:2007</a></div></div>
<div class="ttc" id="evalvars_8c_html_af363ea2da84d38b3333af3073a125cd6"><div class="ttname"><a href="evalvars_8c.html#af363ea2da84d38b3333af3073a125cd6">varnamebuflen</a></div><div class="ttdeci">static int varnamebuflen</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01758">evalvars.c:1758</a></div></div>
<div class="ttc" id="dict_8c_html_ac1738050f42c4915ea1d9436f2ad2cd3"><div class="ttname"><a href="dict_8c.html#ac1738050f42c4915ea1d9436f2ad2cd3">dict_alloc_lock</a></div><div class="ttdeci">dict_T * dict_alloc_lock(int lock)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00064">dict.c:64</a></div></div>
<div class="ttc" id="evalvars_8c_html_af4a73781b6b10a9fd4a67df28c281bc2"><div class="ttname"><a href="evalvars_8c.html#af4a73781b6b10a9fd4a67df28c281bc2">set_vcount</a></div><div class="ttdeci">void set_vcount(long count, long count1, int set_prevcount)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02002">evalvars.c:2002</a></div></div>
<div class="ttc" id="structblobvar___s_html"><div class="ttname"><a href="structblobvar___s.html">blobvar_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01462">structs.h:1462</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab0198b418127e5fb02aa7c9b91f84a02"><div class="ttname"><a href="evalvars_8c.html#ab0198b418127e5fb02aa7c9b91f84a02">vimvars</a></div><div class="ttdeci">static struct vimvar vimvars[VV_LEN]</div></div>
<div class="ttc" id="evalvars_8c_html_a784acab0fd06b1a255f5df97bd471cb7"><div class="ttname"><a href="evalvars_8c.html#a784acab0fd06b1a255f5df97bd471cb7">ex_const</a></div><div class="ttdeci">void ex_const(exarg_T *eap)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00698">evalvars.c:698</a></div></div>
<div class="ttc" id="structs_8h_html_a6e5df630d8e8d3d1bfa9db30918774fc"><div class="ttname"><a href="structs_8h.html#a6e5df630d8e8d3d1bfa9db30918774fc">DICTITEM16_KEY_LEN</a></div><div class="ttdeci">#define DICTITEM16_KEY_LEN</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01429">structs.h:1429</a></div></div>
<div class="ttc" id="vim_8h_html_a19640c21bee822d1a233b8a70b8262d9"><div class="ttname"><a href="vim_8h.html#a19640c21bee822d1a233b8a70b8262d9">VV_FNAME_IN</a></div><div class="ttdeci">#define VV_FNAME_IN</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01917">vim.h:1917</a></div></div>
<div class="ttc" id="vim_8h_html_af67348217ea017063733de2684298e3e"><div class="ttname"><a href="vim_8h.html#af67348217ea017063733de2684298e3e">VV_OPTION_OLDLOCAL</a></div><div class="ttdeci">#define VV_OPTION_OLDLOCAL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01963">vim.h:1963</a></div></div>
<div class="ttc" id="vim_8h_html_a769e020d8e36b3c3d9464e8507ebdb72"><div class="ttname"><a href="vim_8h.html#a769e020d8e36b3c3d9464e8507ebdb72">VV_CHAR</a></div><div class="ttdeci">#define VV_CHAR</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01949">vim.h:1949</a></div></div>
<div class="ttc" id="message_8c_html_acf47f2acaa03395461e2b233638e69d0"><div class="ttname"><a href="message_8c.html#acf47f2acaa03395461e2b233638e69d0">internal_error</a></div><div class="ttdeci">void internal_error(char *where)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l00784">message.c:784</a></div></div>
<div class="ttc" id="vim_8h_html_ab59caf0877820a0a077a6c6f90f1c5c2"><div class="ttname"><a href="vim_8h.html#ab59caf0877820a0a077a6c6f90f1c5c2">VV_REG</a></div><div class="ttdeci">#define VV_REG</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01931">vim.h:1931</a></div></div>
<div class="ttc" id="version_8h_html_ac801bfe624377c640fd666d5fc012ae5"><div class="ttname"><a href="version_8h.html#ac801bfe624377c640fd666d5fc012ae5">VIM_VERSION_100</a></div><div class="ttdeci">#define VIM_VERSION_100</div><div class="ttdef"><b>Definition:</b> <a href="version_8h_source.html#l00020">version.h:20</a></div></div>
<div class="ttc" id="userfunc_8c_html_afd225c04dcf2fc60e106550a915295ae"><div class="ttname"><a href="userfunc_8c.html#afd225c04dcf2fc60e106550a915295ae">func_unref</a></div><div class="ttdeci">void func_unref(char_u *name)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l02923">userfunc.c:2923</a></div></div>
<div class="ttc" id="list_8c_html_aa256fec511705ecf729a14faa62030ae"><div class="ttname"><a href="list_8c.html#aa256fec511705ecf729a14faa62030ae">list_alloc</a></div><div class="ttdeci">list_T * list_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00073">list.c:73</a></div></div>
<div class="ttc" id="evalvars_8c_html_a29111d163af5d31ca6c44f78fd3d2568"><div class="ttname"><a href="evalvars_8c.html#a29111d163af5d31ca6c44f78fd3d2568">set_internal_string_var</a></div><div class="ttdeci">void set_internal_string_var(char_u *name, char_u *value)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00331">evalvars.c:331</a></div></div>
<div class="ttc" id="eval_8c_html_a0305cc6241b38e6e49c48da0de1b560c"><div class="ttname"><a href="eval_8c.html#a0305cc6241b38e6e49c48da0de1b560c">clear_tv</a></div><div class="ttdeci">void clear_tv(typval_T *varp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05353">eval.c:5353</a></div></div>
<div class="ttc" id="evalvars_8c_html_a3c5d65f4dedf5cd7e4188273c5166f9d"><div class="ttname"><a href="evalvars_8c.html#a3c5d65f4dedf5cd7e4188273c5166f9d">heredoc_get</a></div><div class="ttdeci">static list_T * heredoc_get(exarg_T *eap, char_u *cmd)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00560">evalvars.c:560</a></div></div>
<div class="ttc" id="namespacedehqx_html_aa833403a763c179f4ce8087adc050961"><div class="ttname"><a href="namespacedehqx.html#aa833403a763c179f4ce8087adc050961">dehqx.d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="dehqx_8py_source.html#l00026">dehqx.py:26</a></div></div>
<div class="ttc" id="structdictvar___s_html"><div class="ttname"><a href="structdictvar___s.html">dictvar_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01447">structs.h:1447</a></div></div>
<div class="ttc" id="structexarg_html_adc8d214a7c8bcaa5fa6ad24886f7af1b"><div class="ttname"><a href="structexarg.html#adc8d214a7c8bcaa5fa6ad24886f7af1b">exarg::force_bin</a></div><div class="ttdeci">int force_bin</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01834">ex_cmds.h:1834</a></div></div>
<div class="ttc" id="eval_8c_html_a619e83b6667d60b37fe2b5f956a665f2"><div class="ttname"><a href="eval_8c.html#a619e83b6667d60b37fe2b5f956a665f2">handle_subscript</a></div><div class="ttdeci">int handle_subscript(char_u **arg, typval_T *rettv, int evaluate, int verbose, char_u *start_leader, char_u **end_leaderp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05181">eval.c:5181</a></div></div>
<div class="ttc" id="vim_8h_html_ace0e592989ffad525bea1232b59c8fe2"><div class="ttname"><a href="vim_8h.html#ace0e592989ffad525bea1232b59c8fe2">VV_TYPE_DICT</a></div><div class="ttdeci">#define VV_TYPE_DICT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01978">vim.h:1978</a></div></div>
<div class="ttc" id="structlval___s_html_a79698c93968558d1dd24d70b21d251fc"><div class="ttname"><a href="structlval___s.html#a79698c93968558d1dd24d70b21d251fc">lval_S::ll_list</a></div><div class="ttdeci">list_T * ll_list</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03756">structs.h:3756</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad05edfb17af78eb1b9352fc10c9f55e3"><div class="ttname"><a href="evalvars_8c.html#ad05edfb17af78eb1b9352fc10c9f55e3">set_vim_var_nr</a></div><div class="ttdeci">void set_vim_var_nr(int idx, varnumber_T val)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01925">evalvars.c:1925</a></div></div>
<div class="ttc" id="eval_8c_html_a538ce888807c64f1c31dfa5f2c76b069"><div class="ttname"><a href="eval_8c.html#a538ce888807c64f1c31dfa5f2c76b069">get_copyID</a></div><div class="ttdeci">int get_copyID(void)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l03814">eval.c:3814</a></div></div>
<div class="ttc" id="ex__cmds_8c_html_a143b7fe04e371726ed7ce357b78fd583"><div class="ttname"><a href="ex__cmds_8c.html#a143b7fe04e371726ed7ce357b78fd583">check_secure</a></div><div class="ttdeci">int check_secure(void)</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8c_source.html#l03692">ex_cmds.c:3692</a></div></div>
<div class="ttc" id="structs_8h_html_ae0c626ccf1ee8fae352bfd2e406b245f"><div class="ttname"><a href="structs_8h.html#ae0c626ccf1ee8fae352bfd2e406b245f">DI_FLAGS_RO</a></div><div class="ttdeci">#define DI_FLAGS_RO</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01438">structs.h:1438</a></div></div>
<div class="ttc" id="vim_8h_html_acf7963125f809e9f6d864f961226a4f6"><div class="ttname"><a href="vim_8h.html#acf7963125f809e9f6d864f961226a4f6">IOSIZE</a></div><div class="ttdeci">#define IOSIZE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01515">vim.h:1515</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76ab52f7ef71ffc1d4c197a7422cedbaff2">VAR_NUMBER</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01316">structs.h:1316</a></div></div>
<div class="ttc" id="vim_8h_html_af61a821be0d5cd6dbf89685d34bb4d39"><div class="ttname"><a href="vim_8h.html#af61a821be0d5cd6dbf89685d34bb4d39">long_u</a></div><div class="ttdeci">unsigned long __w64 long_u</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l00357">vim.h:357</a></div></div>
<div class="ttc" id="structpartial___s_html_a040a6bd7587b7d9d4e24399215b83642"><div class="ttname"><a href="structpartial___s.html#a040a6bd7587b7d9d4e24399215b83642">partial_S::pt_refcount</a></div><div class="ttdeci">int pt_refcount</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01656">structs.h:1656</a></div></div>
<div class="ttc" id="evalvars_8c_html_a64960e4d4d426dfd2ad3459eac24bcbc"><div class="ttname"><a href="evalvars_8c.html#a64960e4d4d426dfd2ad3459eac24bcbc">free_callback</a></div><div class="ttdeci">void free_callback(callback_T *callback)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03556">evalvars.c:3556</a></div></div>
<div class="ttc" id="evalvars_8c_html_a053e45c94297be1f4be7c51510b6c5ad"><div class="ttname"><a href="evalvars_8c.html#a053e45c94297be1f4be7c51510b6c5ad">globvardict</a></div><div class="ttdeci">static dict_T globvardict</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00021">evalvars.c:21</a></div></div>
<div class="ttc" id="autocmd_8c_html_a607052566a10896bedf0078e25c7480f"><div class="ttname"><a href="autocmd_8c.html#a607052566a10896bedf0078e25c7480f">aucmd_prepbuf</a></div><div class="ttdeci">void aucmd_prepbuf(aco_save_T *aco, buf_T *buf)</div><div class="ttdef"><b>Definition:</b> <a href="autocmd_8c_source.html#l01396">autocmd.c:1396</a></div></div>
<div class="ttc" id="misc2_8c_html_a878ac034958d7b03c024072814b283e5"><div class="ttname"><a href="misc2_8c.html#a878ac034958d7b03c024072814b283e5">ga_append</a></div><div class="ttdeci">void ga_append(garray_T *gap, int c)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l02161">misc2.c:2161</a></div></div>
<div class="ttc" id="evalvars_8c_html_a9957bb4ad2ca4092b98796e7f83837fd"><div class="ttname"><a href="evalvars_8c.html#a9957bb4ad2ca4092b98796e7f83837fd">list_script_vars</a></div><div class="ttdeci">static void list_script_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00538">evalvars.c:538</a></div></div>
<div class="ttc" id="evalvars_8c_html_adb4fa9c7a47c8c47e6600779fc4ace37"><div class="ttname"><a href="evalvars_8c.html#adb4fa9c7a47c8c47e6600779fc4ace37">set_reg_var</a></div><div class="ttdeci">void set_reg_var(int c)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02089">evalvars.c:2089</a></div></div>
<div class="ttc" id="structs_8h_html_a02a5ed8479635618fa379378a5f8d6d5"><div class="ttname"><a href="structs_8h.html#a02a5ed8479635618fa379378a5f8d6d5">scid_T</a></div><div class="ttdeci">int scid_T</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00062">structs.h:62</a></div></div>
<div class="ttc" id="option_8c_html_a6bc2dbc8bb7d829236a4678343783e73"><div class="ttname"><a href="option_8c.html#a6bc2dbc8bb7d829236a4678343783e73">get_winbuf_options</a></div><div class="ttdeci">dict_T * get_winbuf_options(int bufopt)</div><div class="ttdef"><b>Definition:</b> <a href="option_8c_source.html#l07176">option.c:7176</a></div></div>
<div class="ttc" id="structs_8h_html_acec246d6172bf272a48cd63a3def63a5"><div class="ttname"><a href="structs_8h.html#acec246d6172bf272a48cd63a3def63a5">DI_FLAGS_RO_SBX</a></div><div class="ttdeci">#define DI_FLAGS_RO_SBX</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01439">structs.h:1439</a></div></div>
<div class="ttc" id="vim_8h_html_aacc7023d36c64d249c3768bdd162dcf3"><div class="ttname"><a href="vim_8h.html#aacc7023d36c64d249c3768bdd162dcf3">VV_VAL</a></div><div class="ttdeci">#define VV_VAL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01934">vim.h:1934</a></div></div>
<div class="ttc" id="evalvars_8c_html_afe849b8f04f4dd2d4349e659189d4296"><div class="ttname"><a href="evalvars_8c.html#afe849b8f04f4dd2d4349e659189d4296">EVALCMD_BUSY</a></div><div class="ttdeci">#define EVALCMD_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03077">evalvars.c:3077</a></div></div>
<div class="ttc" id="evalvars_8c_html_a41f794bed0f0365dd693285e70e88a14"><div class="ttname"><a href="evalvars_8c.html#a41f794bed0f0365dd693285e70e88a14">f_setwinvar</a></div><div class="ttdeci">void f_setwinvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03408">evalvars.c:3408</a></div></div>
<div class="ttc" id="vim_8h_html_a75fb5fb9d785a71f9d82f4d008a48278"><div class="ttname"><a href="vim_8h.html#a75fb5fb9d785a71f9d82f4d008a48278">STRCMP</a></div><div class="ttdeci">#define STRCMP(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01592">vim.h:1592</a></div></div>
<div class="ttc" id="vim_8h_html_afb9987aac1d89e5494912ae1a1b5805b"><div class="ttname"><a href="vim_8h.html#afb9987aac1d89e5494912ae1a1b5805b">VV_LEN</a></div><div class="ttdeci">#define VV_LEN</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01993">vim.h:1993</a></div></div>
<div class="ttc" id="structexarg_html_a0475c81a28af8ee0b13887cd159fa21c"><div class="ttname"><a href="structexarg.html#a0475c81a28af8ee0b13887cd159fa21c">exarg::arg</a></div><div class="ttdeci">char_u * arg</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01815">ex_cmds.h:1815</a></div></div>
<div class="ttc" id="message_8c_html_a37c7afb3d11a1f550645b8be149618e4"><div class="ttname"><a href="message_8c.html#a37c7afb3d11a1f550645b8be149618e4">msg_clr_eos</a></div><div class="ttdeci">void msg_clr_eos(void)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l03213">message.c:3213</a></div></div>
<div class="ttc" id="vim_8h_html_a58c192dd374459aee7d138c08ceb6752"><div class="ttname"><a href="vim_8h.html#a58c192dd374459aee7d138c08ceb6752">VV_OPTION_OLD</a></div><div class="ttdeci">#define VV_OPTION_OLD</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01962">vim.h:1962</a></div></div>
<div class="ttc" id="evalvars_8c_html_afcd6219cb52c33224634381fcfea9f49"><div class="ttname"><a href="evalvars_8c.html#afcd6219cb52c33224634381fcfea9f49">getwinvar</a></div><div class="ttdeci">static void getwinvar(typval_T *argvars, typval_T *rettv, int off)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02877">evalvars.c:2877</a></div></div>
<div class="ttc" id="structlval___s_html_acfc756425e5d85b18ad52921f6d26380"><div class="ttname"><a href="structlval___s.html#acfc756425e5d85b18ad52921f6d26380">lval_S::ll_li</a></div><div class="ttdeci">listitem_T * ll_li</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03755">structs.h:3755</a></div></div>
<div class="ttc" id="ascii_8h_html_af19d48b9f61047a668649a2f9dc317ff"><div class="ttname"><a href="ascii_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a></div><div class="ttdeci">#define NUL</div><div class="ttdef"><b>Definition:</b> <a href="ascii_8h_source.html#l00024">ascii.h:24</a></div></div>
<div class="ttc" id="misc1_8c_html_a8123a556565083b6385d5417786b7578"><div class="ttname"><a href="misc1_8c.html#a8123a556565083b6385d5417786b7578">concat_str</a></div><div class="ttdeci">char_u * concat_str(char_u *str1, char_u *str2)</div><div class="ttdef"><b>Definition:</b> <a href="misc1_8c_source.html#l02626">misc1.c:2626</a></div></div>
<div class="ttc" id="structlval___s_html"><div class="ttname"><a href="structlval___s.html">lval_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03748">structs.h:3748</a></div></div>
<div class="ttc" id="evalvars_8c_html_a8b7b529a9ec1521ca3cea23a917ece03"><div class="ttname"><a href="evalvars_8c.html#a8b7b529a9ec1521ca3cea23a917ece03">set_var</a></div><div class="ttdeci">void set_var(char_u *name, typval_T *tv, int copy)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02621">evalvars.c:2621</a></div></div>
<div class="ttc" id="globals_8h_html_aa313c070b6b6ab1535dea38a4a83e8bf"><div class="ttname"><a href="globals_8h.html#aa313c070b6b6ab1535dea38a4a83e8bf">did_emsg</a></div><div class="ttdeci">EXTERN int did_emsg</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00220">globals.h:220</a></div></div>
<div class="ttc" id="vim_8h_html_abfdca7b13a95e92cd9f101f3deea9159"><div class="ttname"><a href="vim_8h.html#abfdca7b13a95e92cd9f101f3deea9159">VV_TYPE_BOOL</a></div><div class="ttdeci">#define VV_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01980">vim.h:1980</a></div></div>
<div class="ttc" id="structdictvar___s_html_a54f7ac67f42e7ad8701dee90aed753e8"><div class="ttname"><a href="structdictvar___s.html#a54f7ac67f42e7ad8701dee90aed753e8">dictvar_S::dv_scope</a></div><div class="ttdeci">char dv_scope</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01450">structs.h:1450</a></div></div>
<div class="ttc" id="evalvars_8c_html_a8f44857a45e97e0416c48c6a2240608e"><div class="ttname"><a href="evalvars_8c.html#a8f44857a45e97e0416c48c6a2240608e">vars_clear</a></div><div class="ttdeci">void vars_clear(hashtab_T *ht)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02503">evalvars.c:2503</a></div></div>
<div class="ttc" id="structlval___s_html_ae245c5f6d8bb5d074c378f4b85910ad6"><div class="ttname"><a href="structlval___s.html#ae245c5f6d8bb5d074c378f4b85910ad6">lval_S::ll_n2</a></div><div class="ttdeci">long ll_n2</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03759">structs.h:3759</a></div></div>
<div class="ttc" id="vim_8h_html_a88a6687f348ae9e5113aa1844772c417"><div class="ttname"><a href="vim_8h.html#a88a6687f348ae9e5113aa1844772c417">VV_COUNT1</a></div><div class="ttdeci">#define VV_COUNT1</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01901">vim.h:1901</a></div></div>
<div class="ttc" id="eval_8c_html_a7384a515703972d5d4daa489ab8a867f"><div class="ttname"><a href="eval_8c.html#a7384a515703972d5d4daa489ab8a867f">eval_isnamec1</a></div><div class="ttdeci">int eval_isnamec1(int c)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05166">eval.c:5166</a></div></div>
<div class="ttc" id="evalvars_8c_html_a02f3181fa54ccdde3bd01827bc8163bd"><div class="ttname"><a href="evalvars_8c.html#a02f3181fa54ccdde3bd01827bc8163bd">eval_spell_expr</a></div><div class="ttdeci">list_T * eval_spell_expr(char_u *badword, char_u *expr)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00438">evalvars.c:438</a></div></div>
<div class="ttc" id="vim_8h_html_aca0eedfb5b9deb8d1fda445684392334"><div class="ttname"><a href="vim_8h.html#aca0eedfb5b9deb8d1fda445684392334">VV_TYPE_CHANNEL</a></div><div class="ttdeci">#define VV_TYPE_CHANNEL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01983">vim.h:1983</a></div></div>
<div class="ttc" id="structexarg_html_aa1a072c9c4dfafa9af02eb3cfbc1feca"><div class="ttname"><a href="structexarg.html#aa1a072c9c4dfafa9af02eb3cfbc1feca">exarg::force_enc</a></div><div class="ttdeci">int force_enc</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01837">ex_cmds.h:1837</a></div></div>
<div class="ttc" id="vim_8h_html_ad6de41bc533afca274cfb92e9d5efc60"><div class="ttname"><a href="vim_8h.html#ad6de41bc533afca274cfb92e9d5efc60">VAR_TYPE_BOOL</a></div><div class="ttdeci">#define VAR_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02008">vim.h:2008</a></div></div>
<div class="ttc" id="structtabpage___s_html_a0a3522cb592e7b900075bf5c21c3b3eb"><div class="ttname"><a href="structtabpage___s.html#a0a3522cb592e7b900075bf5c21c3b3eb">tabpage_S::tp_firstwin</a></div><div class="ttdeci">win_T * tp_firstwin</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l02767">structs.h:2767</a></div></div>
<div class="ttc" id="version_8c_html_a744d1f9c524ff7ac54d80cf450f0bb52"><div class="ttname"><a href="version_8c.html#a744d1f9c524ff7ac54d80cf450f0bb52">highest_patch</a></div><div class="ttdeci">int highest_patch(void)</div><div class="ttdef"><b>Definition:</b> <a href="version_8c_source.html#l04990">version.c:4990</a></div></div>
<div class="ttc" id="evalvars_8c_html_a3f0fbb5571da1bfc76172315020050c3"><div class="ttname"><a href="evalvars_8c.html#a3f0fbb5571da1bfc76172315020050c3">VV_COMPAT</a></div><div class="ttdeci">#define VV_COMPAT</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00038">evalvars.c:38</a></div></div>
<div class="ttc" id="structlval___s_html_a64c44610767086ec618e6cbd8e6f99c6"><div class="ttname"><a href="structlval___s.html#a64c44610767086ec618e6cbd8e6f99c6">lval_S::ll_tv</a></div><div class="ttdeci">typval_T * ll_tv</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03752">structs.h:3752</a></div></div>
<div class="ttc" id="vim_8h_html_aa48399cd06c9d5c90ec39e59fe61f1d2"><div class="ttname"><a href="vim_8h.html#aa48399cd06c9d5c90ec39e59fe61f1d2">ALLOC_CLEAR_ONE</a></div><div class="ttdeci">#define ALLOC_CLEAR_ONE(type)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01579">vim.h:1579</a></div></div>
<div class="ttc" id="vim_8h_html_a6f2af55844aa386ba2670a3904c914f4"><div class="ttname"><a href="vim_8h.html#a6f2af55844aa386ba2670a3904c914f4">DICT_MAXNEST</a></div><div class="ttdeci">#define DICT_MAXNEST</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02014">vim.h:2014</a></div></div>
<div class="ttc" id="evalvars_8c_html_a56edbbf450c2a58040d6a88aaea78d27"><div class="ttname"><a href="evalvars_8c.html#a56edbbf450c2a58040d6a88aaea78d27">vars_clear_ext</a></div><div class="ttdeci">void vars_clear_ext(hashtab_T *ht, int free_val)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02512">evalvars.c:2512</a></div></div>
<div class="ttc" id="structvimvar_html_accd564fc6c3219a54ca965a749057c4a"><div class="ttname"><a href="structvimvar.html#accd564fc6c3219a54ca965a749057c4a">vimvar::vv_name</a></div><div class="ttdeci">char * vv_name</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00046">evalvars.c:46</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad450160e643f28d55a6254ea37b1252e"><div class="ttname"><a href="evalvars_8c.html#ad450160e643f28d55a6254ea37b1252e">var_check_ro</a></div><div class="ttdeci">int var_check_ro(int flags, char_u *name, int use_gettext)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02766">evalvars.c:2766</a></div></div>
<div class="ttc" id="evalvars_8c_html_a5960a0e56b8c555ec534393b6d6896cf"><div class="ttname"><a href="evalvars_8c.html#a5960a0e56b8c555ec534393b6d6896cf">del_menutrans_vars</a></div><div class="ttdeci">void del_menutrans_vars(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01731">evalvars.c:1731</a></div></div>
<div class="ttc" id="misc2_8c_html_a8978cebac3b4ced66551e67c3a375842"><div class="ttname"><a href="misc2_8c.html#a8978cebac3b4ced66551e67c3a375842">vim_strchr</a></div><div class="ttdeci">char_u * vim_strchr(char_u *string, int c)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l01875">misc2.c:1875</a></div></div>
<div class="ttc" id="evalvars_8c_html_a0c8997a1542c90df54b4fbacaedc252d"><div class="ttname"><a href="evalvars_8c.html#a0c8997a1542c90df54b4fbacaedc252d">skip_var_list</a></div><div class="ttdeci">char_u * skip_var_list(char_u *arg, int *var_count, int *semicolon)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00906">evalvars.c:906</a></div></div>
<div class="ttc" id="vim_8h_html_ad75d86d19ee3c309a6db13026d35e357"><div class="ttname"><a href="vim_8h.html#ad75d86d19ee3c309a6db13026d35e357">NUMBUFLEN</a></div><div class="ttdeci">#define NUMBUFLEN</div></div>
<div class="ttc" id="vim_8h_html_aebd001a53fa93d32a3ac121233f5a06c"><div class="ttname"><a href="vim_8h.html#aebd001a53fa93d32a3ac121233f5a06c">VV_TYPE_FLOAT</a></div><div class="ttdeci">#define VV_TYPE_FLOAT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01979">vim.h:1979</a></div></div>
<div class="ttc" id="evalvars_8c_html_a19036292688dec52327531ca9e34b11e"><div class="ttname"><a href="evalvars_8c.html#a19036292688dec52327531ca9e34b11e">set_vim_var_list</a></div><div class="ttdeci">void set_vim_var_list(int idx, list_T *val)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02060">evalvars.c:2060</a></div></div>
<div class="ttc" id="structexarg_html_a21cf8f2876f3503dce25453ba4766273"><div class="ttname"><a href="structexarg.html#a21cf8f2876f3503dce25453ba4766273">exarg::getline</a></div><div class="ttdeci">char_u *(* getline)(int, void *, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01841">ex_cmds.h:1841</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9aa3e1b5a84820042d52f746ac187309">VAR_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01315">structs.h:1315</a></div></div>
<div class="ttc" id="eval_8c_html_af7e0f0ba9325b5fdd3ea3f6b4863e2eb"><div class="ttname"><a href="eval_8c.html#af7e0f0ba9325b5fdd3ea3f6b4863e2eb">echo_string</a></div><div class="ttdeci">char_u * echo_string(typval_T *tv, char_u **tofree, char_u *numbuf, int copyID)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l04534">eval.c:4534</a></div></div>
<div class="ttc" id="structlval___s_html_a7d9afa38f5adb90d422a5e856206bb8a"><div class="ttname"><a href="structlval___s.html#a7d9afa38f5adb90d422a5e856206bb8a">lval_S::ll_name</a></div><div class="ttdeci">char_u * ll_name</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03750">structs.h:3750</a></div></div>
<div class="ttc" id="vim_8h_html_a39f0c25cf1392fc2915dcd4dfa640fae"><div class="ttname"><a href="vim_8h.html#a39f0c25cf1392fc2915dcd4dfa640fae">SOME_VALID</a></div><div class="ttdeci">#define SOME_VALID</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l00588">vim.h:588</a></div></div>
<div class="ttc" id="vim_8h_html_aad1a5389de09e8197a45ef710890ffc4"><div class="ttname"><a href="vim_8h.html#aad1a5389de09e8197a45ef710890ffc4">VAR_TYPE_CHANNEL</a></div><div class="ttdeci">#define VAR_TYPE_CHANNEL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02011">vim.h:2011</a></div></div>
<div class="ttc" id="evalvars_8c_html_a2aa2ddd095ad733b6574251ade2c4cfa"><div class="ttname"><a href="evalvars_8c.html#a2aa2ddd095ad733b6574251ade2c4cfa">f_setbufvar</a></div><div class="ttdeci">void f_setbufvar(typval_T *argvars, typval_T *rettv UNUSED)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03417">evalvars.c:3417</a></div></div>
<div class="ttc" id="structscriptvar___t_html_a0fb9cff09f31831b88966becb3928f39"><div class="ttname"><a href="structscriptvar___t.html#a0fb9cff09f31831b88966becb3928f39">scriptvar_T::sv_var</a></div><div class="ttdeci">dictitem_T sv_var</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00171">evalvars.c:171</a></div></div>
<div class="ttc" id="option_8c_html_ab2d5c983e65f84faa64a27e09377f6cc"><div class="ttname"><a href="option_8c.html#ab2d5c983e65f84faa64a27e09377f6cc">get_option_value</a></div><div class="ttdeci">int get_option_value(char_u *name, long *numval, char_u **stringval, int opt_flags)</div><div class="ttdef"><b>Definition:</b> <a href="option_8c_source.html#l03957">option.c:3957</a></div></div>
<div class="ttc" id="evalvars_8c_html_a421ac3a5e1112ac11e10b07a0dc43335"><div class="ttname"><a href="evalvars_8c.html#a421ac3a5e1112ac11e10b07a0dc43335">list_one_var</a></div><div class="ttdeci">static void list_one_var(dictitem_T *v, char *prefix, int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02558">evalvars.c:2558</a></div></div>
<div class="ttc" id="structhashitem___s_html_a87f4dbc4f9d02097b5146746bb8327c6"><div class="ttname"><a href="structhashitem___s.html#a87f4dbc4f9d02097b5146746bb8327c6">hashitem_S::hi_key</a></div><div class="ttdeci">char_u * hi_key</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01220">structs.h:1220</a></div></div>
<div class="ttc" id="charset_8c_html_a9b0bcaf36a3b4d0acb84601593dea494"><div class="ttname"><a href="charset_8c.html#a9b0bcaf36a3b4d0acb84601593dea494">skipwhite</a></div><div class="ttdeci">char_u * skipwhite(char_u *q)</div><div class="ttdef"><b>Definition:</b> <a href="charset_8c_source.html#l01449">charset.c:1449</a></div></div>
<div class="ttc" id="evalvars_8c_html_a5c4b8bba94950aeb544ccab4867a95be"><div class="ttname"><a href="evalvars_8c.html#a5c4b8bba94950aeb544ccab4867a95be">valid_varname</a></div><div class="ttdeci">int valid_varname(char_u *varname)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02859">evalvars.c:2859</a></div></div>
<div class="ttc" id="vim_8h_html_aa31b359947a03e58f61eee16426b4091"><div class="ttname"><a href="vim_8h.html#aa31b359947a03e58f61eee16426b4091">VAR_TYPE_FUNC</a></div><div class="ttdeci">#define VAR_TYPE_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02004">vim.h:2004</a></div></div>
<div class="ttc" id="structlval___s_html_a9891a286dbc9e32cdbd4fb7ebd64cab0"><div class="ttname"><a href="structlval___s.html#a9891a286dbc9e32cdbd4fb7ebd64cab0">lval_S::ll_dict</a></div><div class="ttdeci">dict_T * ll_dict</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03761">structs.h:3761</a></div></div>
<div class="ttc" id="structcallback___t_html_a8f9e66ed228e851fe04e4a2098c0375e"><div class="ttname"><a href="structcallback___t.html#a8f9e66ed228e851fe04e4a2098c0375e">callback_T::cb_name</a></div><div class="ttdeci">char_u * cb_name</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01301">structs.h:1301</a></div></div>
<div class="ttc" id="vim_8h_html_a85d47bb3b1c8299f77d3c8c16dc65a2d"><div class="ttname"><a href="vim_8h.html#a85d47bb3b1c8299f77d3c8c16dc65a2d">FNE_CHECK_START</a></div><div class="ttdeci">#define FNE_CHECK_START</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02538">vim.h:2538</a></div></div>
<div class="ttc" id="charset_8c_html_aa0655d0239669257ba35052aff60fa22"><div class="ttname"><a href="charset_8c.html#aa0655d0239669257ba35052aff60fa22">vim_islower</a></div><div class="ttdeci">int vim_islower(int c)</div><div class="ttdef"><b>Definition:</b> <a href="charset_8c_source.html#l01603">charset.c:1603</a></div></div>
<div class="ttc" id="evalvars_8c_html_a99e530babd4f71eefac5b5587db7004b"><div class="ttname"><a href="evalvars_8c.html#a99e530babd4f71eefac5b5587db7004b">get_vimvar_dict</a></div><div class="ttdeci">dict_T * get_vimvar_dict(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01906">evalvars.c:1906</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab44792e3a61e7e7ff533947af0fd5da4"><div class="ttname"><a href="evalvars_8c.html#ab44792e3a61e7e7ff533947af0fd5da4">vimvarht</a></div><div class="ttdeci">#define vimvarht</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00160">evalvars.c:160</a></div></div>
<div class="ttc" id="list_8c_html_a55772ddcf72f0e62c6576761f5ed4e65"><div class="ttname"><a href="list_8c.html#a55772ddcf72f0e62c6576761f5ed4e65">list_len</a></div><div class="ttdeci">long list_len(list_T *l)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00276">list.c:276</a></div></div>
<div class="ttc" id="structdictitem___s_html_a7c2467304c3b37c1e211b025b1fbd1f9"><div class="ttname"><a href="structdictitem___s.html#a7c2467304c3b37c1e211b025b1fbd1f9">dictitem_S::di_tv</a></div><div class="ttdeci">typval_T di_tv</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01419">structs.h:1419</a></div></div>
<div class="ttc" id="eval_8c_html_a7f6511d801ab4a5e0774900970041d6b"><div class="ttname"><a href="eval_8c.html#a7f6511d801ab4a5e0774900970041d6b">find_option_end</a></div><div class="ttdeci">char_u * find_option_end(char_u **arg, int *opt_flags)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l06101">eval.c:6101</a></div></div>
<div class="ttc" id="vim_8h_html_a89484f8a54e3ba9260c65ff1005fa082"><div class="ttname"><a href="vim_8h.html#a89484f8a54e3ba9260c65ff1005fa082">VV_NULL</a></div><div class="ttdeci">#define VV_NULL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01970">vim.h:1970</a></div></div>
<div class="ttc" id="message_8c_html_a1be7dcccb8daf25bba3e78479802251e"><div class="ttname"><a href="message_8c.html#a1be7dcccb8daf25bba3e78479802251e">msg_advance</a></div><div class="ttdeci">void msg_advance(int col)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l03519">message.c:3519</a></div></div>
<div class="ttc" id="vim_8h_html_ada90d9bd902c75bc81e54a1c58b331de"><div class="ttname"><a href="vim_8h.html#ada90d9bd902c75bc81e54a1c58b331de">VAR_TYPE_JOB</a></div><div class="ttdeci">#define VAR_TYPE_JOB</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02010">vim.h:2010</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a0d3c7284227bb22719180d8096217d6a">VAR_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01320">structs.h:1320</a></div></div>
<div class="ttc" id="vim_8h_html_aff8d3044d7812c7120eadc0d84bd7e8d"><div class="ttname"><a href="vim_8h.html#aff8d3044d7812c7120eadc0d84bd7e8d">VVAL_NONE</a></div><div class="ttdeci">#define VVAL_NONE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01998">vim.h:1998</a></div></div>
<div class="ttc" id="message_8c_html_ae0edfa8d1999c41726a759fd06a1ab6e"><div class="ttname"><a href="message_8c.html#ae0edfa8d1999c41726a759fd06a1ab6e">msg_putchar</a></div><div class="ttdeci">void msg_putchar(int c)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l01360">message.c:1360</a></div></div>
<div class="ttc" id="scriptfile_8c_html_a86f068e5add12d8ff738d7b2a8f8a54f"><div class="ttname"><a href="scriptfile_8c.html#a86f068e5add12d8ff738d7b2a8f8a54f">script_autoload</a></div><div class="ttdeci">int script_autoload(char_u *name, int reload)</div><div class="ttdef"><b>Definition:</b> <a href="scriptfile_8c_source.html#l01759">scriptfile.c:1759</a></div></div>
<div class="ttc" id="evalvars_8c_html_afeee35b957dfd85bd970442c33c7f36b"><div class="ttname"><a href="evalvars_8c.html#afeee35b957dfd85bd970442c33c7f36b">compat_hashtab</a></div><div class="ttdeci">static hashtab_T compat_hashtab</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00028">evalvars.c:28</a></div></div>
<div class="ttc" id="ex__docmd_8c_html_ad40af41d7f94551522fc4715a140dcee"><div class="ttname"><a href="ex__docmd_8c.html#ad40af41d7f94551522fc4715a140dcee">ends_excmd</a></div><div class="ttdeci">int ends_excmd(int c)</div><div class="ttdef"><b>Definition:</b> <a href="ex__docmd_8c_source.html#l04651">ex_docmd.c:4651</a></div></div>
<div class="ttc" id="evalvars_8c_html_a765752a9902a3ebe1dd908836d2e656e"><div class="ttname"><a href="evalvars_8c.html#a765752a9902a3ebe1dd908836d2e656e">garbage_collect_scriptvars</a></div><div class="ttdeci">int garbage_collect_scriptvars(int copyID)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00315">evalvars.c:315</a></div></div>
<div class="ttc" id="evalvars_8c_html_a33112daf74103872918bdbfb8964f8ee"><div class="ttname"><a href="evalvars_8c.html#a33112daf74103872918bdbfb8964f8ee">redir_varname</a></div><div class="ttdeci">static char_u * redir_varname</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03080">evalvars.c:3080</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1893846d548dcee49d1e7f3deafeb4bd"><div class="ttname"><a href="evalvars_8c.html#a1893846d548dcee49d1e7f3deafeb4bd">eval_charconvert</a></div><div class="ttdeci">int eval_charconvert(char_u *enc_from, char_u *enc_to, char_u *fname_from, char_u *fname_to)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00349">evalvars.c:349</a></div></div>
<div class="ttc" id="evalvars_8c_html_aeb701f7ec43a813129f9c5f134d59752"><div class="ttname"><a href="evalvars_8c.html#aeb701f7ec43a813129f9c5f134d59752">ex_lockvar</a></div><div class="ttdeci">void ex_lockvar(exarg_T *eap)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01367">evalvars.c:1367</a></div></div>
<div class="ttc" id="structdictitem___s_html"><div class="ttname"><a href="structdictitem___s.html">dictitem_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01417">structs.h:1417</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa3a72813b2075b71a9a9789fa4252853">VAR_DICT</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01321">structs.h:1321</a></div></div>
<div class="ttc" id="macros_8h_html_a36b251f72b15af802287b0394ba51e97"><div class="ttname"><a href="macros_8h.html#a36b251f72b15af802287b0394ba51e97">VIM_ISWHITE</a></div><div class="ttdeci">#define VIM_ISWHITE(x)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00043">macros.h:43</a></div></div>
<div class="ttc" id="eval_8c_html_a83c744052646da283847e141e57c2ef3"><div class="ttname"><a href="eval_8c.html#a83c744052646da283847e141e57c2ef3">get_env_len</a></div><div class="ttdeci">int get_env_len(char_u **arg)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l04871">eval.c:4871</a></div></div>
<div class="ttc" id="evalvars_8c_html_aaa2f738d23b412f115a27b9dcaca47ff"><div class="ttname"><a href="evalvars_8c.html#aaa2f738d23b412f115a27b9dcaca47ff">f_gettabwinvar</a></div><div class="ttdeci">void f_gettabwinvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03274">evalvars.c:3274</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76">vartype_T</a></div><div class="ttdeci">vartype_T</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01313">structs.h:1313</a></div></div>
<div class="ttc" id="structhashtable___s_html"><div class="ttname"><a href="structhashtable___s.html">hashtable_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01233">structs.h:1233</a></div></div>
<div class="ttc" id="evalvars_8c_html_a14a85a013c7211b5e4a5530458f4e169"><div class="ttname"><a href="evalvars_8c.html#a14a85a013c7211b5e4a5530458f4e169">get_var_value</a></div><div class="ttdeci">char_u * get_var_value(char_u *name)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02421">evalvars.c:2421</a></div></div>
<div class="ttc" id="eval_8c_html_ae1ee36a725913597ed42ad9093bceae6"><div class="ttname"><a href="eval_8c.html#ae1ee36a725913597ed42ad9093bceae6">partial_unref</a></div><div class="ttdeci">void partial_unref(partial_T *pt)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l03651">eval.c:3651</a></div></div>
<div class="ttc" id="hashtab_8c_html_a49b651de8edaf9d8b6375c63c4106b5d"><div class="ttname"><a href="hashtab_8c.html#a49b651de8edaf9d8b6375c63c4106b5d">hash_lock</a></div><div class="ttdeci">void hash_lock(hashtab_T *ht)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00284">hashtab.c:284</a></div></div>
<div class="ttc" id="evalvars_8c_html_ac1b5912bd875fbad7ed0764186a7c7f7"><div class="ttname"><a href="evalvars_8c.html#ac1b5912bd875fbad7ed0764186a7c7f7">get_globvar_dict</a></div><div class="ttdeci">dict_T * get_globvar_dict(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01888">evalvars.c:1888</a></div></div>
<div class="ttc" id="structexarg_html_a890d17f4aaf19e596b75ab4db4a152c6"><div class="ttname"><a href="structexarg.html#a890d17f4aaf19e596b75ab4db4a152c6">exarg::read_edit</a></div><div class="ttdeci">int read_edit</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01835">ex_cmds.h:1835</a></div></div>
<div class="ttc" id="structs_8h_html_aa8d82b16748a121dcb5b869f762cac90"><div class="ttname"><a href="structs_8h.html#aa8d82b16748a121dcb5b869f762cac90">VAR_SCOPE</a></div><div class="ttdeci">#define VAR_SCOPE</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01355">structs.h:1355</a></div></div>
<div class="ttc" id="evalvars_8c_html_a15a1bd657aa4dd61e877641dd8801aac"><div class="ttname"><a href="evalvars_8c.html#a15a1bd657aa4dd61e877641dd8801aac">ga_scripts</a></div><div class="ttdeci">static garray_T ga_scripts</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00175">evalvars.c:175</a></div></div>
<div class="ttc" id="vim_8h_html_aef3f72bcd88b2d137299381ef3abb600"><div class="ttname"><a href="vim_8h.html#aef3f72bcd88b2d137299381ef3abb600">VV_CMDARG</a></div><div class="ttdeci">#define VV_CMDARG</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01921">vim.h:1921</a></div></div>
<div class="ttc" id="structexarg_html_aa0ec3afbe9b4ac94880acdc628812b25"><div class="ttname"><a href="structexarg.html#aa0ec3afbe9b4ac94880acdc628812b25">exarg::bad_char</a></div><div class="ttdeci">int bad_char</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01838">ex_cmds.h:1838</a></div></div>
<div class="ttc" id="structvimvar_html"><div class="ttname"><a href="structvimvar.html">vimvar</a></div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00044">evalvars.c:44</a></div></div>
<div class="ttc" id="structdictitem16___s_html_a8598dcb4c70427feeca5ef94648043d2"><div class="ttname"><a href="structdictitem16___s.html#a8598dcb4c70427feeca5ef94648043d2">dictitem16_S::di_tv</a></div><div class="ttdeci">typval_T di_tv</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01432">structs.h:1432</a></div></div>
<div class="ttc" id="message_8c_html_a0db479cde321ca12b8d84a53196454ad"><div class="ttname"><a href="message_8c.html#a0db479cde321ca12b8d84a53196454ad">msg_puts</a></div><div class="ttdeci">void msg_puts(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l01910">message.c:1910</a></div></div>
<div class="ttc" id="structlistvar___s_html_ad6e6ea61d40bd4ca9a4ebcfb9cb6220c"><div class="ttname"><a href="structlistvar___s.html#ad6e6ea61d40bd4ca9a4ebcfb9cb6220c">listvar_S::lv_refcount</a></div><div class="ttdeci">int lv_refcount</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01397">structs.h:1397</a></div></div>
<div class="ttc" id="ex__cmds_8h_html_adade35874286a0d3adf67ddd3bf8c4bc"><div class="ttname"><a href="ex__cmds_8h.html#adade35874286a0d3adf67ddd3bf8c4bc">FORCE_BIN</a></div><div class="ttdeci">#define FORCE_BIN</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01854">ex_cmds.h:1854</a></div></div>
<div class="ttc" id="structfile__buffer_html"><div class="ttname"><a href="structfile__buffer.html">file_buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l02231">structs.h:2231</a></div></div>
<div class="ttc" id="vim_8h_html_a4995e7bd6ef9d25361bde06176a2cc91"><div class="ttname"><a href="vim_8h.html#a4995e7bd6ef9d25361bde06176a2cc91">VV_ECHOSPACE</a></div><div class="ttdeci">#define VV_ECHOSPACE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01992">vim.h:1992</a></div></div>
<div class="ttc" id="vim_8h_html_ab97f26dd614db5afa11d367d7ba2d87d"><div class="ttname"><a href="vim_8h.html#ab97f26dd614db5afa11d367d7ba2d87d">VAR_TYPE_NONE</a></div><div class="ttdeci">#define VAR_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02009">vim.h:2009</a></div></div>
<div class="ttc" id="evalvars_8c_html_a16aff3e573f44afb484d714e96a4c088"><div class="ttname"><a href="evalvars_8c.html#a16aff3e573f44afb484d714e96a4c088">list_one_var_a</a></div><div class="ttdeci">static void list_one_var_a(char *prefix, char_u *name, int type, char_u *string, int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02571">evalvars.c:2571</a></div></div>
<div class="ttc" id="evalvars_8c_html_a805f02bc4da6811aae6a1ea928a75282"><div class="ttname"><a href="evalvars_8c.html#a805f02bc4da6811aae6a1ea928a75282">set_cmdarg</a></div><div class="ttdeci">char_u * set_cmdarg(exarg_T *eap, char_u *oldarg)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02141">evalvars.c:2141</a></div></div>
<div class="ttc" id="main_8c_html_ac1f9aa0153be96581e7f01eddf1c32e0"><div class="ttname"><a href="main_8c.html#ac1f9aa0153be96581e7f01eddf1c32e0">getout</a></div><div class="ttdeci">void getout(int exitval)</div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l01549">main.c:1549</a></div></div>
<div class="ttc" id="structs_8h_html_a21d6df6d2e0a5faa559caaad05c5962d"><div class="ttname"><a href="structs_8h.html#a21d6df6d2e0a5faa559caaad05c5962d">varnumber_T</a></div><div class="ttdeci">int varnumber_T</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01281">structs.h:1281</a></div></div>
<div class="ttc" id="structhashtable___s_html_aa16864dc756832d346c8ffb64d9c6e37"><div class="ttname"><a href="structhashtable___s.html#aa16864dc756832d346c8ffb64d9c6e37">hashtable_S::ht_smallarray</a></div><div class="ttdeci">hashitem_T ht_smallarray[HT_INIT_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01244">structs.h:1244</a></div></div>
<div class="ttc" id="evalvars_8c_html_abb5d7d84056cabfb922837912927a1b5"><div class="ttname"><a href="evalvars_8c.html#abb5d7d84056cabfb922837912927a1b5">get_vim_var_list</a></div><div class="ttdeci">list_T * get_vim_var_list(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01964">evalvars.c:1964</a></div></div>
<div class="ttc" id="eval_8c_html_aae83f621bb78f7823db286ec65444e22"><div class="ttname"><a href="eval_8c.html#aae83f621bb78f7823db286ec65444e22">find_name_end</a></div><div class="ttdeci">char_u * find_name_end(char_u *arg, char_u **expr_start, char_u **expr_end, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05002">eval.c:5002</a></div></div>
<div class="ttc" id="evalvars_8c_html_a852a18c3f08c21ffacc479b7d663c4e3"><div class="ttname"><a href="evalvars_8c.html#a852a18c3f08c21ffacc479b7d663c4e3">get_spellword</a></div><div class="ttdeci">int get_spellword(list_T *list, char_u **pp)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00474">evalvars.c:474</a></div></div>
<div class="ttc" id="evalvars_8c_html_aaa1c56a23cae60792f4b4a96d5960fa3"><div class="ttname"><a href="evalvars_8c.html#aaa1c56a23cae60792f4b4a96d5960fa3">delete_var</a></div><div class="ttdeci">static void delete_var(hashtab_T *ht, hashitem_T *hi)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02545">evalvars.c:2545</a></div></div>
<div class="ttc" id="structvimvars__save___t_html_a580ced612e5470fc853c527fad3f3e85"><div class="ttname"><a href="structvimvars__save___t.html#a580ced612e5470fc853c527fad3f3e85">vimvars_save_T::vv_count1</a></div><div class="ttdeci">varnumber_T vv_count1</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03784">structs.h:3784</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad6bd741e67ac5c478ffcc21b5bfb3093"><div class="ttname"><a href="evalvars_8c.html#ad6bd741e67ac5c478ffcc21b5bfb3093">find_var_ht</a></div><div class="ttdeci">hashtab_T * find_var_ht(char_u *name, char_u **varname)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02361">evalvars.c:2361</a></div></div>
<div class="ttc" id="os__unix_8h_html_ae70108db942e4f3eeb701ad8787b1835"><div class="ttname"><a href="os__unix_8h.html#ae70108db942e4f3eeb701ad8787b1835">mch_memmove</a></div><div class="ttdeci">#define mch_memmove(to, from, len)</div><div class="ttdef"><b>Definition:</b> <a href="os__unix_8h_source.html#l00434">os_unix.h:434</a></div></div>
<div class="ttc" id="evalvars_8c_html_a2f1530a9b92d47d0fc98571c8e15db76"><div class="ttname"><a href="evalvars_8c.html#a2f1530a9b92d47d0fc98571c8e15db76">VV_NAME</a></div><div class="ttdeci">#define VV_NAME(s, t)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00042">evalvars.c:42</a></div></div>
<div class="ttc" id="misc2_8c_html_ad0b64e14955781629a3908e328f82665"><div class="ttname"><a href="misc2_8c.html#ad0b64e14955781629a3908e328f82665">alloc</a></div><div class="ttdeci">void * alloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l00825">misc2.c:825</a></div></div>
<div class="ttc" id="evalvars_8c_html_a287cbe97033bf8e9c93b8d884530601f"><div class="ttname"><a href="evalvars_8c.html#a287cbe97033bf8e9c93b8d884530601f">get_vim_var_tv</a></div><div class="ttdeci">typval_T * get_vim_var_tv(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01934">evalvars.c:1934</a></div></div>
<div class="ttc" id="evalvars_8c_html_af60e450f129befa544ebf53099a54ac2"><div class="ttname"><a href="evalvars_8c.html#af60e450f129befa544ebf53099a54ac2">redir_lval</a></div><div class="ttdeci">static lval_T * redir_lval</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03076">evalvars.c:3076</a></div></div>
<div class="ttc" id="evalvars_8c_html_add781d87a04d6981cad4c9e78ea30ffd"><div class="ttname"><a href="evalvars_8c.html#add781d87a04d6981cad4c9e78ea30ffd">eval_printexpr</a></div><div class="ttdeci">int eval_printexpr(char_u *fname, char_u *args)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00375">evalvars.c:375</a></div></div>
<div class="ttc" id="structcallback___t_html_af34739d6595dc47234e03619e5d78980"><div class="ttname"><a href="structcallback___t.html#af34739d6595dc47234e03619e5d78980">callback_T::cb_free_name</a></div><div class="ttdeci">int cb_free_name</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01303">structs.h:1303</a></div></div>
<div class="ttc" id="eval_8c_html_a7f0e833805071bb680d552ba9d80fc53"><div class="ttname"><a href="eval_8c.html#a7f0e833805071bb680d552ba9d80fc53">free_tv</a></div><div class="ttdeci">void free_tv(typval_T *varp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05305">eval.c:5305</a></div></div>
<div class="ttc" id="evalvars_8c_html_ae5d955bc3a3940e050a4441dc70e1338"><div class="ttname"><a href="evalvars_8c.html#ae5d955bc3a3940e050a4441dc70e1338">vv_str</a></div><div class="ttdeci">#define vv_str</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00152">evalvars.c:152</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1fb5f2e0b19be05ba2f855f4efc9c9b8"><div class="ttname"><a href="evalvars_8c.html#a1fb5f2e0b19be05ba2f855f4efc9c9b8">varnamebuf</a></div><div class="ttdeci">static char_u * varnamebuf</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01757">evalvars.c:1757</a></div></div>
<div class="ttc" id="vim_8h_html_a843e9240a11b876003a0211c1f6208a9"><div class="ttname"><a href="vim_8h.html#a843e9240a11b876003a0211c1f6208a9">VV_CC_TO</a></div><div class="ttdeci">#define VV_CC_TO</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01916">vim.h:1916</a></div></div>
<div class="ttc" id="evalvars_8c_html_a3d58ac9f6acbc7895fbb946a851d35ae"><div class="ttname"><a href="evalvars_8c.html#a3d58ac9f6acbc7895fbb946a851d35ae">cat_prefix_varname</a></div><div class="ttdeci">static char_u * cat_prefix_varname(int prefix, char_u *name)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01764">evalvars.c:1764</a></div></div>
<div class="ttc" id="macros_8h_html_a1c79e75cde848afa5b4c0be7c1c99ead"><div class="ttname"><a href="macros_8h.html#a1c79e75cde848afa5b4c0be7c1c99ead">VIM_ISDIGIT</a></div><div class="ttdeci">#define VIM_ISDIGIT(c)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00098">macros.h:98</a></div></div>
<div class="ttc" id="vim_8h_html_aa7a28ee927e7f718acf6ed379b0b73f5"><div class="ttname"><a href="vim_8h.html#aa7a28ee927e7f718acf6ed379b0b73f5">VV_EVENT</a></div><div class="ttdeci">#define VV_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01990">vim.h:1990</a></div></div>
<div class="ttc" id="misc1_8c_html_a279518116c8b120e2dc277d7af50a9bf"><div class="ttname"><a href="misc1_8c.html#a279518116c8b120e2dc277d7af50a9bf">vim_getenv</a></div><div class="ttdeci">char_u * vim_getenv(char_u *name, int *mustfree)</div><div class="ttdef"><b>Definition:</b> <a href="misc1_8c_source.html#l02185">misc1.c:2185</a></div></div>
<div class="ttc" id="structgrowarray_html"><div class="ttname"><a href="structgrowarray.html">growarray</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00048">structs.h:48</a></div></div>
<div class="ttc" id="vim_8h_html_a5c4acc8f33379bf47b82d8ab4abd459a"><div class="ttname"><a href="vim_8h.html#a5c4acc8f33379bf47b82d8ab4abd459a">VV_OPTION_COMMAND</a></div><div class="ttdeci">#define VV_OPTION_COMMAND</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01965">vim.h:1965</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab5636c1b11ff652c8833d7da59866df9"><div class="ttname"><a href="evalvars_8c.html#ab5636c1b11ff652c8833d7da59866df9">f_getwinvar</a></div><div class="ttdeci">void f_getwinvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03283">evalvars.c:3283</a></div></div>
<div class="ttc" id="evalvars_8c_html_a13dec2430ff51c12a4111b9897bb41a2"><div class="ttname"><a href="evalvars_8c.html#a13dec2430ff51c12a4111b9897bb41a2">put_callback</a></div><div class="ttdeci">void put_callback(callback_T *cb, typval_T *tv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03514">evalvars.c:3514</a></div></div>
<div class="ttc" id="eval_8c_html_a2adbb0036ebbf4fb81d0b6a5af53ceea"><div class="ttname"><a href="eval_8c.html#a2adbb0036ebbf4fb81d0b6a5af53ceea">copy_tv</a></div><div class="ttdeci">void copy_tv(typval_T *from, typval_T *to)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05720">eval.c:5720</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad78c1107613c1eb51a0f4c8041c7bc4e"><div class="ttname"><a href="evalvars_8c.html#ad78c1107613c1eb51a0f4c8041c7bc4e">get_vim_var_dict</a></div><div class="ttdeci">dict_T * get_vim_var_dict(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01974">evalvars.c:1974</a></div></div>
<div class="ttc" id="vim_8h_html_aba49c317732ed2f938129061ee53fe32"><div class="ttname"><a href="vim_8h.html#aba49c317732ed2f938129061ee53fe32">N_</a></div><div class="ttdeci">#define N_(x)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l00562">vim.h:562</a></div></div>
<div class="ttc" id="structtypval___t_html_a4a1c1cd367944881762335a1593a986b"><div class="ttname"><a href="structtypval___t.html#a4a1c1cd367944881762335a1593a986b">typval_T::v_lock</a></div><div class="ttdeci">char v_lock</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01335">structs.h:1335</a></div></div>
<div class="ttc" id="option_8c_html_a94ae863d1c8638bea649c9a093c2be06"><div class="ttname"><a href="option_8c.html#a94ae863d1c8638bea649c9a093c2be06">set_option_value</a></div><div class="ttdeci">char * set_option_value(char_u *name, long number, char_u *string, int opt_flags)</div><div class="ttdef"><b>Definition:</b> <a href="option_8c_source.html#l04321">option.c:4321</a></div></div>
<div class="ttc" id="structexarg_html_a2ef28498b904f9bd9127f7fc1b962d67"><div class="ttname"><a href="structexarg.html#a2ef28498b904f9bd9127f7fc1b962d67">exarg::cmdidx</a></div><div class="ttdeci">cmdidx_T cmdidx</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01819">ex_cmds.h:1819</a></div></div>
<div class="ttc" id="structcallback___t_html"><div class="ttname"><a href="structcallback___t.html">callback_T</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01300">structs.h:1300</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab3512c1cbc83626e0f954899c60827c6"><div class="ttname"><a href="evalvars_8c.html#ab3512c1cbc83626e0f954899c60827c6">vv_list</a></div><div class="ttdeci">#define vv_list</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00153">evalvars.c:153</a></div></div>
<div class="ttc" id="hashtab_8c_html_ad88600b48e72a2a435f472e63680577b"><div class="ttname"><a href="hashtab_8c.html#ad88600b48e72a2a435f472e63680577b">hash_find</a></div><div class="ttdeci">hashitem_T * hash_find(hashtab_T *ht, char_u *key)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00118">hashtab.c:118</a></div></div>
<div class="ttc" id="vim_8h_html_a0a762941cde3e12be1169f88c68a6b97"><div class="ttname"><a href="vim_8h.html#a0a762941cde3e12be1169f88c68a6b97">VV_OPTION_OLDGLOBAL</a></div><div class="ttdeci">#define VV_OPTION_OLDGLOBAL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01964">vim.h:1964</a></div></div>
<div class="ttc" id="eval_8c_html_ae9336bda2939fa2046566b928d9742c2"><div class="ttname"><a href="eval_8c.html#ae9336bda2939fa2046566b928d9742c2">set_var_lval</a></div><div class="ttdeci">void set_var_lval(lval_T *lp, char_u *endp, typval_T *rettv, int copy, int is_const, char_u *op)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l01026">eval.c:1026</a></div></div>
<div class="ttc" id="vim_8h_html_a7264eca5a93153d142cc9950673105ea"><div class="ttname"><a href="vim_8h.html#a7264eca5a93153d142cc9950673105ea">VAR_TYPE_STRING</a></div><div class="ttdeci">#define VAR_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02003">vim.h:2003</a></div></div>
<div class="ttc" id="vim_8h_html_adbefa224e1e0e68ad4636698e7024ab1"><div class="ttname"><a href="vim_8h.html#adbefa224e1e0e68ad4636698e7024ab1">VV_THROWPOINT</a></div><div class="ttdeci">#define VV_THROWPOINT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01930">vim.h:1930</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad68c9f8c69caf43e2b0f573759e79c53"><div class="ttname"><a href="evalvars_8c.html#ad68c9f8c69caf43e2b0f573759e79c53">globvarht</a></div><div class="ttdeci">#define globvarht</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00022">evalvars.c:22</a></div></div>
<div class="ttc" id="evalvars_8c_html_a691be075bae9727bbbd966076b1c2964"><div class="ttname"><a href="evalvars_8c.html#a691be075bae9727bbbd966076b1c2964">set_var_const</a></div><div class="ttdeci">void set_var_const(char_u *name, typval_T *tv, int copy, int is_const)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02635">evalvars.c:2635</a></div></div>
<div class="ttc" id="structs_8h_html_affc0705734756add6373e5b807835369"><div class="ttname"><a href="structs_8h.html#affc0705734756add6373e5b807835369">VAR_LOCKED</a></div><div class="ttdeci">#define VAR_LOCKED</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01360">structs.h:1360</a></div></div>
<div class="ttc" id="message_8c_html_aba476498f1166cdea4ca0faa7cf86973"><div class="ttname"><a href="message_8c.html#aba476498f1166cdea4ca0faa7cf86973">message_filtered</a></div><div class="ttdeci">int message_filtered(char_u *msg)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l02226">message.c:2226</a></div></div>
<div class="ttc" id="structdictvar___s_html_af548e8140290e70d4a5833ef7558194d"><div class="ttname"><a href="structdictvar___s.html#af548e8140290e70d4a5833ef7558194d">dictvar_S::dv_hashtab</a></div><div class="ttdeci">hashtab_T dv_hashtab</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01453">structs.h:1453</a></div></div>
<div class="ttc" id="misc1_8c_html_a4a29fd5f580ae411f904913770eac9d9"><div class="ttname"><a href="misc1_8c.html#a4a29fd5f580ae411f904913770eac9d9">vim_unsetenv</a></div><div class="ttdeci">void vim_unsetenv(char_u *var)</div><div class="ttdef"><b>Definition:</b> <a href="misc1_8c_source.html#l02404">misc1.c:2404</a></div></div>
<div class="ttc" id="evalvars_8c_html_a0eee781c74994bc265c20eb200f3226d"><div class="ttname"><a href="evalvars_8c.html#a0eee781c74994bc265c20eb200f3226d">vimvardict</a></div><div class="ttdeci">static dict_T vimvardict</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00159">evalvars.c:159</a></div></div>
<div class="ttc" id="structvimvars__save___t_html_ade647c08aa7a59c3ee285f442dd5fd8a"><div class="ttname"><a href="structvimvars__save___t.html#ade647c08aa7a59c3ee285f442dd5fd8a">vimvars_save_T::vv_prevcount</a></div><div class="ttdeci">varnumber_T vv_prevcount</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03782">structs.h:3782</a></div></div>
<div class="ttc" id="evalvars_8c_html_a453c44ffc0dfd8cc80ac8b1f64dceb5f"><div class="ttname"><a href="evalvars_8c.html#a453c44ffc0dfd8cc80ac8b1f64dceb5f">ex_unletlock</a></div><div class="ttdeci">static void ex_unletlock(exarg_T *eap, char_u *argstart, int deep)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01387">evalvars.c:1387</a></div></div>
<div class="ttc" id="evalvars_8c_html_a80cc01c6bf7a127f0f4938cf4d3cb57d"><div class="ttname"><a href="evalvars_8c.html#a80cc01c6bf7a127f0f4938cf4d3cb57d">f_settabwinvar</a></div><div class="ttdeci">void f_settabwinvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03399">evalvars.c:3399</a></div></div>
<div class="ttc" id="evalvars_8c_html_ae3ee568fe2fa9a7aedcd28f085341c07"><div class="ttname"><a href="evalvars_8c.html#ae3ee568fe2fa9a7aedcd28f085341c07">e_letunexp</a></div><div class="ttdeci">static char * e_letunexp</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00018">evalvars.c:18</a></div></div>
<div class="ttc" id="structtypval___t_html_ad5403b6cf230c7f663901d46079b9ac3"><div class="ttname"><a href="structtypval___t.html#ad5403b6cf230c7f663901d46079b9ac3">typval_T::v_string</a></div><div class="ttdeci">char_u * v_string</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01342">structs.h:1342</a></div></div>
<div class="ttc" id="structlistitem___s_html_abb33a84716f24bdf8c15f1ab8ba7a9ca"><div class="ttname"><a href="structlistitem___s.html#abb33a84716f24bdf8c15f1ab8ba7a9ca">listitem_S::li_next</a></div><div class="ttdeci">listitem_T * li_next</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01370">structs.h:1370</a></div></div>
<div class="ttc" id="dosinst_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="dosinst_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> <a href="dosinst_8h_source.html#l00062">dosinst.h:62</a></div></div>
<div class="ttc" id="evalvars_8c_html_a04d223afaae99e04f4715e3974ef7021"><div class="ttname"><a href="evalvars_8c.html#a04d223afaae99e04f4715e3974ef7021">var_check_lock</a></div><div class="ttdeci">int var_check_lock(int lock, char_u *name, int use_gettext)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02833">evalvars.c:2833</a></div></div>
<div class="ttc" id="evalvars_8c_html_a813bc46f211401de57e99706eed2ac96"><div class="ttname"><a href="evalvars_8c.html#a813bc46f211401de57e99706eed2ac96">f_getbufvar</a></div><div class="ttdeci">void f_getbufvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03292">evalvars.c:3292</a></div></div>
<div class="ttc" id="globals_8h_html_a854ae0633fa2dd21e5184503d010cfdc"><div class="ttname"><a href="globals_8h.html#a854ae0633fa2dd21e5184503d010cfdc">sc_col</a></div><div class="ttdeci">EXTERN int sc_col</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00700">globals.h:700</a></div></div>
<div class="ttc" id="structlistvar___s_html"><div class="ttname"><a href="structlistvar___s.html">listvar_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01388">structs.h:1388</a></div></div>
<div class="ttc" id="evalvars_8c_html_a6f5cb3a2d192a2646d47a1d759400b88"><div class="ttname"><a href="evalvars_8c.html#a6f5cb3a2d192a2646d47a1d759400b88">var_exists</a></div><div class="ttdeci">int var_exists(char_u *var)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03045">evalvars.c:3045</a></div></div>
<div class="ttc" id="namespacedehqx_html_a2ab00240fd8da3ed787582237ff871fa"><div class="ttname"><a href="namespacedehqx.html#a2ab00240fd8da3ed787582237ff871fa">dehqx.outfile</a></div><div class="ttdeci">outfile</div><div class="ttdef"><b>Definition:</b> <a href="dehqx_8py_source.html#l00023">dehqx.py:23</a></div></div>
<div class="ttc" id="eval_8c_html_a3727d19f20cae99511bbcf9b97aad1d5"><div class="ttname"><a href="eval_8c.html#a3727d19f20cae99511bbcf9b97aad1d5">tv_get_number</a></div><div class="ttdeci">varnumber_T tv_get_number(typval_T *varp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05427">eval.c:5427</a></div></div>
<div class="ttc" id="vim_8h_html_a8501dcee1d36a6214e5c81ca2c047b3d"><div class="ttname"><a href="vim_8h.html#a8501dcee1d36a6214e5c81ca2c047b3d">VV_TYPE_JOB</a></div><div class="ttdeci">#define VV_TYPE_JOB</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01982">vim.h:1982</a></div></div>
<div class="ttc" id="structs_8h_html_abd160561e02e77bd1dcaeb134e57732e"><div class="ttname"><a href="structs_8h.html#abd160561e02e77bd1dcaeb134e57732e">DI_FLAGS_FIX</a></div><div class="ttdeci">#define DI_FLAGS_FIX</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01440">structs.h:1440</a></div></div>
<div class="ttc" id="hashtab_8c_html_adb2779e2b1f3393ac14de128717fb3d4"><div class="ttname"><a href="hashtab_8c.html#adb2779e2b1f3393ac14de128717fb3d4">hash_unlock</a></div><div class="ttdeci">void hash_unlock(hashtab_T *ht)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00307">hashtab.c:307</a></div></div>
<div class="ttc" id="charset_8c_html_ad81a749470a4c63eab4e9dea315f2819"><div class="ttname"><a href="charset_8c.html#ad81a749470a4c63eab4e9dea315f2819">getdigits</a></div><div class="ttdeci">long getdigits(char_u **pp)</div><div class="ttdef"><b>Definition:</b> <a href="charset_8c_source.html#l01733">charset.c:1733</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a2972867427c39b77c8e8a244be37c499">VAR_PARTIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01319">structs.h:1319</a></div></div>
<div class="ttc" id="vim_8h_html_a5f1ef744c34be69aec1531f1fe604a9b"><div class="ttname"><a href="vim_8h.html#a5f1ef744c34be69aec1531f1fe604a9b">STRNCMP</a></div><div class="ttdeci">#define STRNCMP(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01593">vim.h:1593</a></div></div>
<div class="ttc" id="window_8c_html_a01e96cd91da2e9552bb628b4df2416a7"><div class="ttname"><a href="window_8c.html#a01e96cd91da2e9552bb628b4df2416a7">find_tabpage</a></div><div class="ttdeci">tabpage_T * find_tabpage(int n)</div><div class="ttdef"><b>Definition:</b> <a href="window_8c_source.html#l03986">window.c:3986</a></div></div>
<div class="ttc" id="structexarg_html_a1e0e9e8167ec52ec6022d661c93c06e5"><div class="ttname"><a href="structexarg.html#a1e0e9e8167ec52ec6022d661c93c06e5">exarg::cookie</a></div><div class="ttdeci">void * cookie</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01842">ex_cmds.h:1842</a></div></div>
<div class="ttc" id="vim_8h_html_a88a5588993e66928b2b9e3bc77555a01"><div class="ttname"><a href="vim_8h.html#a88a5588993e66928b2b9e3bc77555a01">VV_FALSE</a></div><div class="ttdeci">#define VV_FALSE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01968">vim.h:1968</a></div></div>
<div class="ttc" id="evalvars_8c_html_a10da0be143c137ec3dc6ed0292b39ba6"><div class="ttname"><a href="evalvars_8c.html#a10da0be143c137ec3dc6ed0292b39ba6">var_redir_str</a></div><div class="ttdeci">void var_redir_str(char_u *value, int value_len)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03165">evalvars.c:3165</a></div></div>
<div class="ttc" id="evalvars_8c_html_a056315bc7d25e68c17fbcbba3c446729"><div class="ttname"><a href="evalvars_8c.html#a056315bc7d25e68c17fbcbba3c446729">redir_ga</a></div><div class="ttdeci">static garray_T redir_ga</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03078">evalvars.c:3078</a></div></div>
<div class="ttc" id="vim_8h_html_afa3314c7ed58fa325ea71539081d177c"><div class="ttname"><a href="vim_8h.html#afa3314c7ed58fa325ea71539081d177c">VAR_TYPE_BLOB</a></div><div class="ttdeci">#define VAR_TYPE_BLOB</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02012">vim.h:2012</a></div></div>
<div class="ttc" id="dict_8c_html_aabf2cdc48294b2576212f72230235c81"><div class="ttname"><a href="dict_8c.html#aabf2cdc48294b2576212f72230235c81">dict_unref</a></div><div class="ttdeci">void dict_unref(dict_T *d)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00160">dict.c:160</a></div></div>
<div class="ttc" id="eval_8c_html_a84729513d3885ed2b6e00b1008e0ca3e"><div class="ttname"><a href="eval_8c.html#a84729513d3885ed2b6e00b1008e0ca3e">num_modulus</a></div><div class="ttdeci">varnumber_T num_modulus(varnumber_T n1, varnumber_T n2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00097">eval.c:97</a></div></div>
<div class="ttc" id="structexpand_html_a9e1cd5d67a4beefbcb5c878466278b1a"><div class="ttname"><a href="structexpand.html#a9e1cd5d67a4beefbcb5c878466278b1a">expand::xp_pattern</a></div><div class="ttdeci">char_u * xp_pattern</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00558">structs.h:558</a></div></div>
<div class="ttc" id="structexarg_html"><div class="ttname"><a href="structexarg.html">exarg</a></div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01813">ex_cmds.h:1813</a></div></div>
<div class="ttc" id="userfunc_8c_html_a4605de2b8d45c4879bce0ebbaa5cc17b"><div class="ttname"><a href="userfunc_8c.html#a4605de2b8d45c4879bce0ebbaa5cc17b">find_hi_in_scoped_ht</a></div><div class="ttdeci">hashitem_T * find_hi_in_scoped_ht(char_u *name, hashtab_T **pht)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03678">userfunc.c:3678</a></div></div>
<div class="ttc" id="search_8c_html_ad4c8ad4036b8f20b186902eb1598ab61"><div class="ttname"><a href="search_8c.html#ad4c8ad4036b8f20b186902eb1598ab61">set_search_direction</a></div><div class="ttdeci">void set_search_direction(int cdir)</div><div class="ttdef"><b>Definition:</b> <a href="search_8c_source.html#l01119">search.c:1119</a></div></div>
<div class="ttc" id="eval_8c_html_ac06b57274a721210cd205e253073bfa9"><div class="ttname"><a href="eval_8c.html#ac06b57274a721210cd205e253073bfa9">tv_get_string</a></div><div class="ttdeci">char_u * tv_get_string(typval_T *varp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05548">eval.c:5548</a></div></div>
<div class="ttc" id="structcallback___t_html_a5029d0e7a347cb0810046bfce4b73adf"><div class="ttname"><a href="structcallback___t.html#a5029d0e7a347cb0810046bfce4b73adf">callback_T::cb_partial</a></div><div class="ttdeci">partial_T * cb_partial</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01302">structs.h:1302</a></div></div>
<div class="ttc" id="misc1_8c_html_a67f3d285bed7092c3bd82f8a7a8cff6d"><div class="ttname"><a href="misc1_8c.html#a67f3d285bed7092c3bd82f8a7a8cff6d">vim_setenv</a></div><div class="ttdeci">void vim_setenv(char_u *name, char_u *val)</div><div class="ttdef"><b>Definition:</b> <a href="misc1_8c_source.html#l02419">misc1.c:2419</a></div></div>
<div class="ttc" id="structs_8h_html_a8e5d775b7f5b651b50a6c8d375630ec1"><div class="ttname"><a href="structs_8h.html#a8e5d775b7f5b651b50a6c8d375630ec1">HT_INIT_SIZE</a></div><div class="ttdeci">#define HT_INIT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01231">structs.h:1231</a></div></div>
<div class="ttc" id="hashtab_8c_html_a82320ef8ee0783629a0cab3a74586b75"><div class="ttname"><a href="hashtab_8c.html#a82320ef8ee0783629a0cab3a74586b75">hash_clear</a></div><div class="ttdeci">void hash_clear(hashtab_T *ht)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00078">hashtab.c:78</a></div></div>
<div class="ttc" id="evalvars_8c_html_a91171633ae3c54324075e36b3c7845c1"><div class="ttname"><a href="evalvars_8c.html#a91171633ae3c54324075e36b3c7845c1">set_vim_var_type</a></div><div class="ttdeci">void set_vim_var_type(int idx, vartype_T type)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01915">evalvars.c:1915</a></div></div>
<div class="ttc" id="message_8c_html_a701ffeff793261a605a4090e7c085a2d"><div class="ttname"><a href="message_8c.html#a701ffeff793261a605a4090e7c085a2d">msg_start</a></div><div class="ttdeci">void msg_start(void)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l01303">message.c:1303</a></div></div>
<div class="ttc" id="misc2_8c_html_a0d962b27bea5772af8833d283ff78ae9"><div class="ttname"><a href="misc2_8c.html#a0d962b27bea5772af8833d283ff78ae9">ga_grow</a></div><div class="ttdeci">int ga_grow(garray_T *gap, int n)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l02050">misc2.c:2050</a></div></div>
<div class="ttc" id="vim_8h_html_af1b79fdada26860e9cff1faf06175e49"><div class="ttname"><a href="vim_8h.html#af1b79fdada26860e9cff1faf06175e49">VV_OPTION_TYPE</a></div><div class="ttdeci">#define VV_OPTION_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01966">vim.h:1966</a></div></div>
<div class="ttc" id="evalvars_8c_html_a0bf7e03dfacd9577fbd2767e95154dfe"><div class="ttname"><a href="evalvars_8c.html#a0bf7e03dfacd9577fbd2767e95154dfe">eval_patch</a></div><div class="ttdeci">void eval_patch(char_u *origfile, char_u *difffile, char_u *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00414">evalvars.c:414</a></div></div>
<div class="ttc" id="misc2_8c_html_a4b4777924352aae7456002f6d9438ffd"><div class="ttname"><a href="misc2_8c.html#a4b4777924352aae7456002f6d9438ffd">vim_free</a></div><div class="ttdeci">void vim_free(void *x)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l01795">misc2.c:1795</a></div></div>
<div class="ttc" id="structs_8h_html_a56766bb38bc2f9cacdfb6c9fac5daca1"><div class="ttname"><a href="structs_8h.html#a56766bb38bc2f9cacdfb6c9fac5daca1">VAR_DEF_SCOPE</a></div><div class="ttdeci">#define VAR_DEF_SCOPE</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01356">structs.h:1356</a></div></div>
<div class="ttc" id="evalvars_8c_html_a8f50c1590f81ffe343796e1505fe13e3"><div class="ttname"><a href="evalvars_8c.html#a8f50c1590f81ffe343796e1505fe13e3">v_exception</a></div><div class="ttdeci">char_u * v_exception(char_u *oldval)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02109">evalvars.c:2109</a></div></div>
<div class="ttc" id="vim_8h_html_addf5ec070e9499d36b7f2009ce736076"><div class="ttname"><a href="vim_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a></div><div class="ttdeci">#define UNUSED</div></div>
<div class="ttc" id="vim_8h_html_a2ecdf12bea0e44bfd58b27d2868e0291"><div class="ttname"><a href="vim_8h.html#a2ecdf12bea0e44bfd58b27d2868e0291">BAD_KEEP</a></div><div class="ttdeci">#define BAD_KEEP</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02421">vim.h:2421</a></div></div>
<div class="ttc" id="version_8h_html"><div class="ttname"><a href="version_8h.html">version.h</a></div></div>
<div class="ttc" id="ex__cmds_8h_html_a0c3a0b0c5323f8880858f0e5d844b9cf"><div class="ttname"><a href="ex__cmds_8h.html#a0c3a0b0c5323f8880858f0e5d844b9cf">FORCE_NOBIN</a></div><div class="ttdeci">#define FORCE_NOBIN</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01855">ex_cmds.h:1855</a></div></div>
<div class="ttc" id="misc2_8c_html_a871ddb65e41d8bed1c38754d59737a5b"><div class="ttname"><a href="misc2_8c.html#a871ddb65e41d8bed1c38754d59737a5b">vim_strnsave</a></div><div class="ttdeci">char_u * vim_strnsave(char_u *string, int len)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l01289">misc2.c:1289</a></div></div>
<div class="ttc" id="vim_8h_html_a26f2fb11a6806ce27b2b19468e6f388d"><div class="ttname"><a href="vim_8h.html#a26f2fb11a6806ce27b2b19468e6f388d">VV_PREVCOUNT</a></div><div class="ttdeci">#define VV_PREVCOUNT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01902">vim.h:1902</a></div></div>
<div class="ttc" id="autocmd_8c_html_ad59ebf9d5c930e1dca082dc4a0492a1d"><div class="ttname"><a href="autocmd_8c.html#ad59ebf9d5c930e1dca082dc4a0492a1d">aucmd_restbuf</a></div><div class="ttdeci">void aucmd_restbuf(aco_save_T *aco)</div><div class="ttdef"><b>Definition:</b> <a href="autocmd_8c_source.html#l01484">autocmd.c:1484</a></div></div>
<div class="ttc" id="structtypval___t_html_a6ae136251ffe2c006e55e7dc8b980bfb"><div class="ttname"><a href="structtypval___t.html#a6ae136251ffe2c006e55e7dc8b980bfb">typval_T::vval</a></div><div class="ttdeci">union typval_T::@41 vval</div></div>
<div class="ttc" id="evalvars_8c_html_aa5e98fb20c6c9dd3ec107d4ffeba3805"><div class="ttname"><a href="evalvars_8c.html#aa5e98fb20c6c9dd3ec107d4ffeba3805">check_vars</a></div><div class="ttdeci">void check_vars(char_u *name, int len)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02254">evalvars.c:2254</a></div></div>
<div class="ttc" id="vim_8h_html_a5ffa076da6ef82ba8ca5aa1dc35de913"><div class="ttname"><a href="vim_8h.html#a5ffa076da6ef82ba8ca5aa1dc35de913">VV_HLSEARCH</a></div><div class="ttdeci">#define VV_HLSEARCH</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01956">vim.h:1956</a></div></div>
<div class="ttc" id="vim_8h_html_a916ffefe1fc74532d08102cca55d8e34"><div class="ttname"><a href="vim_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a></div><div class="ttdeci">#define STRLEN(s)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01589">vim.h:1589</a></div></div>
<div class="ttc" id="evalfunc_8c_html_a62f368f5ce500049abc4dacbecaea0c5"><div class="ttname"><a href="evalfunc_8c.html#a62f368f5ce500049abc4dacbecaea0c5">tv_get_buf</a></div><div class="ttdeci">buf_T * tv_get_buf(typval_T *tv, int curtab_only)</div><div class="ttdef"><b>Definition:</b> <a href="evalfunc_8c_source.html#l01299">evalfunc.c:1299</a></div></div>
<div class="ttc" id="structlistvar___s_html_a4840249ee4557b01d326f6e188a594c5"><div class="ttname"><a href="structlistvar___s.html#a4840249ee4557b01d326f6e188a594c5">listvar_S::lv_lock</a></div><div class="ttdeci">char lv_lock</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01401">structs.h:1401</a></div></div>
<div class="ttc" id="evalvars_8c_html_acc96a00d36fb60496b146ab1f7fc1b1a"><div class="ttname"><a href="evalvars_8c.html#acc96a00d36fb60496b146ab1f7fc1b1a">list_glob_vars</a></div><div class="ttdeci">static void list_glob_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01006">evalvars.c:1006</a></div></div>
<div class="ttc" id="evalvars_8c_html_a3098fa5bf84eb08e74cc103c9dea05dc"><div class="ttname"><a href="evalvars_8c.html#a3098fa5bf84eb08e74cc103c9dea05dc">garbage_collect_vimvars</a></div><div class="ttdeci">int garbage_collect_vimvars(int copyID)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00309">evalvars.c:309</a></div></div>
<div class="ttc" id="structhashtable___s_html_a5102b561274edb12b4ac5c9b0df7dab1"><div class="ttname"><a href="structhashtable___s.html#a5102b561274edb12b4ac5c9b0df7dab1">hashtable_S::ht_used</a></div><div class="ttdeci">long_u ht_used</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01237">structs.h:1237</a></div></div>
<div class="ttc" id="macros_8h_html_ac56f1d8eb3176f30f192eabf7961e504"><div class="ttname"><a href="macros_8h.html#ac56f1d8eb3176f30f192eabf7961e504">DI2HIKEY</a></div><div class="ttdeci">#define DI2HIKEY(di)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00314">macros.h:314</a></div></div>
<div class="ttc" id="structtypval___t_html"><div class="ttname"><a href="structtypval___t.html">typval_T</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01332">structs.h:1332</a></div></div>
<div class="ttc" id="structtabpage___s_html"><div class="ttname"><a href="structtabpage___s.html">tabpage_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l02761">structs.h:2761</a></div></div>
<div class="ttc" id="dict_8c_html_a061c3dec1a69e916c6e716290cd5abb2"><div class="ttname"><a href="dict_8c.html#a061c3dec1a69e916c6e716290cd5abb2">rettv_dict_set</a></div><div class="ttdeci">void rettv_dict_set(typval_T *rettv, dict_T *d)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00093">dict.c:93</a></div></div>
<div class="ttc" id="vim_8h_html_afdeea7a3255a63ac111c0e4e280d01dd"><div class="ttname"><a href="vim_8h.html#afdeea7a3255a63ac111c0e4e280d01dd">GREG_EXPR_SRC</a></div><div class="ttdeci">#define GREG_EXPR_SRC</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02472">vim.h:2472</a></div></div>
<div class="ttc" id="vim_8h_html_a0fdb02273ef595446e21ff2c5117cb59"><div class="ttname"><a href="vim_8h.html#a0fdb02273ef595446e21ff2c5117cb59">VAR_TYPE_NUMBER</a></div><div class="ttdeci">#define VAR_TYPE_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02002">vim.h:2002</a></div></div>
<div class="ttc" id="evalvars_8c_html_a9205a879fa8398c884f9c155342c53ea"><div class="ttname"><a href="evalvars_8c.html#a9205a879fa8398c884f9c155342c53ea">save_vimvars</a></div><div class="ttdeci">void save_vimvars(vimvars_save_T *vvsave)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02018">evalvars.c:2018</a></div></div>
<div class="ttc" id="structdictitem16___s_html_ada3142e83d7704ec4458697507f52d22"><div class="ttname"><a href="structdictitem16___s.html#ada3142e83d7704ec4458697507f52d22">dictitem16_S::di_key</a></div><div class="ttdeci">char_u di_key[DICTITEM16_KEY_LEN+1]</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01434">structs.h:1434</a></div></div>
<div class="ttc" id="vim_8h_html_aaf7d40bb54c75bbad128f678c291be6f"><div class="ttname"><a href="vim_8h.html#aaf7d40bb54c75bbad128f678c291be6f">VV_TYPE_FUNC</a></div><div class="ttdeci">#define VV_TYPE_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01976">vim.h:1976</a></div></div>
<div class="ttc" id="structdictitem___s_html_acebf31bd5d7a085a335b677f675fc0d5"><div class="ttname"><a href="structdictitem___s.html#acebf31bd5d7a085a335b677f675fc0d5">dictitem_S::di_key</a></div><div class="ttdeci">char_u di_key[1]</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01421">structs.h:1421</a></div></div>
<div class="ttc" id="userfunc_8c_html_aa449e7ea2dcaae235308a92e53f91163"><div class="ttname"><a href="userfunc_8c.html#aa449e7ea2dcaae235308a92e53f91163">get_funccal_local_ht</a></div><div class="ttdeci">hashtab_T * get_funccal_local_ht()</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03606">userfunc.c:3606</a></div></div>
<div class="ttc" id="register_8c_html_ac5fc237b1fffc1cd55f9541344b0bb7a"><div class="ttname"><a href="register_8c.html#ac5fc237b1fffc1cd55f9541344b0bb7a">get_reg_contents</a></div><div class="ttdeci">char_u * get_reg_contents(int regname, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="register_8c_source.html#l02601">register.c:2601</a></div></div>
<div class="ttc" id="vim_8h_html_ab0f25a1f2c00626caa909c276251a73e"><div class="ttname"><a href="vim_8h.html#ab0f25a1f2c00626caa909c276251a73e">VV_OPTION_NEW</a></div><div class="ttdeci">#define VV_OPTION_NEW</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01961">vim.h:1961</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a529633994c146dc2659a3566abedf455"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a529633994c146dc2659a3566abedf455">VAR_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01325">structs.h:1325</a></div></div>
<div class="ttc" id="list_8c_html_a7fadefe0268388681421dc21ec981dd1"><div class="ttname"><a href="list_8c.html#a7fadefe0268388681421dc21ec981dd1">listitem_remove</a></div><div class="ttdeci">void listitem_remove(list_T *l, listitem_T *item)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00266">list.c:266</a></div></div>
<div class="ttc" id="structwindow___s_html"><div class="ttname"><a href="structwindow___s.html">window_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l02945">structs.h:2945</a></div></div>
<div class="ttc" id="evalvars_8c_html_aa581ed1351be295607503d7be05591a2"><div class="ttname"><a href="evalvars_8c.html#aa581ed1351be295607503d7be05591a2">do_unlet_var</a></div><div class="ttdeci">static int do_unlet_var(lval_T *lp, char_u *name_end, int forceit)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01456">evalvars.c:1456</a></div></div>
<div class="ttc" id="misc2_8c_html_a832d696dc1f87cd20be545934e5a172c"><div class="ttname"><a href="misc2_8c.html#a832d696dc1f87cd20be545934e5a172c">vim_strcat</a></div><div class="ttdeci">void vim_strcat(char_u *to, char_u *from, size_t tosize)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l01732">misc2.c:1732</a></div></div>
<div class="ttc" id="message_8c_html_a273e1e1a7e5b9b70db0a55edb73e303d"><div class="ttname"><a href="message_8c.html#a273e1e1a7e5b9b70db0a55edb73e303d">msg_outtrans</a></div><div class="ttdeci">int msg_outtrans(char_u *str)</div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l01423">message.c:1423</a></div></div>
<div class="ttc" id="list_8c_html_a4d0749ed3f6584f565edacd56089787c"><div class="ttname"><a href="list_8c.html#a4d0749ed3f6584f565edacd56089787c">rettv_list_set</a></div><div class="ttdeci">void rettv_list_set(typval_T *rettv, list_T *l)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00138">list.c:138</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a9db9f9506f3e8660f6bd25e9c48745f1">VAR_STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01317">structs.h:1317</a></div></div>
<div class="ttc" id="charset_8c_html_af985ed977d4d9940d6e927f8845ee5db"><div class="ttname"><a href="charset_8c.html#af985ed977d4d9940d6e927f8845ee5db">skiptowhite</a></div><div class="ttdeci">char_u * skiptowhite(char_u *p)</div><div class="ttdef"><b>Definition:</b> <a href="charset_8c_source.html#l01706">charset.c:1706</a></div></div>
<div class="ttc" id="eval_8c_html_a7a9051ae15161c509ed998c31ce0b499"><div class="ttname"><a href="eval_8c.html#a7a9051ae15161c509ed998c31ce0b499">get_lval</a></div><div class="ttdeci">char_u * get_lval(char_u *name, typval_T *rettv, lval_T *lp, int unlet, int skip, int flags, int fne_flags)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00622">eval.c:622</a></div></div>
<div class="ttc" id="evalvars_8c_html_ae24342456f2e2b4a742228a8fa4ee170"><div class="ttname"><a href="evalvars_8c.html#ae24342456f2e2b4a742228a8fa4ee170">unref_var_dict</a></div><div class="ttdeci">void unref_var_dict(dict_T *dict)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02489">evalvars.c:2489</a></div></div>
<div class="ttc" id="evalvars_8c_html_a3a722e53d811ac4f9d26960e37c3a807"><div class="ttname"><a href="evalvars_8c.html#a3a722e53d811ac4f9d26960e37c3a807">eval_diff</a></div><div class="ttdeci">void eval_diff(char_u *origfile, char_u *newfile, char_u *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00397">evalvars.c:397</a></div></div>
<div class="ttc" id="misc2_8c_html_afa822cc3cc70a9a0ee394863bcc0c941"><div class="ttname"><a href="misc2_8c.html#afa822cc3cc70a9a0ee394863bcc0c941">ga_clear</a></div><div class="ttdeci">void ga_clear(garray_T *gap)</div><div class="ttdef"><b>Definition:</b> <a href="misc2_8c_source.html#l02006">misc2.c:2006</a></div></div>
<div class="ttc" id="vim_8h_html_a2e15e501f4d7f74c33c2320362fa1537"><div class="ttname"><a href="vim_8h.html#a2e15e501f4d7f74c33c2320362fa1537">VV_ERRORS</a></div><div class="ttdeci">#define VV_ERRORS</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01967">vim.h:1967</a></div></div>
<div class="ttc" id="eval_8c_html_a837a318c4ccdf46cc76072859aa19f88"><div class="ttname"><a href="eval_8c.html#a837a318c4ccdf46cc76072859aa19f88">get_name_len</a></div><div class="ttdeci">int get_name_len(char_u **arg, char_u **alias, int evaluate, int verbose)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l04929">eval.c:4929</a></div></div>
<div class="ttc" id="hangulin_8c_html_a89606eca6b563ec68d2da2e84657736f"><div class="ttname"><a href="hangulin_8c.html#a89606eca6b563ec68d2da2e84657736f">l</a></div><div class="ttdeci">static int l</div><div class="ttdef"><b>Definition:</b> <a href="hangulin_8c_source.html#l00032">hangulin.c:32</a></div></div>
<div class="ttc" id="structlval___s_html_a99a40fd5f3ff747dd744a5f05b341b32"><div class="ttname"><a href="structlval___s.html#a99a40fd5f3ff747dd744a5f05b341b32">lval_S::ll_n1</a></div><div class="ttdeci">long ll_n1</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03758">structs.h:3758</a></div></div>
<div class="ttc" id="structscriptvar___t_html_af5f19006f0239ac7ee776ea9f12e113f"><div class="ttname"><a href="structscriptvar___t.html#af5f19006f0239ac7ee776ea9f12e113f">scriptvar_T::sv_dict</a></div><div class="ttdeci">dict_T sv_dict</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00172">evalvars.c:172</a></div></div>
<div class="ttc" id="vim_8h_html_adcb8810cbd64862ff947b40cff520fe9"><div class="ttname"><a href="vim_8h.html#adcb8810cbd64862ff947b40cff520fe9">VV_TYPE_NONE</a></div><div class="ttdeci">#define VV_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01981">vim.h:1981</a></div></div>
<div class="ttc" id="regexp__nfa_8c_html_aabe38c107fa81270920895f18c5aa6b5"><div class="ttname"><a href="regexp__nfa_8c.html#aabe38c107fa81270920895f18c5aa6b5">empty</a></div><div class="ttdeci">static Frag_T empty</div><div class="ttdef"><b>Definition:</b> <a href="regexp__nfa_8c_source.html#l02889">regexp_nfa.c:2889</a></div></div>
<div class="ttc" id="structdictvar___s_html_a7771eca9488a0fe6f2881c232d604788"><div class="ttname"><a href="structdictvar___s.html#a7771eca9488a0fe6f2881c232d604788">dictvar_S::dv_copyID</a></div><div class="ttdeci">int dv_copyID</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01452">structs.h:1452</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76aa25f96b33612e203167f219b79603545"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76aa25f96b33612e203167f219b79603545">VAR_FLOAT</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01322">structs.h:1322</a></div></div>
<div class="ttc" id="evalvars_8c_html_a65f03f5f57300a09f80c417cc9be6db8"><div class="ttname"><a href="evalvars_8c.html#a65f03f5f57300a09f80c417cc9be6db8">get_vim_var_nr</a></div><div class="ttdeci">varnumber_T get_vim_var_nr(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01943">evalvars.c:1943</a></div></div>
<div class="ttc" id="structlistitem___s_html_a65661823089984c3ee9b5e089d549140"><div class="ttname"><a href="structlistitem___s.html#a65661823089984c3ee9b5e089d549140">listitem_S::li_tv</a></div><div class="ttdeci">typval_T li_tv</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01372">structs.h:1372</a></div></div>
<div class="ttc" id="vim_8h_html_a0bb9de9cf754abc84120e768ee7f2a2e"><div class="ttname"><a href="vim_8h.html#a0bb9de9cf754abc84120e768ee7f2a2e">VV_VERSION</a></div><div class="ttdeci">#define VV_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01908">vim.h:1908</a></div></div>
<div class="ttc" id="evalvars_8c_html_af0af0bdfbcb62bdb2a3c359f060bf0b1"><div class="ttname"><a href="evalvars_8c.html#af0af0bdfbcb62bdb2a3c359f060bf0b1">set_callback</a></div><div class="ttdeci">void set_callback(callback_T *dest, callback_T *src)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03535">evalvars.c:3535</a></div></div>
<div class="ttc" id="vim_8h_html_a70965edafe8b5b7afb7c9b4ed639c6bc"><div class="ttname"><a href="vim_8h.html#a70965edafe8b5b7afb7c9b4ed639c6bc">VV_VERSIONLONG</a></div><div class="ttdeci">#define VV_VERSIONLONG</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01991">vim.h:1991</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1e1306edf546fd7d26149a32c854ea56"><div class="ttname"><a href="evalvars_8c.html#a1e1306edf546fd7d26149a32c854ea56">list_vim_vars</a></div><div class="ttdeci">static void list_vim_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00529">evalvars.c:529</a></div></div>
<div class="ttc" id="structs_8h_html_a1cec23a00344e815cd4004724d91ae8d"><div class="ttname"><a href="structs_8h.html#a1cec23a00344e815cd4004724d91ae8d">VAR_FIXED</a></div><div class="ttdeci">#define VAR_FIXED</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01361">structs.h:1361</a></div></div>
<div class="ttc" id="userfunc_8c_html_ac1dd2cd41008443b77ee7f596076d728"><div class="ttname"><a href="userfunc_8c.html#ac1dd2cd41008443b77ee7f596076d728">find_var_in_scoped_ht</a></div><div class="ttdeci">dictitem_T * find_var_in_scoped_ht(char_u *name, int no_autoload)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03715">userfunc.c:3715</a></div></div>
<div class="ttc" id="globals_8h_html_a1440aee39ae90077fff5aeb23c8a3764"><div class="ttname"><a href="globals_8h.html#a1440aee39ae90077fff5aeb23c8a3764">curwin</a></div><div class="ttdeci">EXTERN win_T * curwin</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00640">globals.h:640</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1bcbbc7877249db6ec438873023df3b0"><div class="ttname"><a href="evalvars_8c.html#a1bcbbc7877249db6ec438873023df3b0">find_var</a></div><div class="ttdeci">dictitem_T * find_var(char_u *name, hashtab_T **htp, int no_autoload)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02285">evalvars.c:2285</a></div></div>
<div class="ttc" id="eval_8c_html_a9c5ea4974b21ea558de23ee7c5f92672"><div class="ttname"><a href="eval_8c.html#a9c5ea4974b21ea558de23ee7c5f92672">init_tv</a></div><div class="ttdeci">void init_tv(typval_T *varp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05412">eval.c:5412</a></div></div>
<div class="ttc" id="charset_8c_html_a35845ed87dc61ea86eb2e2f2f2f477f3"><div class="ttname"><a href="charset_8c.html#a35845ed87dc61ea86eb2e2f2f2f477f3">vim_isdigit</a></div><div class="ttdeci">int vim_isdigit(int c)</div><div class="ttdef"><b>Definition:</b> <a href="charset_8c_source.html#l01561">charset.c:1561</a></div></div>
<div class="ttc" id="drawscreen_8c_html_a6cfdbac5c3017ed3f6f8c70035ea3e5d"><div class="ttname"><a href="drawscreen_8c.html#a6cfdbac5c3017ed3f6f8c70035ea3e5d">redraw_all_later</a></div><div class="ttdeci">void redraw_all_later(int type)</div><div class="ttdef"><b>Definition:</b> <a href="drawscreen_8c_source.html#l02955">drawscreen.c:2955</a></div></div>
<div class="ttc" id="vim_8h_html_a9948cfaa115432a4d4c42703efe29e08"><div class="ttname"><a href="vim_8h.html#a9948cfaa115432a4d4c42703efe29e08">VV_TYPE_BLOB</a></div><div class="ttdeci">#define VV_TYPE_BLOB</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01984">vim.h:1984</a></div></div>
<div class="ttc" id="structs_8h_html_acb8f1360394c6d119bbee47ece62d2d1"><div class="ttname"><a href="structs_8h.html#acb8f1360394c6d119bbee47ece62d2d1">DI_FLAGS_ALLOC</a></div><div class="ttdeci">#define DI_FLAGS_ALLOC</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01442">structs.h:1442</a></div></div>
<div class="ttc" id="evalvars_8c_html_ac9ef8cc85137b9b427134a9cf123ec9b"><div class="ttname"><a href="evalvars_8c.html#ac9ef8cc85137b9b427134a9cf123ec9b">list_tab_vars</a></div><div class="ttdeci">static void list_tab_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01033">evalvars.c:1033</a></div></div>
<div class="ttc" id="evalvars_8c_html_a53176055cff2cdad2c6584a2ecc3c717"><div class="ttname"><a href="evalvars_8c.html#a53176055cff2cdad2c6584a2ecc3c717">list_arg_vars</a></div><div class="ttdeci">static char_u * list_arg_vars(exarg_T *eap, char_u *arg, int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01042">evalvars.c:1042</a></div></div>
<div class="ttc" id="dosinst_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="dosinst_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="dosinst_8h_source.html#l00068">dosinst.h:68</a></div></div>
<div class="ttc" id="structs_8h_html_a84da1cb7b5fbef50a23b3c98f81ca1bf"><div class="ttname"><a href="structs_8h.html#a84da1cb7b5fbef50a23b3c98f81ca1bf">DI_FLAGS_LOCK</a></div><div class="ttdeci">#define DI_FLAGS_LOCK</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01441">structs.h:1441</a></div></div>
<div class="ttc" id="userfunc_8c_html_a0372f2b122352f541c1041bcfd9bb201"><div class="ttname"><a href="userfunc_8c.html#a0372f2b122352f541c1041bcfd9bb201">get_funccal_args_var</a></div><div class="ttdeci">dictitem_T * get_funccal_args_var()</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03642">userfunc.c:3642</a></div></div>
<div class="ttc" id="userfunc_8c_html_a1606e2daa2efa3341dd61e2387525623"><div class="ttname"><a href="userfunc_8c.html#a1606e2daa2efa3341dd61e2387525623">get_funccal_args_ht</a></div><div class="ttdeci">hashtab_T * get_funccal_args_ht()</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03630">userfunc.c:3630</a></div></div>
<div class="ttc" id="structtypval___t_html_a3e158fa0e1ba87a1a739a476845dc6fc"><div class="ttname"><a href="structtypval___t.html#a3e158fa0e1ba87a1a739a476845dc6fc">typval_T::v_dict</a></div><div class="ttdeci">dict_T * v_dict</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01344">structs.h:1344</a></div></div>
<div class="ttc" id="register_8c_html_a3e17a398f7b2c7b927a0534ab2a3e116"><div class="ttname"><a href="register_8c.html#a3e17a398f7b2c7b927a0534ab2a3e116">write_reg_contents</a></div><div class="ttdeci">void write_reg_contents(int name, char_u *str, int maxlen, int must_append)</div><div class="ttdef"><b>Definition:</b> <a href="register_8c_source.html#l02744">register.c:2744</a></div></div>
<div class="ttc" id="evalvars_8c_html_af1f6fd77ef93cf454cce395766736d37"><div class="ttname"><a href="evalvars_8c.html#af1f6fd77ef93cf454cce395766736d37">setwinvar</a></div><div class="ttdeci">static void setwinvar(typval_T *argvars, typval_T *rettv UNUSED, int off)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02958">evalvars.c:2958</a></div></div>
<div class="ttc" id="structhashitem___s_html"><div class="ttname"><a href="structhashitem___s.html">hashitem_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01217">structs.h:1217</a></div></div>
<div class="ttc" id="structhashtable___s_html_aed3e87be1a6328050b7d9bfe41b630b9"><div class="ttname"><a href="structhashtable___s.html#aed3e87be1a6328050b7d9bfe41b630b9">hashtable_S::ht_mask</a></div><div class="ttdeci">long_u ht_mask</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01235">structs.h:1235</a></div></div>
<div class="ttc" id="vim_8h_html_ada443375305fc60b73f44a59a2bf3f3b"><div class="ttname"><a href="vim_8h.html#ada443375305fc60b73f44a59a2bf3f3b">STRCAT</a></div><div class="ttdeci">#define STRCAT(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01626">vim.h:1626</a></div></div>
<div class="ttc" id="evalvars_8c_html_aa10dd0a09a291715fabfee80b7913563"><div class="ttname"><a href="evalvars_8c.html#aa10dd0a09a291715fabfee80b7913563">set_vim_var_char</a></div><div class="ttdeci">void set_vim_var_char(int c)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01983">evalvars.c:1983</a></div></div>
<div class="ttc" id="structexarg_html_a773bcdda1e8cbf9c8f408b770e6a3117"><div class="ttname"><a href="structexarg.html#a773bcdda1e8cbf9c8f408b770e6a3117">exarg::skip</a></div><div class="ttdeci">int skip</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01821">ex_cmds.h:1821</a></div></div>
<div class="ttc" id="userfunc_8c_html_a8da10731f247a89d3fba1f25349bf997"><div class="ttname"><a href="userfunc_8c.html#a8da10731f247a89d3fba1f25349bf997">function_exists</a></div><div class="ttdeci">int function_exists(char_u *name, int no_deref)</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l02761">userfunc.c:2761</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a5f8138ccb88702b5e64980f534312182">VAR_FUNC</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01318">structs.h:1318</a></div></div>
<div class="ttc" id="evalvars_8c_html_aa77ebc97b612830f3fd8036652158f42"><div class="ttname"><a href="evalvars_8c.html#aa77ebc97b612830f3fd8036652158f42">vv_type</a></div><div class="ttdeci">#define vv_type</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00149">evalvars.c:149</a></div></div>
<div class="ttc" id="structtypval___t_html_a357def79f46d08d1e0631fe1df3ede02"><div class="ttname"><a href="structtypval___t.html#a357def79f46d08d1e0631fe1df3ede02">typval_T::v_partial</a></div><div class="ttdeci">partial_T * v_partial</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01345">structs.h:1345</a></div></div>
<div class="ttc" id="eval_8c_html_a9ae2372d20627658ee38414871dcf28c"><div class="ttname"><a href="eval_8c.html#a9ae2372d20627658ee38414871dcf28c">eval1</a></div><div class="ttdeci">int eval1(char_u **arg, typval_T *rettv, int evaluate)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l01780">eval.c:1780</a></div></div>
<div class="ttc" id="structexarg_html_ad2d41d9a2ef521008f4b4e800a1e42ef"><div class="ttname"><a href="structexarg.html#ad2d41d9a2ef521008f4b4e800a1e42ef">exarg::force_ff</a></div><div class="ttdeci">int force_ff</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01836">ex_cmds.h:1836</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad13108166b436af4c7b9c3ca36e244d7"><div class="ttname"><a href="evalvars_8c.html#ad13108166b436af4c7b9c3ca36e244d7">ex_unlet</a></div><div class="ttdeci">void ex_unlet(exarg_T *eap)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01358">evalvars.c:1358</a></div></div>
<div class="ttc" id="structvimvars__save___t_html"><div class="ttname"><a href="structvimvars__save___t.html">vimvars_save_T</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03781">structs.h:3781</a></div></div>
<div class="ttc" id="eval_8c_html_afe90fb5791694f52bbf8cd774a7632f7"><div class="ttname"><a href="eval_8c.html#afe90fb5791694f52bbf8cd774a7632f7">tv_get_number_chk</a></div><div class="ttdeci">varnumber_T tv_get_number_chk(typval_T *varp, int *denote)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05435">eval.c:5435</a></div></div>
<div class="ttc" id="vim_8h_html_ab2027c9bd737d71f52fcd2e9317acd3e"><div class="ttname"><a href="vim_8h.html#ab2027c9bd737d71f52fcd2e9317acd3e">BAD_DROP</a></div><div class="ttdeci">#define BAD_DROP</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02422">vim.h:2422</a></div></div>
<div class="ttc" id="vim_8h_html_af0d84616173bb5946784c0a50b4b01b3"><div class="ttname"><a href="vim_8h.html#af0d84616173bb5946784c0a50b4b01b3">OPT_LOCAL</a></div><div class="ttdeci">#define OPT_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01216">vim.h:1216</a></div></div>
<div class="ttc" id="vim_8h_html_aa9cea5fcb1483307770f365fb24aa08d"><div class="ttname"><a href="vim_8h.html#aa9cea5fcb1483307770f365fb24aa08d">STRCPY</a></div><div class="ttdeci">#define STRCPY(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01590">vim.h:1590</a></div></div>
<div class="ttc" id="dict_8c_html_a5ea75cca56131af037d8312270593061"><div class="ttname"><a href="dict_8c.html#a5ea75cca56131af037d8312270593061">dict_set_items_ro</a></div><div class="ttdeci">void dict_set_items_ro(dict_T *di)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l01077">dict.c:1077</a></div></div>
<div class="ttc" id="vim_8h_html_a9eb1b3dfbafc685c0e29fc04667a0679"><div class="ttname"><a href="vim_8h.html#a9eb1b3dfbafc685c0e29fc04667a0679">VV_COMPLETED_ITEM</a></div><div class="ttdeci">#define VV_COMPLETED_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01960">vim.h:1960</a></div></div>
<div class="ttc" id="eval_8c_html_a5a982e1fc757c567c65c94986454312f"><div class="ttname"><a href="eval_8c.html#a5a982e1fc757c567c65c94986454312f">eval_to_bool</a></div><div class="ttdeci">int eval_to_bool(char_u *arg, int *error, char_u **nextcmd, int skip)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00173">eval.c:173</a></div></div>
<div class="ttc" id="window_8c_html_a5c15e6d6d3a78a7bd2e2851b2d6eefdf"><div class="ttname"><a href="window_8c.html#a5c15e6d6d3a78a7bd2e2851b2d6eefdf">valid_tabpage</a></div><div class="ttdeci">int valid_tabpage(tabpage_T *tpc)</div><div class="ttdef"><b>Definition:</b> <a href="window_8c_source.html#l03919">window.c:3919</a></div></div>
<div class="ttc" id="eval_8c_html_a946206e7cf3edee0af50aef3404096bc"><div class="ttname"><a href="eval_8c.html#a946206e7cf3edee0af50aef3404096bc">clear_lval</a></div><div class="ttdeci">void clear_lval(lval_T *lp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l01013">eval.c:1013</a></div></div>
<div class="ttc" id="evalvars_8c_html_a58275fc5ea908996ec5598f27ff77389"><div class="ttname"><a href="evalvars_8c.html#a58275fc5ea908996ec5598f27ff77389">evalvars_init</a></div><div class="ttdeci">void evalvars_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00199">evalvars.c:199</a></div></div>
<div class="ttc" id="structaco__save___t_html"><div class="ttname"><a href="structaco__save___t.html">aco_save_T</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03532">structs.h:3532</a></div></div>
<div class="ttc" id="macros_8h_html_a74420d7769a3c31521652566a1cdb094"><div class="ttname"><a href="macros_8h.html#a74420d7769a3c31521652566a1cdb094">VIM_CLEAR</a></div><div class="ttdeci">#define VIM_CLEAR(p)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00332">macros.h:332</a></div></div>
<div class="ttc" id="vim_8h_html_abbec2969b70153231345dde65a96a7fb"><div class="ttname"><a href="vim_8h.html#abbec2969b70153231345dde65a96a7fb">MB_MAXBYTES</a></div><div class="ttdeci">#define MB_MAXBYTES</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01770">vim.h:1770</a></div></div>
<div class="ttc" id="evalvars_8c_html_a076d5948045227fc05243c19886b253e"><div class="ttname"><a href="evalvars_8c.html#a076d5948045227fc05243c19886b253e">ex_let_vars</a></div><div class="ttdeci">int ex_let_vars(char_u *arg_start, typval_T *tv, int copy, int semicolon, int var_count, int is_const, char_u *op)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00810">evalvars.c:810</a></div></div>
<div class="ttc" id="structlval___s_html_a4e27b3e46d0c1554fe480f3d1983ea8f"><div class="ttname"><a href="structlval___s.html#a4e27b3e46d0c1554fe480f3d1983ea8f">lval_S::ll_range</a></div><div class="ttdeci">int ll_range</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03757">structs.h:3757</a></div></div>
<div class="ttc" id="hashtab_8c_html_af1235e0f7163089ec19df22a8af6d996"><div class="ttname"><a href="hashtab_8c.html#af1235e0f7163089ec19df22a8af6d996">hash_add</a></div><div class="ttdeci">int hash_add(hashtab_T *ht, char_u *key)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00207">hashtab.c:207</a></div></div>
<div class="ttc" id="evalvars_8c_html_a11e2b4cf387aecfa12ba34f9392b675a"><div class="ttname"><a href="evalvars_8c.html#a11e2b4cf387aecfa12ba34f9392b675a">reset_v_option_vars</a></div><div class="ttdeci">void reset_v_option_vars(void)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03020">evalvars.c:3020</a></div></div>
<div class="ttc" id="evalvars_8c_html_ab539ccb42a9c7e3b8f8e172df1faf59a"><div class="ttname"><a href="evalvars_8c.html#ab539ccb42a9c7e3b8f8e172df1faf59a">ex_let</a></div><div class="ttdeci">void ex_let(exarg_T *eap)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00686">evalvars.c:686</a></div></div>
<div class="ttc" id="vim_8h_html_a9e9af59c59f96e0c21d51ef6c3f39fbf"><div class="ttname"><a href="vim_8h.html#a9e9af59c59f96e0c21d51ef6c3f39fbf">VV_FNAME_NEW</a></div><div class="ttdeci">#define VV_FNAME_NEW</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01919">vim.h:1919</a></div></div>
<div class="ttc" id="eval_8c_html_a32b092e44410620f5d786af45b3f91b4"><div class="ttname"><a href="eval_8c.html#a32b092e44410620f5d786af45b3f91b4">alloc_string_tv</a></div><div class="ttdeci">typval_T * alloc_string_tv(char_u *s)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05286">eval.c:5286</a></div></div>
<div class="ttc" id="structexarg_html_af98a7c612e1bb0f4c355d5fa13caf9ec"><div class="ttname"><a href="structexarg.html#af98a7c612e1bb0f4c355d5fa13caf9ec">exarg::nextcmd</a></div><div class="ttdeci">char_u * nextcmd</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01816">ex_cmds.h:1816</a></div></div>
<div class="ttc" id="evalwindow_8c_html_a7bd8e7a772dda3409a98dfa10a0ee795"><div class="ttname"><a href="evalwindow_8c.html#a7bd8e7a772dda3409a98dfa10a0ee795">switch_win</a></div><div class="ttdeci">int switch_win(win_T **save_curwin, tabpage_T **save_curtab, win_T *win, tabpage_T *tp, int no_display)</div><div class="ttdef"><b>Definition:</b> <a href="evalwindow_8c_source.html#l01048">evalwindow.c:1048</a></div></div>
<div class="ttc" id="structexarg_html_af020ebe893532e08dae5d69d9de52d40"><div class="ttname"><a href="structexarg.html#af020ebe893532e08dae5d69d9de52d40">exarg::cmd</a></div><div class="ttdeci">char_u * cmd</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01817">ex_cmds.h:1817</a></div></div>
<div class="ttc" id="evalvars_8c_html_a1aa6ece23d7728dca0ba2d36bfc461bc"><div class="ttname"><a href="evalvars_8c.html#a1aa6ece23d7728dca0ba2d36bfc461bc">list_win_vars</a></div><div class="ttdeci">static void list_win_vars(int *first)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01024">evalvars.c:1024</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a985698eebe92f420b1d38a29c3534ae4"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a985698eebe92f420b1d38a29c3534ae4">VAR_BLOB</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01326">structs.h:1326</a></div></div>
<div class="ttc" id="structdictvar___s_html_ac1c5e48445ca324f60b4145c8c8cfc21"><div class="ttname"><a href="structdictvar___s.html#ac1c5e48445ca324f60b4145c8c8cfc21">dictvar_S::dv_lock</a></div><div class="ttdeci">char dv_lock</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01449">structs.h:1449</a></div></div>
<div class="ttc" id="vim_8h_html_a6ef4d2aca28604896cc90c3bef4f0770"><div class="ttname"><a href="vim_8h.html#a6ef4d2aca28604896cc90c3bef4f0770">AUTOLOAD_CHAR</a></div><div class="ttdeci">#define AUTOLOAD_CHAR</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l02476">vim.h:2476</a></div></div>
<div class="ttc" id="structhashtable___s_html_a7cfd4386f392f78cfca0fec4e1188156"><div class="ttname"><a href="structhashtable___s.html#a7cfd4386f392f78cfca0fec4e1188156">hashtable_S::ht_array</a></div><div class="ttdeci">hashitem_T * ht_array</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01242">structs.h:1242</a></div></div>
<div class="ttc" id="structtypval___t_html_a4a097c53f448d2cf81e15a6729228ae3"><div class="ttname"><a href="structtypval___t.html#a4a097c53f448d2cf81e15a6729228ae3">typval_T::v_type</a></div><div class="ttdeci">vartype_T v_type</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01334">structs.h:1334</a></div></div>
<div class="ttc" id="vim_8h_html_af936994a447c4f02947258f240854a92"><div class="ttname"><a href="vim_8h.html#af936994a447c4f02947258f240854a92">VV_TYPE_STRING</a></div><div class="ttdeci">#define VV_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01975">vim.h:1975</a></div></div>
<div class="ttc" id="structs_8h_html_a6daf8b4e03c36362fcadf86a894e0528"><div class="ttname"><a href="structs_8h.html#a6daf8b4e03c36362fcadf86a894e0528">HASHITEM_EMPTY</a></div><div class="ttdeci">#define HASHITEM_EMPTY(hi)</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01226">structs.h:1226</a></div></div>
<div class="ttc" id="structexpand_html"><div class="ttname"><a href="structexpand.html">expand</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00555">structs.h:555</a></div></div>
<div class="ttc" id="evalvars_8c_html_a28cd67150437fe84826c84a61da5e743"><div class="ttname"><a href="evalvars_8c.html#a28cd67150437fe84826c84a61da5e743">ex_let_const</a></div><div class="ttdeci">static void ex_let_const(exarg_T *eap, int is_const)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l00704">evalvars.c:704</a></div></div>
<div class="ttc" id="globals_8h_html_aec8a130381d8276a622222a7479a08fe"><div class="ttname"><a href="globals_8h.html#aec8a130381d8276a622222a7479a08fe">curtab</a></div><div class="ttdeci">EXTERN tabpage_T * curtab</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00666">globals.h:666</a></div></div>
<div class="ttc" id="evalvars_8c_html_ace0eb30d3f2c3662f9774279f27df8a3"><div class="ttname"><a href="evalvars_8c.html#ace0eb30d3f2c3662f9774279f27df8a3">var_check_func_name</a></div><div class="ttdeci">int var_check_func_name(char_u *name, int new_var)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02802">evalvars.c:2802</a></div></div>
<div class="ttc" id="list_8c_html_aa2b8cfbb785470492deb11829ccb92bd"><div class="ttname"><a href="list_8c.html#aa2b8cfbb785470492deb11829ccb92bd">list_append_tv</a></div><div class="ttdeci">int list_append_tv(list_T *l, typval_T *tv)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00476">list.c:476</a></div></div>
<div class="ttc" id="structgrowarray_html_ad98cc748707bb96fbb28f26bb44d3d65"><div class="ttname"><a href="structgrowarray.html#ad98cc748707bb96fbb28f26bb44d3d65">growarray::ga_len</a></div><div class="ttdeci">int ga_len</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00050">structs.h:50</a></div></div>
<div class="ttc" id="vim_8h_html_a6c7cf32b49a274bed62b459cf1cb7442"><div class="ttname"><a href="vim_8h.html#a6c7cf32b49a274bed62b459cf1cb7442">VV_COUNT</a></div><div class="ttdeci">#define VV_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01900">vim.h:1900</a></div></div>
<div class="ttc" id="structtypval___t_html_aa8615bd53291928fc5adceff07d5e5bc"><div class="ttname"><a href="structtypval___t.html#aa8615bd53291928fc5adceff07d5e5bc">typval_T::v_number</a></div><div class="ttdeci">varnumber_T v_number</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01338">structs.h:1338</a></div></div>
<div class="ttc" id="evalwindow_8c_html_a6b3d73e8884f3627bf2d169107c15a4c"><div class="ttname"><a href="evalwindow_8c.html#a6b3d73e8884f3627bf2d169107c15a4c">find_win_by_nr</a></div><div class="ttdeci">win_T * find_win_by_nr(typval_T *vp, tabpage_T *tp)</div><div class="ttdef"><b>Definition:</b> <a href="evalwindow_8c_source.html#l00160">evalwindow.c:160</a></div></div>
<div class="ttc" id="hashtab_8c_html_a6acdcb55113dfca42811b53109f8b3ba"><div class="ttname"><a href="hashtab_8c.html#a6acdcb55113dfca42811b53109f8b3ba">hash_remove</a></div><div class="ttdeci">void hash_remove(hashtab_T *ht, hashitem_T *hi)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00271">hashtab.c:271</a></div></div>
<div class="ttc" id="eval_8c_html_ad5133e6c1c01f809723966c5ebb2d7c5"><div class="ttname"><a href="eval_8c.html#ad5133e6c1c01f809723966c5ebb2d7c5">get_option_tv</a></div><div class="ttdeci">int get_option_tv(char_u **arg, typval_T *rettv, int evaluate)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l03343">eval.c:3343</a></div></div>
<div class="ttc" id="vim_8h_html_af20b8d139279b360b0fdeae71f8f43bc"><div class="ttname"><a href="vim_8h.html#af20b8d139279b360b0fdeae71f8f43bc">_</a></div><div class="ttdeci">#define _(x)</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l00560">vim.h:560</a></div></div>
<div class="ttc" id="evalvars_8c_html_a3da485826737f64b955eaec41d8d4ad7"><div class="ttname"><a href="evalvars_8c.html#a3da485826737f64b955eaec41d8d4ad7">do_unlet</a></div><div class="ttdeci">int do_unlet(char_u *name, int forceit)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01521">evalvars.c:1521</a></div></div>
<div class="ttc" id="evalvars_8c_html_ae23b4fe338c8168553b57f1199414cfa"><div class="ttname"><a href="evalvars_8c.html#ae23b4fe338c8168553b57f1199414cfa">var_check_fixed</a></div><div class="ttdeci">int var_check_fixed(int flags, char_u *name, int use_gettext)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02786">evalvars.c:2786</a></div></div>
<div class="ttc" id="structdictvar___s_html_aeb109fe6e492c0b791bc0ce3a99ce456"><div class="ttname"><a href="structdictvar___s.html#aeb109fe6e492c0b791bc0ce3a99ce456">dictvar_S::dv_refcount</a></div><div class="ttdeci">int dv_refcount</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01451">structs.h:1451</a></div></div>
<div class="ttc" id="hashtab_8c_html_a1e75fcb634cc34f2a968e47d1b37381a"><div class="ttname"><a href="hashtab_8c.html#a1e75fcb634cc34f2a968e47d1b37381a">hash_init</a></div><div class="ttdeci">void hash_init(hashtab_T *ht)</div><div class="ttdef"><b>Definition:</b> <a href="hashtab_8c_source.html#l00065">hashtab.c:65</a></div></div>
<div class="ttc" id="structvimvars__save___t_html_aadee3112de0fff7a75638229d02e2365"><div class="ttname"><a href="structvimvars__save___t.html#aadee3112de0fff7a75638229d02e2365">vimvars_save_T::vv_count</a></div><div class="ttdeci">varnumber_T vv_count</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03783">structs.h:3783</a></div></div>
<div class="ttc" id="evalvars_8c_html_a5c7a8c84b65dc8166f8bb9c1db583d54"><div class="ttname"><a href="evalvars_8c.html#a5c7a8c84b65dc8166f8bb9c1db583d54">get_vim_var_str</a></div><div class="ttdeci">char_u * get_vim_var_str(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01954">evalvars.c:1954</a></div></div>
<div class="ttc" id="vim_8h_html_a1500bf49a1c3e46c2632396cc8a4b2d6"><div class="ttname"><a href="vim_8h.html#a1500bf49a1c3e46c2632396cc8a4b2d6">VV_TYPE_LIST</a></div><div class="ttdeci">#define VV_TYPE_LIST</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01977">vim.h:1977</a></div></div>
<div class="ttc" id="ex__eval_8c_html_a131392e1733efbee3a9af3d333fe0b42"><div class="ttname"><a href="ex__eval_8c.html#a131392e1733efbee3a9af3d333fe0b42">aborting</a></div><div class="ttdeci">int aborting(void)</div><div class="ttdef"><b>Definition:</b> <a href="ex__eval_8c_source.html#l00090">ex_eval.c:90</a></div></div>
<div class="ttc" id="evalvars_8c_html_a5cd3033e16ace4084e7bac48b5167eec"><div class="ttname"><a href="evalvars_8c.html#a5cd3033e16ace4084e7bac48b5167eec">item_lock</a></div><div class="ttdeci">static void item_lock(typval_T *tv, int deep, int lock)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01641">evalvars.c:1641</a></div></div>
<div class="ttc" id="eval_8c_html_a7157304180ff3b14de007739a3709763"><div class="ttname"><a href="eval_8c.html#a7157304180ff3b14de007739a3709763">partial_name</a></div><div class="ttdeci">char_u * partial_name(partial_T *pt)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l03620">eval.c:3620</a></div></div>
<div class="ttc" id="eval_8c_html_a6544a326ecd299896dae352a5ce0e0fb"><div class="ttname"><a href="eval_8c.html#a6544a326ecd299896dae352a5ce0e0fb">num_divide</a></div><div class="ttdeci">varnumber_T num_divide(varnumber_T n1, varnumber_T n2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00074">eval.c:74</a></div></div>
<div class="ttc" id="structs_8h_html_a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da"><div class="ttname"><a href="structs_8h.html#a2b5ff4af1dac681258949e5a522dca76a17c53c2e9774921f7390f91e2946c4da">VAR_SPECIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01323">structs.h:1323</a></div></div>
<div class="ttc" id="option_8h_html_abb5561ad122dac5df6b719a1243b3445"><div class="ttname"><a href="option_8h.html#abb5561ad122dac5df6b719a1243b3445">p_verbose</a></div><div class="ttdeci">EXTERN long p_verbose</div><div class="ttdef"><b>Definition:</b> <a href="option_8h_source.html#l01022">option.h:1022</a></div></div>
<div class="ttc" id="userfunc_8c_html_a905502f977c2e23ff357c0da6007dc0e"><div class="ttname"><a href="userfunc_8c.html#a905502f977c2e23ff357c0da6007dc0e">get_funccal_local_var</a></div><div class="ttdeci">dictitem_T * get_funccal_local_var()</div><div class="ttdef"><b>Definition:</b> <a href="userfunc_8c_source.html#l03618">userfunc.c:3618</a></div></div>
<div class="ttc" id="evalvars_8c_html_aadf792e42dfd9dd639b0e280b31fc9a6"><div class="ttname"><a href="evalvars_8c.html#aadf792e42dfd9dd639b0e280b31fc9a6">redir_endp</a></div><div class="ttdeci">static char_u * redir_endp</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03079">evalvars.c:3079</a></div></div>
<div class="ttc" id="vim_8h_html_a305f8c03e89400344e8629529ddf9197"><div class="ttname"><a href="vim_8h.html#a305f8c03e89400344e8629529ddf9197">VV_TYPE_NUMBER</a></div><div class="ttdeci">#define VV_TYPE_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01974">vim.h:1974</a></div></div>
<div class="ttc" id="structdictitem16___s_html"><div class="ttname"><a href="structdictitem16___s.html">dictitem16_S</a></div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l01430">structs.h:1430</a></div></div>
<div class="ttc" id="evalvars_8c_html_a2888c88e48d39e0b8ed9dd1d9728dcd6"><div class="ttname"><a href="evalvars_8c.html#a2888c88e48d39e0b8ed9dd1d9728dcd6">get_var_special_name</a></div><div class="ttdeci">char * get_var_special_name(int nr)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01871">evalvars.c:1871</a></div></div>
<div class="ttc" id="evalvars_8c_html_ac6fd1c0db202684ad2b4849ac0936066"><div class="ttname"><a href="evalvars_8c.html#ac6fd1c0db202684ad2b4849ac0936066">do_lock_var</a></div><div class="ttdeci">static int do_lock_var(lval_T *lp, char_u *name_end, int deep, int lock)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l01577">evalvars.c:1577</a></div></div>
<div class="ttc" id="evalvars_8c_html_ad83516bfbac6fa4e2bd884c85075fca7"><div class="ttname"><a href="evalvars_8c.html#ad83516bfbac6fa4e2bd884c85075fca7">v_throwpoint</a></div><div class="ttdeci">char_u * v_throwpoint(char_u *oldval)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l02125">evalvars.c:2125</a></div></div>
<div class="ttc" id="structlval___s_html_a67fe97bdfbd3596c36f269712c500603"><div class="ttname"><a href="structlval___s.html#a67fe97bdfbd3596c36f269712c500603">lval_S::ll_di</a></div><div class="ttdeci">dictitem_T * ll_di</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l03762">structs.h:3762</a></div></div>
<div class="ttc" id="vim_8h_html_a4bc37d2ce945e5de8d1d94f338ccd74a"><div class="ttname"><a href="vim_8h.html#a4bc37d2ce945e5de8d1d94f338ccd74a">VVAL_FALSE</a></div><div class="ttdeci">#define VVAL_FALSE</div><div class="ttdef"><b>Definition:</b> <a href="vim_8h_source.html#l01996">vim.h:1996</a></div></div>
<div class="ttc" id="structexarg_html_a4bb83d97549352305801655146c15455"><div class="ttname"><a href="structexarg.html#a4bb83d97549352305801655146c15455">exarg::forceit</a></div><div class="ttdeci">int forceit</div><div class="ttdef"><b>Definition:</b> <a href="ex__cmds_8h_source.html#l01822">ex_cmds.h:1822</a></div></div>
<div class="ttc" id="evalvars_8c_html_a39a6859c293df0a058c931374ff46d76"><div class="ttname"><a href="evalvars_8c.html#a39a6859c293df0a058c931374ff46d76">f_gettabvar</a></div><div class="ttdeci">void f_gettabvar(typval_T *argvars, typval_T *rettv)</div><div class="ttdef"><b>Definition:</b> <a href="evalvars_8c_source.html#l03231">evalvars.c:3231</a></div></div>
<div class="ttc" id="eval_8c_html_a19a75a074684dcefdbd1e4b38021f3b5"><div class="ttname"><a href="eval_8c.html#a19a75a074684dcefdbd1e4b38021f3b5">tv_get_string_chk</a></div><div class="ttdeci">char_u * tv_get_string_chk(typval_T *varp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l05567">eval.c:5567</a></div></div>
<div class="ttc" id="structgrowarray_html_a6737d3d6fada8215cbd56aed057848e9"><div class="ttname"><a href="structgrowarray.html#a6737d3d6fada8215cbd56aed057848e9">growarray::ga_data</a></div><div class="ttdeci">void * ga_data</div><div class="ttdef"><b>Definition:</b> <a href="structs_8h_source.html#l00054">structs.h:54</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
